var AU=Object.defineProperty;var xT=n=>{throw TypeError(n)};var jU=(n,e,t)=>e in n?AU(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ee=(n,e,t)=>jU(n,typeof e!="symbol"?e+"":e,t),HS=(n,e,t)=>e.has(n)||xT("Cannot "+t);var u=(n,e,t)=>(HS(n,e,"read from private field"),t?t.call(n):e.get(n)),E=(n,e,t)=>e.has(n)?xT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),C=(n,e,t,s)=>(HS(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),A=(n,e,t)=>(HS(n,e,"access private method"),t);var nn=(n,e,t,s)=>({set _(r){C(n,e,r,t)},get _(){return u(n,e,s)}});function NU(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function TU(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),t}var kD={exports:{}},w_={},ED={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x=Symbol.for("react.element"),PU=Symbol.for("react.portal"),RU=Symbol.for("react.fragment"),DU=Symbol.for("react.strict_mode"),MU=Symbol.for("react.profiler"),OU=Symbol.for("react.provider"),IU=Symbol.for("react.context"),LU=Symbol.for("react.forward_ref"),FU=Symbol.for("react.suspense"),$U=Symbol.for("react.memo"),BU=Symbol.for("react.lazy"),wT=Symbol.iterator;function zU(n){return n===null||typeof n!="object"?null:(n=wT&&n[wT]||n["@@iterator"],typeof n=="function"?n:null)}var AD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jD=Object.assign,ND={};function Im(n,e,t){this.props=n,this.context=e,this.refs=ND,this.updater=t||AD}Im.prototype.isReactComponent={};Im.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Im.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function TD(){}TD.prototype=Im.prototype;function NA(n,e,t){this.props=n,this.context=e,this.refs=ND,this.updater=t||AD}var TA=NA.prototype=new TD;TA.constructor=NA;jD(TA,Im.prototype);TA.isPureReactComponent=!0;var bT=Array.isArray,PD=Object.prototype.hasOwnProperty,PA={current:null},RD={key:!0,ref:!0,__self:!0,__source:!0};function DD(n,e,t){var s,r={},i=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)PD.call(e,s)&&!RD.hasOwnProperty(s)&&(r[s]=e[s]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var l=Array(o),d=0;d<o;d++)l[d]=arguments[d+2];r.children=l}if(n&&n.defaultProps)for(s in o=n.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return{$$typeof:_x,type:n,key:i,ref:a,props:r,_owner:PA.current}}function UU(n,e){return{$$typeof:_x,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function RA(n){return typeof n=="object"&&n!==null&&n.$$typeof===_x}function VU(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var _T=/\/+/g;function WS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?VU(""+n.key):e.toString(36)}function Gw(n,e,t,s,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case _x:case PU:a=!0}}if(a)return a=n,r=r(a),n=s===""?"."+WS(a,0):s,bT(r)?(t="",n!=null&&(t=n.replace(_T,"$&/")+"/"),Gw(r,e,t,"",function(d){return d})):r!=null&&(RA(r)&&(r=UU(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(_T,"$&/")+"/")+n)),e.push(r)),1;if(a=0,s=s===""?".":s+":",bT(n))for(var o=0;o<n.length;o++){i=n[o];var l=s+WS(i,o);a+=Gw(i,e,t,l,r)}else if(l=zU(n),typeof l=="function")for(n=l.call(n),o=0;!(i=n.next()).done;)i=i.value,l=s+WS(i,o++),a+=Gw(i,e,t,l,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function iw(n,e,t){if(n==null)return n;var s=[],r=0;return Gw(n,s,"","",function(i){return e.call(t,i,r++)}),s}function HU(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Fs={current:null},Yw={transition:null},WU={ReactCurrentDispatcher:Fs,ReactCurrentBatchConfig:Yw,ReactCurrentOwner:PA};function MD(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:iw,forEach:function(n,e,t){iw(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return iw(n,function(){e++}),e},toArray:function(n){return iw(n,function(e){return e})||[]},only:function(n){if(!RA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};tt.Component=Im;tt.Fragment=RU;tt.Profiler=MU;tt.PureComponent=NA;tt.StrictMode=DU;tt.Suspense=FU;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WU;tt.act=MD;tt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=jD({},n.props),r=n.key,i=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=PA.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)PD.call(e,l)&&!RD.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){o=Array(l);for(var d=0;d<l;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:_x,type:n.type,key:r,ref:i,props:s,_owner:a}};tt.createContext=function(n){return n={$$typeof:IU,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:OU,_context:n},n.Consumer=n};tt.createElement=DD;tt.createFactory=function(n){var e=DD.bind(null,n);return e.type=n,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(n){return{$$typeof:LU,render:n}};tt.isValidElement=RA;tt.lazy=function(n){return{$$typeof:BU,_payload:{_status:-1,_result:n},_init:HU}};tt.memo=function(n,e){return{$$typeof:$U,type:n,compare:e===void 0?null:e}};tt.startTransition=function(n){var e=Yw.transition;Yw.transition={};try{n()}finally{Yw.transition=e}};tt.unstable_act=MD;tt.useCallback=function(n,e){return Fs.current.useCallback(n,e)};tt.useContext=function(n){return Fs.current.useContext(n)};tt.useDebugValue=function(){};tt.useDeferredValue=function(n){return Fs.current.useDeferredValue(n)};tt.useEffect=function(n,e){return Fs.current.useEffect(n,e)};tt.useId=function(){return Fs.current.useId()};tt.useImperativeHandle=function(n,e,t){return Fs.current.useImperativeHandle(n,e,t)};tt.useInsertionEffect=function(n,e){return Fs.current.useInsertionEffect(n,e)};tt.useLayoutEffect=function(n,e){return Fs.current.useLayoutEffect(n,e)};tt.useMemo=function(n,e){return Fs.current.useMemo(n,e)};tt.useReducer=function(n,e,t){return Fs.current.useReducer(n,e,t)};tt.useRef=function(n){return Fs.current.useRef(n)};tt.useState=function(n){return Fs.current.useState(n)};tt.useSyncExternalStore=function(n,e,t){return Fs.current.useSyncExternalStore(n,e,t)};tt.useTransition=function(){return Fs.current.useTransition()};tt.version="18.3.1";ED.exports=tt;var v=ED.exports;const G=jA(v),DA=NU({__proto__:null,default:G},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qU=v,GU=Symbol.for("react.element"),YU=Symbol.for("react.fragment"),KU=Object.prototype.hasOwnProperty,XU=qU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QU={key:!0,ref:!0,__self:!0,__source:!0};function OD(n,e,t){var s,r={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)KU.call(e,s)&&!QU.hasOwnProperty(s)&&(r[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:GU,type:n,key:i,ref:a,props:r,_owner:XU.current}}w_.Fragment=YU;w_.jsx=OD;w_.jsxs=OD;kD.exports=w_;var c=kD.exports,ID={exports:{}},Hr={},LD={exports:{}},FD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,L){var K=I.length;I.push(L);e:for(;0<K;){var ie=K-1>>>1,Z=I[ie];if(0<r(Z,L))I[ie]=L,I[K]=Z,K=ie;else break e}}function t(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var L=I[0],K=I.pop();if(K!==L){I[0]=K;e:for(var ie=0,Z=I.length,re=Z>>>1;ie<re;){var he=2*(ie+1)-1,De=I[he],je=he+1,X=I[je];if(0>r(De,K))je<Z&&0>r(X,De)?(I[ie]=X,I[je]=K,ie=je):(I[ie]=De,I[he]=K,ie=he);else if(je<Z&&0>r(X,K))I[ie]=X,I[je]=K,ie=je;else break e}}return L}function r(I,L){var K=I.sortIndex-L.sortIndex;return K!==0?K:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],d=[],h=1,f=null,p=3,m=!1,y=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var L=t(d);L!==null;){if(L.callback===null)s(d);else if(L.startTime<=I)s(d),L.sortIndex=L.expirationTime,e(l,L);else break;L=t(d)}}function S(I){if(g=!1,b(I),!y)if(t(l)!==null)y=!0,z(k);else{var L=t(d);L!==null&&$(S,L.startTime-I)}}function k(I,L){y=!1,g&&(g=!1,w(P),P=-1),m=!0;var K=p;try{for(b(L),f=t(l);f!==null&&(!(f.expirationTime>L)||I&&!F());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,p=f.priorityLevel;var Z=ie(f.expirationTime<=L);L=n.unstable_now(),typeof Z=="function"?f.callback=Z:f===t(l)&&s(l),b(L)}else s(l);f=t(l)}if(f!==null)var re=!0;else{var he=t(d);he!==null&&$(S,he.startTime-L),re=!1}return re}finally{f=null,p=K,m=!1}}var j=!1,N=null,P=-1,D=5,T=-1;function F(){return!(n.unstable_now()-T<D)}function M(){if(N!==null){var I=n.unstable_now();T=I;var L=!0;try{L=N(!0,I)}finally{L?U():(j=!1,N=null)}}else j=!1}var U;if(typeof x=="function")U=function(){x(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,V=R.port2;R.port1.onmessage=M,U=function(){V.postMessage(null)}}else U=function(){_(M,0)};function z(I){N=I,j||(j=!0,U())}function $(I,L){P=_(function(){I(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,z(k))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var K=p;p=L;try{return I()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=p;p=I;try{return L()}finally{p=K}},n.unstable_scheduleCallback=function(I,L,K){var ie=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,I={id:h++,callback:L,priorityLevel:I,startTime:K,expirationTime:Z,sortIndex:-1},K>ie?(I.sortIndex=K,e(d,I),t(l)===null&&I===t(d)&&(g?(w(P),P=-1):g=!0,$(S,K-ie))):(I.sortIndex=Z,e(l,I),y||m||(y=!0,z(k))),I},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(I){var L=p;return function(){var K=p;p=L;try{return I.apply(this,arguments)}finally{p=K}}}})(FD);LD.exports=FD;var ZU=LD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JU=v,zr=ZU;function J(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $D=new Set,rv={};function Rh(n,e){hm(n,e),hm(n+"Capture",e)}function hm(n,e){for(rv[n]=e,n=0;n<e.length;n++)$D.add(e[n])}var hl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lC=Object.prototype.hasOwnProperty,e6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ST={},CT={};function t6(n){return lC.call(CT,n)?!0:lC.call(ST,n)?!1:e6.test(n)?CT[n]=!0:(ST[n]=!0,!1)}function n6(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function s6(n,e,t,s){if(e===null||typeof e>"u"||n6(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $s(n,e,t,s,r,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ls={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ls[n]=new $s(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ls[e]=new $s(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ls[n]=new $s(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ls[n]=new $s(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ls[n]=new $s(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ls[n]=new $s(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ls[n]=new $s(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ls[n]=new $s(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ls[n]=new $s(n,5,!1,n.toLowerCase(),null,!1,!1)});var MA=/[\-:]([a-z])/g;function OA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(MA,OA);ls[e]=new $s(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(MA,OA);ls[e]=new $s(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(MA,OA);ls[e]=new $s(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ls[n]=new $s(n,1,!1,n.toLowerCase(),null,!1,!1)});ls.xlinkHref=new $s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ls[n]=new $s(n,1,!1,n.toLowerCase(),null,!0,!0)});function IA(n,e,t,s){var r=ls.hasOwnProperty(e)?ls[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(s6(e,t,r,s)&&(t=null),s||r===null?t6(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,s=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var bl=JU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aw=Symbol.for("react.element"),pf=Symbol.for("react.portal"),mf=Symbol.for("react.fragment"),LA=Symbol.for("react.strict_mode"),cC=Symbol.for("react.profiler"),BD=Symbol.for("react.provider"),zD=Symbol.for("react.context"),FA=Symbol.for("react.forward_ref"),dC=Symbol.for("react.suspense"),uC=Symbol.for("react.suspense_list"),$A=Symbol.for("react.memo"),$l=Symbol.for("react.lazy"),UD=Symbol.for("react.offscreen"),kT=Symbol.iterator;function Km(n){return n===null||typeof n!="object"?null:(n=kT&&n[kT]||n["@@iterator"],typeof n=="function"?n:null)}var tn=Object.assign,qS;function pg(n){if(qS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);qS=e&&e[1]||""}return`
`+qS+n}var GS=!1;function YS(n,e){if(!n||GS)return"";GS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){s=d}n.call(e.prototype)}else{try{throw Error()}catch(d){s=d}n()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==i[o]){var l=`
`+r[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{GS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?pg(n):""}function r6(n){switch(n.tag){case 5:return pg(n.type);case 16:return pg("Lazy");case 13:return pg("Suspense");case 19:return pg("SuspenseList");case 0:case 2:case 15:return n=YS(n.type,!1),n;case 11:return n=YS(n.type.render,!1),n;case 1:return n=YS(n.type,!0),n;default:return""}}function hC(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case mf:return"Fragment";case pf:return"Portal";case cC:return"Profiler";case LA:return"StrictMode";case dC:return"Suspense";case uC:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case zD:return(n.displayName||"Context")+".Consumer";case BD:return(n._context.displayName||"Context")+".Provider";case FA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $A:return e=n.displayName||null,e!==null?e:hC(n.type)||"Memo";case $l:e=n._payload,n=n._init;try{return hC(n(e))}catch{}}return null}function i6(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hC(e);case 8:return e===LA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ad(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function VD(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a6(n){var e=VD(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ow(n){n._valueTracker||(n._valueTracker=a6(n))}function HD(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=VD(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function Ub(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function fC(n,e){var t=e.checked;return tn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ET(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=ad(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WD(n,e){e=e.checked,e!=null&&IA(n,"checked",e,!1)}function pC(n,e){WD(n,e);var t=ad(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?mC(n,e.type,t):e.hasOwnProperty("defaultValue")&&mC(n,e.type,ad(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function AT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function mC(n,e,t){(e!=="number"||Ub(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var mg=Array.isArray;function Nf(n,e,t,s){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&s&&(n[t].defaultSelected=!0)}else{for(t=""+ad(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,s&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function gC(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return tn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function jT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(J(92));if(mg(t)){if(1<t.length)throw Error(J(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ad(t)}}function qD(n,e){var t=ad(e.value),s=ad(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function NT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function GD(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vC(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?GD(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var lw,YD=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(lw=lw||document.createElement("div"),lw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lw.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function iv(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ug={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o6=["Webkit","ms","Moz","O"];Object.keys(Ug).forEach(function(n){o6.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ug[e]=Ug[n]})});function KD(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ug.hasOwnProperty(n)&&Ug[n]?(""+e).trim():e+"px"}function XD(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,r=KD(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,r):n[t]=r}}var l6=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yC(n,e){if(e){if(l6[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function xC(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wC=null;function BA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bC=null,Tf=null,Pf=null;function TT(n){if(n=kx(n)){if(typeof bC!="function")throw Error(J(280));var e=n.stateNode;e&&(e=k_(e),bC(n.stateNode,n.type,e))}}function QD(n){Tf?Pf?Pf.push(n):Pf=[n]:Tf=n}function ZD(){if(Tf){var n=Tf,e=Pf;if(Pf=Tf=null,TT(n),e)for(n=0;n<e.length;n++)TT(e[n])}}function JD(n,e){return n(e)}function eM(){}var KS=!1;function tM(n,e,t){if(KS)return n(e,t);KS=!0;try{return JD(n,e,t)}finally{KS=!1,(Tf!==null||Pf!==null)&&(eM(),ZD())}}function av(n,e){var t=n.stateNode;if(t===null)return null;var s=k_(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(J(231,e,typeof t));return t}var _C=!1;if(hl)try{var Xm={};Object.defineProperty(Xm,"passive",{get:function(){_C=!0}}),window.addEventListener("test",Xm,Xm),window.removeEventListener("test",Xm,Xm)}catch{_C=!1}function c6(n,e,t,s,r,i,a,o,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(h){this.onError(h)}}var Vg=!1,Vb=null,Hb=!1,SC=null,d6={onError:function(n){Vg=!0,Vb=n}};function u6(n,e,t,s,r,i,a,o,l){Vg=!1,Vb=null,c6.apply(d6,arguments)}function h6(n,e,t,s,r,i,a,o,l){if(u6.apply(this,arguments),Vg){if(Vg){var d=Vb;Vg=!1,Vb=null}else throw Error(J(198));Hb||(Hb=!0,SC=d)}}function Dh(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function nM(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function PT(n){if(Dh(n)!==n)throw Error(J(188))}function f6(n){var e=n.alternate;if(!e){if(e=Dh(n),e===null)throw Error(J(188));return e!==n?null:n}for(var t=n,s=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){t=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return PT(r),n;if(i===s)return PT(r),e;i=i.sibling}throw Error(J(188))}if(t.return!==s.return)t=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,s=i;break}if(o===s){a=!0,s=r,t=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===t){a=!0,t=i,s=r;break}if(o===s){a=!0,s=i,t=r;break}o=o.sibling}if(!a)throw Error(J(189))}}if(t.alternate!==s)throw Error(J(190))}if(t.tag!==3)throw Error(J(188));return t.stateNode.current===t?n:e}function sM(n){return n=f6(n),n!==null?rM(n):null}function rM(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=rM(n);if(e!==null)return e;n=n.sibling}return null}var iM=zr.unstable_scheduleCallback,RT=zr.unstable_cancelCallback,p6=zr.unstable_shouldYield,m6=zr.unstable_requestPaint,un=zr.unstable_now,g6=zr.unstable_getCurrentPriorityLevel,zA=zr.unstable_ImmediatePriority,aM=zr.unstable_UserBlockingPriority,Wb=zr.unstable_NormalPriority,v6=zr.unstable_LowPriority,oM=zr.unstable_IdlePriority,b_=null,qa=null;function y6(n){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(b_,n,void 0,(n.current.flags&128)===128)}catch{}}var Gi=Math.clz32?Math.clz32:b6,x6=Math.log,w6=Math.LN2;function b6(n){return n>>>=0,n===0?32:31-(x6(n)/w6|0)|0}var cw=64,dw=4194304;function gg(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qb(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,r=n.suspendedLanes,i=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?s=gg(o):(i&=a,i!==0&&(s=gg(i)))}else a=t&~r,a!==0?s=gg(a):i!==0&&(s=gg(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-Gi(e),r=1<<t,s|=n[t],e&=~r;return s}function _6(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S6(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var a=31-Gi(i),o=1<<a,l=r[a];l===-1?(!(o&t)||o&s)&&(r[a]=_6(o,e)):l<=e&&(n.expiredLanes|=o),i&=~o}}function CC(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function lM(){var n=cw;return cw<<=1,!(cw&4194240)&&(cw=64),n}function XS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Sx(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Gi(e),n[e]=t}function C6(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Gi(t),i=1<<r;e[r]=0,s[r]=-1,n[r]=-1,t&=~i}}function UA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-Gi(t),r=1<<s;r&e|n[s]&e&&(n[s]|=e),t&=~r}}var bt=0;function cM(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var dM,VA,uM,hM,fM,kC=!1,uw=[],Kc=null,Xc=null,Qc=null,ov=new Map,lv=new Map,Ul=[],k6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DT(n,e){switch(n){case"focusin":case"focusout":Kc=null;break;case"dragenter":case"dragleave":Xc=null;break;case"mouseover":case"mouseout":Qc=null;break;case"pointerover":case"pointerout":ov.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lv.delete(e.pointerId)}}function Qm(n,e,t,s,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=kx(e),e!==null&&VA(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function E6(n,e,t,s,r){switch(e){case"focusin":return Kc=Qm(Kc,n,e,t,s,r),!0;case"dragenter":return Xc=Qm(Xc,n,e,t,s,r),!0;case"mouseover":return Qc=Qm(Qc,n,e,t,s,r),!0;case"pointerover":var i=r.pointerId;return ov.set(i,Qm(ov.get(i)||null,n,e,t,s,r)),!0;case"gotpointercapture":return i=r.pointerId,lv.set(i,Qm(lv.get(i)||null,n,e,t,s,r)),!0}return!1}function pM(n){var e=Kd(n.target);if(e!==null){var t=Dh(e);if(t!==null){if(e=t.tag,e===13){if(e=nM(t),e!==null){n.blockedOn=e,fM(n.priority,function(){uM(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kw(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=EC(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);wC=s,t.target.dispatchEvent(s),wC=null}else return e=kx(t),e!==null&&VA(e),n.blockedOn=t,!1;e.shift()}return!0}function MT(n,e,t){Kw(n)&&t.delete(e)}function A6(){kC=!1,Kc!==null&&Kw(Kc)&&(Kc=null),Xc!==null&&Kw(Xc)&&(Xc=null),Qc!==null&&Kw(Qc)&&(Qc=null),ov.forEach(MT),lv.forEach(MT)}function Zm(n,e){n.blockedOn===e&&(n.blockedOn=null,kC||(kC=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,A6)))}function cv(n){function e(r){return Zm(r,n)}if(0<uw.length){Zm(uw[0],n);for(var t=1;t<uw.length;t++){var s=uw[t];s.blockedOn===n&&(s.blockedOn=null)}}for(Kc!==null&&Zm(Kc,n),Xc!==null&&Zm(Xc,n),Qc!==null&&Zm(Qc,n),ov.forEach(e),lv.forEach(e),t=0;t<Ul.length;t++)s=Ul[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<Ul.length&&(t=Ul[0],t.blockedOn===null);)pM(t),t.blockedOn===null&&Ul.shift()}var Rf=bl.ReactCurrentBatchConfig,Gb=!0;function j6(n,e,t,s){var r=bt,i=Rf.transition;Rf.transition=null;try{bt=1,HA(n,e,t,s)}finally{bt=r,Rf.transition=i}}function N6(n,e,t,s){var r=bt,i=Rf.transition;Rf.transition=null;try{bt=4,HA(n,e,t,s)}finally{bt=r,Rf.transition=i}}function HA(n,e,t,s){if(Gb){var r=EC(n,e,t,s);if(r===null)a1(n,e,s,Yb,t),DT(n,s);else if(E6(r,n,e,t,s))s.stopPropagation();else if(DT(n,s),e&4&&-1<k6.indexOf(n)){for(;r!==null;){var i=kx(r);if(i!==null&&dM(i),i=EC(n,e,t,s),i===null&&a1(n,e,s,Yb,t),i===r)break;r=i}r!==null&&s.stopPropagation()}else a1(n,e,s,null,t)}}var Yb=null;function EC(n,e,t,s){if(Yb=null,n=BA(s),n=Kd(n),n!==null)if(e=Dh(n),e===null)n=null;else if(t=e.tag,t===13){if(n=nM(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Yb=n,null}function mM(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g6()){case zA:return 1;case aM:return 4;case Wb:case v6:return 16;case oM:return 536870912;default:return 16}default:return 16}}var qc=null,WA=null,Xw=null;function gM(){if(Xw)return Xw;var n,e=WA,t=e.length,s,r="value"in qc?qc.value:qc.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(s=1;s<=a&&e[t-s]===r[i-s];s++);return Xw=r.slice(n,1<s?1-s:void 0)}function Qw(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function hw(){return!0}function OT(){return!1}function Wr(n){function e(t,s,r,i,a){this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hw:OT,this.isPropagationStopped=OT,this}return tn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=hw)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=hw)},persist:function(){},isPersistent:hw}),e}var Lm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qA=Wr(Lm),Cx=tn({},Lm,{view:0,detail:0}),T6=Wr(Cx),QS,ZS,Jm,__=tn({},Cx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Jm&&(Jm&&n.type==="mousemove"?(QS=n.screenX-Jm.screenX,ZS=n.screenY-Jm.screenY):ZS=QS=0,Jm=n),QS)},movementY:function(n){return"movementY"in n?n.movementY:ZS}}),IT=Wr(__),P6=tn({},__,{dataTransfer:0}),R6=Wr(P6),D6=tn({},Cx,{relatedTarget:0}),JS=Wr(D6),M6=tn({},Lm,{animationName:0,elapsedTime:0,pseudoElement:0}),O6=Wr(M6),I6=tn({},Lm,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),L6=Wr(I6),F6=tn({},Lm,{data:0}),LT=Wr(F6),$6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=z6[n])?!!e[n]:!1}function GA(){return U6}var V6=tn({},Cx,{key:function(n){if(n.key){var e=$6[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Qw(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?B6[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GA,charCode:function(n){return n.type==="keypress"?Qw(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Qw(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),H6=Wr(V6),W6=tn({},__,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FT=Wr(W6),q6=tn({},Cx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GA}),G6=Wr(q6),Y6=tn({},Lm,{propertyName:0,elapsedTime:0,pseudoElement:0}),K6=Wr(Y6),X6=tn({},__,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Q6=Wr(X6),Z6=[9,13,27,32],YA=hl&&"CompositionEvent"in window,Hg=null;hl&&"documentMode"in document&&(Hg=document.documentMode);var J6=hl&&"TextEvent"in window&&!Hg,vM=hl&&(!YA||Hg&&8<Hg&&11>=Hg),$T=" ",BT=!1;function yM(n,e){switch(n){case"keyup":return Z6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xM(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gf=!1;function eV(n,e){switch(n){case"compositionend":return xM(e);case"keypress":return e.which!==32?null:(BT=!0,$T);case"textInput":return n=e.data,n===$T&&BT?null:n;default:return null}}function tV(n,e){if(gf)return n==="compositionend"||!YA&&yM(n,e)?(n=gM(),Xw=WA=qc=null,gf=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vM&&e.locale!=="ko"?null:e.data;default:return null}}var nV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!nV[n.type]:e==="textarea"}function wM(n,e,t,s){QD(s),e=Kb(e,"onChange"),0<e.length&&(t=new qA("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Wg=null,dv=null;function sV(n){PM(n,0)}function S_(n){var e=xf(n);if(HD(e))return n}function rV(n,e){if(n==="change")return e}var bM=!1;if(hl){var e1;if(hl){var t1="oninput"in document;if(!t1){var UT=document.createElement("div");UT.setAttribute("oninput","return;"),t1=typeof UT.oninput=="function"}e1=t1}else e1=!1;bM=e1&&(!document.documentMode||9<document.documentMode)}function VT(){Wg&&(Wg.detachEvent("onpropertychange",_M),dv=Wg=null)}function _M(n){if(n.propertyName==="value"&&S_(dv)){var e=[];wM(e,dv,n,BA(n)),tM(sV,e)}}function iV(n,e,t){n==="focusin"?(VT(),Wg=e,dv=t,Wg.attachEvent("onpropertychange",_M)):n==="focusout"&&VT()}function aV(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return S_(dv)}function oV(n,e){if(n==="click")return S_(e)}function lV(n,e){if(n==="input"||n==="change")return S_(e)}function cV(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Xi=typeof Object.is=="function"?Object.is:cV;function uv(n,e){if(Xi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var r=t[s];if(!lC.call(e,r)||!Xi(n[r],e[r]))return!1}return!0}function HT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function WT(n,e){var t=HT(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=HT(t)}}function SM(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?SM(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function CM(){for(var n=window,e=Ub();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ub(n.document)}return e}function KA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function dV(n){var e=CM(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&SM(t.ownerDocument.documentElement,t)){if(s!==null&&KA(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!n.extend&&i>s&&(r=s,s=i,i=r),r=WT(t,i);var a=WT(t,s);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>s?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var uV=hl&&"documentMode"in document&&11>=document.documentMode,vf=null,AC=null,qg=null,jC=!1;function qT(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;jC||vf==null||vf!==Ub(s)||(s=vf,"selectionStart"in s&&KA(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),qg&&uv(qg,s)||(qg=s,s=Kb(AC,"onSelect"),0<s.length&&(e=new qA("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=vf)))}function fw(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var yf={animationend:fw("Animation","AnimationEnd"),animationiteration:fw("Animation","AnimationIteration"),animationstart:fw("Animation","AnimationStart"),transitionend:fw("Transition","TransitionEnd")},n1={},kM={};hl&&(kM=document.createElement("div").style,"AnimationEvent"in window||(delete yf.animationend.animation,delete yf.animationiteration.animation,delete yf.animationstart.animation),"TransitionEvent"in window||delete yf.transitionend.transition);function C_(n){if(n1[n])return n1[n];if(!yf[n])return n;var e=yf[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in kM)return n1[n]=e[t];return n}var EM=C_("animationend"),AM=C_("animationiteration"),jM=C_("animationstart"),NM=C_("transitionend"),TM=new Map,GT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bd(n,e){TM.set(n,e),Rh(e,[n])}for(var s1=0;s1<GT.length;s1++){var r1=GT[s1],hV=r1.toLowerCase(),fV=r1[0].toUpperCase()+r1.slice(1);bd(hV,"on"+fV)}bd(EM,"onAnimationEnd");bd(AM,"onAnimationIteration");bd(jM,"onAnimationStart");bd("dblclick","onDoubleClick");bd("focusin","onFocus");bd("focusout","onBlur");bd(NM,"onTransitionEnd");hm("onMouseEnter",["mouseout","mouseover"]);hm("onMouseLeave",["mouseout","mouseover"]);hm("onPointerEnter",["pointerout","pointerover"]);hm("onPointerLeave",["pointerout","pointerover"]);Rh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pV=new Set("cancel close invalid load scroll toggle".split(" ").concat(vg));function YT(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,h6(s,e,void 0,n),n.currentTarget=null}function PM(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,d=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;YT(r,o,d),i=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,d=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;YT(r,o,d),i=l}}}if(Hb)throw n=SC,Hb=!1,SC=null,n}function Mt(n,e){var t=e[DC];t===void 0&&(t=e[DC]=new Set);var s=n+"__bubble";t.has(s)||(RM(e,n,2,!1),t.add(s))}function i1(n,e,t){var s=0;e&&(s|=4),RM(t,n,s,e)}var pw="_reactListening"+Math.random().toString(36).slice(2);function hv(n){if(!n[pw]){n[pw]=!0,$D.forEach(function(t){t!=="selectionchange"&&(pV.has(t)||i1(t,!1,n),i1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[pw]||(e[pw]=!0,i1("selectionchange",!1,e))}}function RM(n,e,t,s){switch(mM(e)){case 1:var r=j6;break;case 4:r=N6;break;default:r=HA}t=r.bind(null,e,t,n),r=void 0,!_C||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function a1(n,e,t,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=Kd(o),a===null)return;if(l=a.tag,l===5||l===6){s=i=a;continue e}o=o.parentNode}}s=s.return}tM(function(){var d=i,h=BA(t),f=[];e:{var p=TM.get(n);if(p!==void 0){var m=qA,y=n;switch(n){case"keypress":if(Qw(t)===0)break e;case"keydown":case"keyup":m=H6;break;case"focusin":y="focus",m=JS;break;case"focusout":y="blur",m=JS;break;case"beforeblur":case"afterblur":m=JS;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=IT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=G6;break;case EM:case AM:case jM:m=O6;break;case NM:m=K6;break;case"scroll":m=T6;break;case"wheel":m=Q6;break;case"copy":case"cut":case"paste":m=L6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=FT}var g=(e&4)!==0,_=!g&&n==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var x=d,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,w!==null&&(S=av(x,w),S!=null&&g.push(fv(x,S,b)))),_)break;x=x.return}0<g.length&&(p=new m(p,y,null,t,h),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==wC&&(y=t.relatedTarget||t.fromElement)&&(Kd(y)||y[fl]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=d,y=y?Kd(y):null,y!==null&&(_=Dh(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=d),m!==y)){if(g=IT,S="onMouseLeave",w="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(g=FT,S="onPointerLeave",w="onPointerEnter",x="pointer"),_=m==null?p:xf(m),b=y==null?p:xf(y),p=new g(S,x+"leave",m,t,h),p.target=_,p.relatedTarget=b,S=null,Kd(h)===d&&(g=new g(w,x+"enter",y,t,h),g.target=b,g.relatedTarget=_,S=g),_=S,m&&y)t:{for(g=m,w=y,x=0,b=g;b;b=Vh(b))x++;for(b=0,S=w;S;S=Vh(S))b++;for(;0<x-b;)g=Vh(g),x--;for(;0<b-x;)w=Vh(w),b--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=Vh(g),w=Vh(w)}g=null}else g=null;m!==null&&KT(f,p,m,g,!1),y!==null&&_!==null&&KT(f,_,y,g,!0)}}e:{if(p=d?xf(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=rV;else if(zT(p))if(bM)k=lV;else{k=aV;var j=iV}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=oV);if(k&&(k=k(n,d))){wM(f,k,t,h);break e}j&&j(n,p,d),n==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&mC(p,"number",p.value)}switch(j=d?xf(d):window,n){case"focusin":(zT(j)||j.contentEditable==="true")&&(vf=j,AC=d,qg=null);break;case"focusout":qg=AC=vf=null;break;case"mousedown":jC=!0;break;case"contextmenu":case"mouseup":case"dragend":jC=!1,qT(f,t,h);break;case"selectionchange":if(uV)break;case"keydown":case"keyup":qT(f,t,h)}var N;if(YA)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else gf?yM(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(vM&&t.locale!=="ko"&&(gf||P!=="onCompositionStart"?P==="onCompositionEnd"&&gf&&(N=gM()):(qc=h,WA="value"in qc?qc.value:qc.textContent,gf=!0)),j=Kb(d,P),0<j.length&&(P=new LT(P,n,null,t,h),f.push({event:P,listeners:j}),N?P.data=N:(N=xM(t),N!==null&&(P.data=N)))),(N=J6?eV(n,t):tV(n,t))&&(d=Kb(d,"onBeforeInput"),0<d.length&&(h=new LT("onBeforeInput","beforeinput",null,t,h),f.push({event:h,listeners:d}),h.data=N))}PM(f,e)})}function fv(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Kb(n,e){for(var t=e+"Capture",s=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=av(n,t),i!=null&&s.unshift(fv(n,i,r)),i=av(n,e),i!=null&&s.push(fv(n,i,r))),n=n.return}return s}function Vh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function KT(n,e,t,s,r){for(var i=e._reactName,a=[];t!==null&&t!==s;){var o=t,l=o.alternate,d=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&d!==null&&(o=d,r?(l=av(t,i),l!=null&&a.unshift(fv(t,l,o))):r||(l=av(t,i),l!=null&&a.push(fv(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var mV=/\r\n?/g,gV=/\u0000|\uFFFD/g;function XT(n){return(typeof n=="string"?n:""+n).replace(mV,`
`).replace(gV,"")}function mw(n,e,t){if(e=XT(e),XT(n)!==e&&t)throw Error(J(425))}function Xb(){}var NC=null,TC=null;function PC(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var RC=typeof setTimeout=="function"?setTimeout:void 0,vV=typeof clearTimeout=="function"?clearTimeout:void 0,QT=typeof Promise=="function"?Promise:void 0,yV=typeof queueMicrotask=="function"?queueMicrotask:typeof QT<"u"?function(n){return QT.resolve(null).then(n).catch(xV)}:RC;function xV(n){setTimeout(function(){throw n})}function o1(n,e){var t=e,s=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(s===0){n.removeChild(r),cv(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=r}while(t);cv(e)}function Zc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function ZT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Fm=Math.random().toString(36).slice(2),Fa="__reactFiber$"+Fm,pv="__reactProps$"+Fm,fl="__reactContainer$"+Fm,DC="__reactEvents$"+Fm,wV="__reactListeners$"+Fm,bV="__reactHandles$"+Fm;function Kd(n){var e=n[Fa];if(e)return e;for(var t=n.parentNode;t;){if(e=t[fl]||t[Fa]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=ZT(n);n!==null;){if(t=n[Fa])return t;n=ZT(n)}return e}n=t,t=n.parentNode}return null}function kx(n){return n=n[Fa]||n[fl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function xf(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(J(33))}function k_(n){return n[pv]||null}var MC=[],wf=-1;function _d(n){return{current:n}}function Bt(n){0>wf||(n.current=MC[wf],MC[wf]=null,wf--)}function Tt(n,e){wf++,MC[wf]=n.current,n.current=e}var od={},xs=_d(od),nr=_d(!1),fh=od;function fm(n,e){var t=n.type.contextTypes;if(!t)return od;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function sr(n){return n=n.childContextTypes,n!=null}function Qb(){Bt(nr),Bt(xs)}function JT(n,e,t){if(xs.current!==od)throw Error(J(168));Tt(xs,e),Tt(nr,t)}function DM(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(J(108,i6(n)||"Unknown",r));return tn({},t,s)}function Zb(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||od,fh=xs.current,Tt(xs,n),Tt(nr,nr.current),!0}function eP(n,e,t){var s=n.stateNode;if(!s)throw Error(J(169));t?(n=DM(n,e,fh),s.__reactInternalMemoizedMergedChildContext=n,Bt(nr),Bt(xs),Tt(xs,n)):Bt(nr),Tt(nr,t)}var yo=null,E_=!1,l1=!1;function MM(n){yo===null?yo=[n]:yo.push(n)}function _V(n){E_=!0,MM(n)}function Sd(){if(!l1&&yo!==null){l1=!0;var n=0,e=bt;try{var t=yo;for(bt=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}yo=null,E_=!1}catch(r){throw yo!==null&&(yo=yo.slice(n+1)),iM(zA,Sd),r}finally{bt=e,l1=!1}}return null}var bf=[],_f=0,Jb=null,e0=0,ri=[],ii=0,ph=null,al=1,ol="";function Ld(n,e){bf[_f++]=e0,bf[_f++]=Jb,Jb=n,e0=e}function OM(n,e,t){ri[ii++]=al,ri[ii++]=ol,ri[ii++]=ph,ph=n;var s=al;n=ol;var r=32-Gi(s)-1;s&=~(1<<r),t+=1;var i=32-Gi(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,al=1<<32-Gi(e)+r|t<<r|s,ol=i+n}else al=1<<i|t<<r|s,ol=n}function XA(n){n.return!==null&&(Ld(n,1),OM(n,1,0))}function QA(n){for(;n===Jb;)Jb=bf[--_f],bf[_f]=null,e0=bf[--_f],bf[_f]=null;for(;n===ph;)ph=ri[--ii],ri[ii]=null,ol=ri[--ii],ri[ii]=null,al=ri[--ii],ri[ii]=null}var Fr=null,Lr=null,Yt=!1,Vi=null;function IM(n,e){var t=li(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function tP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Fr=n,Lr=Zc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Fr=n,Lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ph!==null?{id:al,overflow:ol}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=li(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Fr=n,Lr=null,!0):!1;default:return!1}}function OC(n){return(n.mode&1)!==0&&(n.flags&128)===0}function IC(n){if(Yt){var e=Lr;if(e){var t=e;if(!tP(n,e)){if(OC(n))throw Error(J(418));e=Zc(t.nextSibling);var s=Fr;e&&tP(n,e)?IM(s,t):(n.flags=n.flags&-4097|2,Yt=!1,Fr=n)}}else{if(OC(n))throw Error(J(418));n.flags=n.flags&-4097|2,Yt=!1,Fr=n}}}function nP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Fr=n}function gw(n){if(n!==Fr)return!1;if(!Yt)return nP(n),Yt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!PC(n.type,n.memoizedProps)),e&&(e=Lr)){if(OC(n))throw LM(),Error(J(418));for(;e;)IM(n,e),e=Zc(e.nextSibling)}if(nP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(J(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Lr=Zc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Lr=null}}else Lr=Fr?Zc(n.stateNode.nextSibling):null;return!0}function LM(){for(var n=Lr;n;)n=Zc(n.nextSibling)}function pm(){Lr=Fr=null,Yt=!1}function ZA(n){Vi===null?Vi=[n]:Vi.push(n)}var SV=bl.ReactCurrentBatchConfig;function eg(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(J(309));var s=t.stateNode}if(!s)throw Error(J(147,n));var r=s,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=r.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof n!="string")throw Error(J(284));if(!t._owner)throw Error(J(290,n))}return n}function vw(n,e){throw n=Object.prototype.toString.call(e),Error(J(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function sP(n){var e=n._init;return e(n._payload)}function FM(n){function e(w,x){if(n){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function t(w,x){if(!n)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function s(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function r(w,x){return w=nd(w,x),w.index=0,w.sibling=null,w}function i(w,x,b){return w.index=b,n?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return n&&w.alternate===null&&(w.flags|=2),w}function o(w,x,b,S){return x===null||x.tag!==6?(x=m1(b,w.mode,S),x.return=w,x):(x=r(x,b),x.return=w,x)}function l(w,x,b,S){var k=b.type;return k===mf?h(w,x,b.props.children,S,b.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===$l&&sP(k)===x.type)?(S=r(x,b.props),S.ref=eg(w,x,b),S.return=w,S):(S=rb(b.type,b.key,b.props,null,w.mode,S),S.ref=eg(w,x,b),S.return=w,S)}function d(w,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=g1(b,w.mode,S),x.return=w,x):(x=r(x,b.children||[]),x.return=w,x)}function h(w,x,b,S,k){return x===null||x.tag!==7?(x=uh(b,w.mode,S,k),x.return=w,x):(x=r(x,b),x.return=w,x)}function f(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=m1(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case aw:return b=rb(x.type,x.key,x.props,null,w.mode,b),b.ref=eg(w,null,x),b.return=w,b;case pf:return x=g1(x,w.mode,b),x.return=w,x;case $l:var S=x._init;return f(w,S(x._payload),b)}if(mg(x)||Km(x))return x=uh(x,w.mode,b,null),x.return=w,x;vw(w,x)}return null}function p(w,x,b,S){var k=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(w,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case aw:return b.key===k?l(w,x,b,S):null;case pf:return b.key===k?d(w,x,b,S):null;case $l:return k=b._init,p(w,x,k(b._payload),S)}if(mg(b)||Km(b))return k!==null?null:h(w,x,b,S,null);vw(w,b)}return null}function m(w,x,b,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(b)||null,o(x,w,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case aw:return w=w.get(S.key===null?b:S.key)||null,l(x,w,S,k);case pf:return w=w.get(S.key===null?b:S.key)||null,d(x,w,S,k);case $l:var j=S._init;return m(w,x,b,j(S._payload),k)}if(mg(S)||Km(S))return w=w.get(b)||null,h(x,w,S,k,null);vw(x,S)}return null}function y(w,x,b,S){for(var k=null,j=null,N=x,P=x=0,D=null;N!==null&&P<b.length;P++){N.index>P?(D=N,N=null):D=N.sibling;var T=p(w,N,b[P],S);if(T===null){N===null&&(N=D);break}n&&N&&T.alternate===null&&e(w,N),x=i(T,x,P),j===null?k=T:j.sibling=T,j=T,N=D}if(P===b.length)return t(w,N),Yt&&Ld(w,P),k;if(N===null){for(;P<b.length;P++)N=f(w,b[P],S),N!==null&&(x=i(N,x,P),j===null?k=N:j.sibling=N,j=N);return Yt&&Ld(w,P),k}for(N=s(w,N);P<b.length;P++)D=m(N,w,P,b[P],S),D!==null&&(n&&D.alternate!==null&&N.delete(D.key===null?P:D.key),x=i(D,x,P),j===null?k=D:j.sibling=D,j=D);return n&&N.forEach(function(F){return e(w,F)}),Yt&&Ld(w,P),k}function g(w,x,b,S){var k=Km(b);if(typeof k!="function")throw Error(J(150));if(b=k.call(b),b==null)throw Error(J(151));for(var j=k=null,N=x,P=x=0,D=null,T=b.next();N!==null&&!T.done;P++,T=b.next()){N.index>P?(D=N,N=null):D=N.sibling;var F=p(w,N,T.value,S);if(F===null){N===null&&(N=D);break}n&&N&&F.alternate===null&&e(w,N),x=i(F,x,P),j===null?k=F:j.sibling=F,j=F,N=D}if(T.done)return t(w,N),Yt&&Ld(w,P),k;if(N===null){for(;!T.done;P++,T=b.next())T=f(w,T.value,S),T!==null&&(x=i(T,x,P),j===null?k=T:j.sibling=T,j=T);return Yt&&Ld(w,P),k}for(N=s(w,N);!T.done;P++,T=b.next())T=m(N,w,P,T.value,S),T!==null&&(n&&T.alternate!==null&&N.delete(T.key===null?P:T.key),x=i(T,x,P),j===null?k=T:j.sibling=T,j=T);return n&&N.forEach(function(M){return e(w,M)}),Yt&&Ld(w,P),k}function _(w,x,b,S){if(typeof b=="object"&&b!==null&&b.type===mf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case aw:e:{for(var k=b.key,j=x;j!==null;){if(j.key===k){if(k=b.type,k===mf){if(j.tag===7){t(w,j.sibling),x=r(j,b.props.children),x.return=w,w=x;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===$l&&sP(k)===j.type){t(w,j.sibling),x=r(j,b.props),x.ref=eg(w,j,b),x.return=w,w=x;break e}t(w,j);break}else e(w,j);j=j.sibling}b.type===mf?(x=uh(b.props.children,w.mode,S,b.key),x.return=w,w=x):(S=rb(b.type,b.key,b.props,null,w.mode,S),S.ref=eg(w,x,b),S.return=w,w=S)}return a(w);case pf:e:{for(j=b.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){t(w,x.sibling),x=r(x,b.children||[]),x.return=w,w=x;break e}else{t(w,x);break}else e(w,x);x=x.sibling}x=g1(b,w.mode,S),x.return=w,w=x}return a(w);case $l:return j=b._init,_(w,x,j(b._payload),S)}if(mg(b))return y(w,x,b,S);if(Km(b))return g(w,x,b,S);vw(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(t(w,x.sibling),x=r(x,b),x.return=w,w=x):(t(w,x),x=m1(b,w.mode,S),x.return=w,w=x),a(w)):t(w,x)}return _}var mm=FM(!0),$M=FM(!1),t0=_d(null),n0=null,Sf=null,JA=null;function ej(){JA=Sf=n0=null}function tj(n){var e=t0.current;Bt(t0),n._currentValue=e}function LC(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function Df(n,e){n0=n,JA=Sf=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(er=!0),n.firstContext=null)}function fi(n){var e=n._currentValue;if(JA!==n)if(n={context:n,memoizedValue:e,next:null},Sf===null){if(n0===null)throw Error(J(308));Sf=n,n0.dependencies={lanes:0,firstContext:n}}else Sf=Sf.next=n;return e}var Xd=null;function nj(n){Xd===null?Xd=[n]:Xd.push(n)}function BM(n,e,t,s){var r=e.interleaved;return r===null?(t.next=t,nj(e)):(t.next=r.next,r.next=t),e.interleaved=t,pl(n,s)}function pl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Bl=!1;function sj(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zM(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function cl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Jc(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,rt&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,pl(n,t)}return r=s.interleaved,r===null?(e.next=e,nj(s)):(e.next=r.next,r.next=e),s.interleaved=e,pl(n,t)}function Zw(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,UA(n,t)}}function rP(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function s0(n,e,t,s){var r=n.updateQueue;Bl=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,d=l.next;l.next=null,a===null?i=d:a.next=d,a=l;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=r.baseState;a=0,h=d=l=null,o=i;do{var p=o.lane,m=o.eventTime;if((s&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=n,g=o;switch(p=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=tn({},f,p);break e;case 2:Bl=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(d=h=m,l=f):h=h.next=m,a|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;p=o,o=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(l=f),r.baseState=l,r.firstBaseUpdate=d,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);gh|=a,n.lanes=a,n.memoizedState=f}}function iP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],r=s.callback;if(r!==null){if(s.callback=null,s=t,typeof r!="function")throw Error(J(191,r));r.call(s)}}}var Ex={},Ga=_d(Ex),mv=_d(Ex),gv=_d(Ex);function Qd(n){if(n===Ex)throw Error(J(174));return n}function rj(n,e){switch(Tt(gv,e),Tt(mv,n),Tt(Ga,Ex),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vC(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=vC(e,n)}Bt(Ga),Tt(Ga,e)}function gm(){Bt(Ga),Bt(mv),Bt(gv)}function UM(n){Qd(gv.current);var e=Qd(Ga.current),t=vC(e,n.type);e!==t&&(Tt(mv,n),Tt(Ga,t))}function ij(n){mv.current===n&&(Bt(Ga),Bt(mv))}var Jt=_d(0);function r0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c1=[];function aj(){for(var n=0;n<c1.length;n++)c1[n]._workInProgressVersionPrimary=null;c1.length=0}var Jw=bl.ReactCurrentDispatcher,d1=bl.ReactCurrentBatchConfig,mh=0,en=null,Mn=null,Wn=null,i0=!1,Gg=!1,vv=0,CV=0;function hs(){throw Error(J(321))}function oj(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Xi(n[t],e[t]))return!1;return!0}function lj(n,e,t,s,r,i){if(mh=i,en=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jw.current=n===null||n.memoizedState===null?jV:NV,n=t(s,r),Gg){i=0;do{if(Gg=!1,vv=0,25<=i)throw Error(J(301));i+=1,Wn=Mn=null,e.updateQueue=null,Jw.current=TV,n=t(s,r)}while(Gg)}if(Jw.current=a0,e=Mn!==null&&Mn.next!==null,mh=0,Wn=Mn=en=null,i0=!1,e)throw Error(J(300));return n}function cj(){var n=vv!==0;return vv=0,n}function ha(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?en.memoizedState=Wn=n:Wn=Wn.next=n,Wn}function pi(){if(Mn===null){var n=en.alternate;n=n!==null?n.memoizedState:null}else n=Mn.next;var e=Wn===null?en.memoizedState:Wn.next;if(e!==null)Wn=e,Mn=n;else{if(n===null)throw Error(J(310));Mn=n,n={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Wn===null?en.memoizedState=Wn=n:Wn=Wn.next=n}return Wn}function yv(n,e){return typeof e=="function"?e(n):e}function u1(n){var e=pi(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var s=Mn,r=s.baseQueue,i=t.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,s=s.baseState;var o=a=null,l=null,d=i;do{var h=d.lane;if((mh&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:n(s,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(o=l=f,a=s):l=l.next=f,en.lanes|=h,gh|=h}d=d.next}while(d!==null&&d!==i);l===null?a=s:l.next=o,Xi(s,e.memoizedState)||(er=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=l,t.lastRenderedState=s}if(n=t.interleaved,n!==null){r=n;do i=r.lane,en.lanes|=i,gh|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function h1(n){var e=pi(),t=e.queue;if(t===null)throw Error(J(311));t.lastRenderedReducer=n;var s=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do i=n(i,a.action),a=a.next;while(a!==r);Xi(i,e.memoizedState)||(er=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,s]}function VM(){}function HM(n,e){var t=en,s=pi(),r=e(),i=!Xi(s.memoizedState,r);if(i&&(s.memoizedState=r,er=!0),s=s.queue,dj(GM.bind(null,t,s,n),[n]),s.getSnapshot!==e||i||Wn!==null&&Wn.memoizedState.tag&1){if(t.flags|=2048,xv(9,qM.bind(null,t,s,r,e),void 0,null),qn===null)throw Error(J(349));mh&30||WM(t,e,r)}return r}function WM(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function qM(n,e,t,s){e.value=t,e.getSnapshot=s,YM(e)&&KM(n)}function GM(n,e,t){return t(function(){YM(e)&&KM(n)})}function YM(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Xi(n,t)}catch{return!0}}function KM(n){var e=pl(n,1);e!==null&&Yi(e,n,1,-1)}function aP(n){var e=ha();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:n},e.queue=n,n=n.dispatch=AV.bind(null,en,n),[e.memoizedState,n]}function xv(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=en.updateQueue,e===null?(e={lastEffect:null,stores:null},en.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function XM(){return pi().memoizedState}function eb(n,e,t,s){var r=ha();en.flags|=n,r.memoizedState=xv(1|e,t,void 0,s===void 0?null:s)}function A_(n,e,t,s){var r=pi();s=s===void 0?null:s;var i=void 0;if(Mn!==null){var a=Mn.memoizedState;if(i=a.destroy,s!==null&&oj(s,a.deps)){r.memoizedState=xv(e,t,i,s);return}}en.flags|=n,r.memoizedState=xv(1|e,t,i,s)}function oP(n,e){return eb(8390656,8,n,e)}function dj(n,e){return A_(2048,8,n,e)}function QM(n,e){return A_(4,2,n,e)}function ZM(n,e){return A_(4,4,n,e)}function JM(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function eO(n,e,t){return t=t!=null?t.concat([n]):null,A_(4,4,JM.bind(null,e,n),t)}function uj(){}function tO(n,e){var t=pi();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&oj(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function nO(n,e){var t=pi();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&oj(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function sO(n,e,t){return mh&21?(Xi(t,e)||(t=lM(),en.lanes|=t,gh|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,er=!0),n.memoizedState=t)}function kV(n,e){var t=bt;bt=t!==0&&4>t?t:4,n(!0);var s=d1.transition;d1.transition={};try{n(!1),e()}finally{bt=t,d1.transition=s}}function rO(){return pi().memoizedState}function EV(n,e,t){var s=td(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},iO(n))aO(e,t);else if(t=BM(n,e,t,s),t!==null){var r=Is();Yi(t,n,s,r),oO(t,e,s)}}function AV(n,e,t){var s=td(n),r={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(iO(n))aO(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,t);if(r.hasEagerState=!0,r.eagerState=o,Xi(o,a)){var l=e.interleaved;l===null?(r.next=r,nj(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=BM(n,e,r,s),t!==null&&(r=Is(),Yi(t,n,s,r),oO(t,e,s))}}function iO(n){var e=n.alternate;return n===en||e!==null&&e===en}function aO(n,e){Gg=i0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function oO(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,UA(n,t)}}var a0={readContext:fi,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},jV={readContext:fi,useCallback:function(n,e){return ha().memoizedState=[n,e===void 0?null:e],n},useContext:fi,useEffect:oP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,eb(4194308,4,JM.bind(null,e,n),t)},useLayoutEffect:function(n,e){return eb(4194308,4,n,e)},useInsertionEffect:function(n,e){return eb(4,2,n,e)},useMemo:function(n,e){var t=ha();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=ha();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=EV.bind(null,en,n),[s.memoizedState,n]},useRef:function(n){var e=ha();return n={current:n},e.memoizedState=n},useState:aP,useDebugValue:uj,useDeferredValue:function(n){return ha().memoizedState=n},useTransition:function(){var n=aP(!1),e=n[0];return n=kV.bind(null,n[1]),ha().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=en,r=ha();if(Yt){if(t===void 0)throw Error(J(407));t=t()}else{if(t=e(),qn===null)throw Error(J(349));mh&30||WM(s,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,oP(GM.bind(null,s,i,n),[n]),s.flags|=2048,xv(9,qM.bind(null,s,i,t,e),void 0,null),t},useId:function(){var n=ha(),e=qn.identifierPrefix;if(Yt){var t=ol,s=al;t=(s&~(1<<32-Gi(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=vv++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=CV++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},NV={readContext:fi,useCallback:tO,useContext:fi,useEffect:dj,useImperativeHandle:eO,useInsertionEffect:QM,useLayoutEffect:ZM,useMemo:nO,useReducer:u1,useRef:XM,useState:function(){return u1(yv)},useDebugValue:uj,useDeferredValue:function(n){var e=pi();return sO(e,Mn.memoizedState,n)},useTransition:function(){var n=u1(yv)[0],e=pi().memoizedState;return[n,e]},useMutableSource:VM,useSyncExternalStore:HM,useId:rO,unstable_isNewReconciler:!1},TV={readContext:fi,useCallback:tO,useContext:fi,useEffect:dj,useImperativeHandle:eO,useInsertionEffect:QM,useLayoutEffect:ZM,useMemo:nO,useReducer:h1,useRef:XM,useState:function(){return h1(yv)},useDebugValue:uj,useDeferredValue:function(n){var e=pi();return Mn===null?e.memoizedState=n:sO(e,Mn.memoizedState,n)},useTransition:function(){var n=h1(yv)[0],e=pi().memoizedState;return[n,e]},useMutableSource:VM,useSyncExternalStore:HM,useId:rO,unstable_isNewReconciler:!1};function Ai(n,e){if(n&&n.defaultProps){e=tn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function FC(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:tn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var j_={isMounted:function(n){return(n=n._reactInternals)?Dh(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=Is(),r=td(n),i=cl(s,r);i.payload=e,t!=null&&(i.callback=t),e=Jc(n,i,r),e!==null&&(Yi(e,n,r,s),Zw(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=Is(),r=td(n),i=cl(s,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Jc(n,i,r),e!==null&&(Yi(e,n,r,s),Zw(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Is(),s=td(n),r=cl(t,s);r.tag=2,e!=null&&(r.callback=e),e=Jc(n,r,s),e!==null&&(Yi(e,n,s,t),Zw(e,n,s))}};function lP(n,e,t,s,r,i,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!uv(t,s)||!uv(r,i):!0}function lO(n,e,t){var s=!1,r=od,i=e.contextType;return typeof i=="object"&&i!==null?i=fi(i):(r=sr(e)?fh:xs.current,s=e.contextTypes,i=(s=s!=null)?fm(n,r):od),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=j_,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function cP(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&j_.enqueueReplaceState(e,e.state,null)}function $C(n,e,t,s){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},sj(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=fi(i):(i=sr(e)?fh:xs.current,r.context=fm(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(FC(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&j_.enqueueReplaceState(r,r.state,null),s0(n,t,r,s),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function vm(n,e){try{var t="",s=e;do t+=r6(s),s=s.return;while(s);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function f1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function BC(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var PV=typeof WeakMap=="function"?WeakMap:Map;function cO(n,e,t){t=cl(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){l0||(l0=!0,XC=s),BC(n,e)},t}function dO(n,e,t){t=cl(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;t.payload=function(){return s(r)},t.callback=function(){BC(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){BC(n,e),typeof s!="function"&&(ed===null?ed=new Set([this]):ed.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function dP(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new PV;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(t)||(r.add(t),n=WV.bind(null,n,e,t),e.then(n,n))}function uP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function hP(n,e,t,s,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=cl(-1,1),e.tag=2,Jc(t,e,1))),t.lanes|=1),n)}var RV=bl.ReactCurrentOwner,er=!1;function Ps(n,e,t,s){e.child=n===null?$M(e,null,t,s):mm(e,n.child,t,s)}function fP(n,e,t,s,r){t=t.render;var i=e.ref;return Df(e,r),s=lj(n,e,t,s,i,r),t=cj(),n!==null&&!er?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ml(n,e,r)):(Yt&&t&&XA(e),e.flags|=1,Ps(n,e,s,r),e.child)}function pP(n,e,t,s,r){if(n===null){var i=t.type;return typeof i=="function"&&!xj(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,uO(n,e,i,s,r)):(n=rb(t.type,null,s,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:uv,t(a,s)&&n.ref===e.ref)return ml(n,e,r)}return e.flags|=1,n=nd(i,s),n.ref=e.ref,n.return=e,e.child=n}function uO(n,e,t,s,r){if(n!==null){var i=n.memoizedProps;if(uv(i,s)&&n.ref===e.ref)if(er=!1,e.pendingProps=s=i,(n.lanes&r)!==0)n.flags&131072&&(er=!0);else return e.lanes=n.lanes,ml(n,e,r)}return zC(n,e,t,s,r)}function hO(n,e,t){var s=e.pendingProps,r=s.children,i=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(kf,Rr),Rr|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Tt(kf,Rr),Rr|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:t,Tt(kf,Rr),Rr|=s}else i!==null?(s=i.baseLanes|t,e.memoizedState=null):s=t,Tt(kf,Rr),Rr|=s;return Ps(n,e,r,t),e.child}function fO(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function zC(n,e,t,s,r){var i=sr(t)?fh:xs.current;return i=fm(e,i),Df(e,r),t=lj(n,e,t,s,i,r),s=cj(),n!==null&&!er?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ml(n,e,r)):(Yt&&s&&XA(e),e.flags|=1,Ps(n,e,t,r),e.child)}function mP(n,e,t,s,r){if(sr(t)){var i=!0;Zb(e)}else i=!1;if(Df(e,r),e.stateNode===null)tb(n,e),lO(e,t,s),$C(e,t,s,r),s=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,d=t.contextType;typeof d=="object"&&d!==null?d=fi(d):(d=sr(t)?fh:xs.current,d=fm(e,d));var h=t.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||l!==d)&&cP(e,a,s,d),Bl=!1;var p=e.memoizedState;a.state=p,s0(e,s,a,r),l=e.memoizedState,o!==s||p!==l||nr.current||Bl?(typeof h=="function"&&(FC(e,t,h,s),l=e.memoizedState),(o=Bl||lP(e,t,o,s,p,l,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),a.props=s,a.state=l,a.context=d,s=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,zM(n,e),o=e.memoizedProps,d=e.type===e.elementType?o:Ai(e.type,o),a.props=d,f=e.pendingProps,p=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=fi(l):(l=sr(t)?fh:xs.current,l=fm(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&cP(e,a,s,l),Bl=!1,p=e.memoizedState,a.state=p,s0(e,s,a,r);var y=e.memoizedState;o!==f||p!==y||nr.current||Bl?(typeof m=="function"&&(FC(e,t,m,s),y=e.memoizedState),(d=Bl||lP(e,t,d,s,p,y,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),a.props=s,a.state=y,a.context=l,s=d):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),s=!1)}return UC(n,e,t,s,i,r)}function UC(n,e,t,s,r,i){fO(n,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&eP(e,t,!1),ml(n,e,i);s=e.stateNode,RV.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&a?(e.child=mm(e,n.child,null,i),e.child=mm(e,null,o,i)):Ps(n,e,o,i),e.memoizedState=s.state,r&&eP(e,t,!0),e.child}function pO(n){var e=n.stateNode;e.pendingContext?JT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&JT(n,e.context,!1),rj(n,e.containerInfo)}function gP(n,e,t,s,r){return pm(),ZA(r),e.flags|=256,Ps(n,e,t,s),e.child}var VC={dehydrated:null,treeContext:null,retryLane:0};function HC(n){return{baseLanes:n,cachePool:null,transitions:null}}function mO(n,e,t){var s=e.pendingProps,r=Jt.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Tt(Jt,r&1),n===null)return IC(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,n=s.fallback,i?(s=e.mode,i=e.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=P_(a,s,0,null),n=uh(n,s,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=HC(t),e.memoizedState=VC,n):hj(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return DV(n,e,a,s,o,r,t);if(i){i=s.fallback,a=e.mode,r=n.child,o=r.sibling;var l={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=nd(r,l),s.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=nd(o,i):(i=uh(i,a,t,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,a=n.child.memoizedState,a=a===null?HC(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=n.childLanes&~t,e.memoizedState=VC,s}return i=n.child,n=i.sibling,s=nd(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function hj(n,e){return e=P_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function yw(n,e,t,s){return s!==null&&ZA(s),mm(e,n.child,null,t),n=hj(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function DV(n,e,t,s,r,i,a){if(t)return e.flags&256?(e.flags&=-257,s=f1(Error(J(422))),yw(n,e,a,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=P_({mode:"visible",children:s.children},r,0,null),i=uh(i,r,a,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&mm(e,n.child,null,a),e.child.memoizedState=HC(a),e.memoizedState=VC,i);if(!(e.mode&1))return yw(n,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(J(419)),s=f1(i,s,void 0),yw(n,e,a,s)}if(o=(a&n.childLanes)!==0,er||o){if(s=qn,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,pl(n,r),Yi(s,n,r,-1))}return yj(),s=f1(Error(J(421))),yw(n,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=qV.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,Lr=Zc(r.nextSibling),Fr=e,Yt=!0,Vi=null,n!==null&&(ri[ii++]=al,ri[ii++]=ol,ri[ii++]=ph,al=n.id,ol=n.overflow,ph=e),e=hj(e,s.children),e.flags|=4096,e)}function vP(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),LC(n.return,e,t)}function p1(n,e,t,s,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=t,i.tailMode=r)}function gO(n,e,t){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Ps(n,e,s.children,t),s=Jt.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vP(n,t,e);else if(n.tag===19)vP(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(Tt(Jt,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&r0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),p1(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&r0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}p1(e,!0,t,null,i);break;case"together":p1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tb(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ml(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),gh|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(J(153));if(e.child!==null){for(n=e.child,t=nd(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=nd(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function MV(n,e,t){switch(e.tag){case 3:pO(e),pm();break;case 5:UM(e);break;case 1:sr(e.type)&&Zb(e);break;case 4:rj(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Tt(t0,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Tt(Jt,Jt.current&1),e.flags|=128,null):t&e.child.childLanes?mO(n,e,t):(Tt(Jt,Jt.current&1),n=ml(n,e,t),n!==null?n.sibling:null);Tt(Jt,Jt.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return gO(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tt(Jt,Jt.current),s)break;return null;case 22:case 23:return e.lanes=0,hO(n,e,t)}return ml(n,e,t)}var vO,WC,yO,xO;vO=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};WC=function(){};yO=function(n,e,t,s){var r=n.memoizedProps;if(r!==s){n=e.stateNode,Qd(Ga.current);var i=null;switch(t){case"input":r=fC(n,r),s=fC(n,s),i=[];break;case"select":r=tn({},r,{value:void 0}),s=tn({},s,{value:void 0}),i=[];break;case"textarea":r=gC(n,r),s=gC(n,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Xb)}yC(t,s);var a;t=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var o=r[d];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(rv.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var l=s[d];if(o=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&l!==o&&(l!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(d,t)),t=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(rv.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Mt("scroll",n),i||o===l||(i=[])):(i=i||[]).push(d,l))}t&&(i=i||[]).push("style",t);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};xO=function(n,e,t,s){t!==s&&(e.flags|=4)};function tg(n,e){if(!Yt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function fs(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function OV(n,e,t){var s=e.pendingProps;switch(QA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fs(e),null;case 1:return sr(e.type)&&Qb(),fs(e),null;case 3:return s=e.stateNode,gm(),Bt(nr),Bt(xs),aj(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(gw(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vi!==null&&(JC(Vi),Vi=null))),WC(n,e),fs(e),null;case 5:ij(e);var r=Qd(gv.current);if(t=e.type,n!==null&&e.stateNode!=null)yO(n,e,t,s,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(J(166));return fs(e),null}if(n=Qd(Ga.current),gw(e)){s=e.stateNode,t=e.type;var i=e.memoizedProps;switch(s[Fa]=e,s[pv]=i,n=(e.mode&1)!==0,t){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(r=0;r<vg.length;r++)Mt(vg[r],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":ET(s,i),Mt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Mt("invalid",s);break;case"textarea":jT(s,i),Mt("invalid",s)}yC(t,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&mw(s.textContent,o,n),r=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&mw(s.textContent,o,n),r=["children",""+o]):rv.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Mt("scroll",s)}switch(t){case"input":ow(s),AT(s,i,!0);break;case"textarea":ow(s),NT(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Xb)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=GD(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=a.createElement(t,{is:s.is}):(n=a.createElement(t),t==="select"&&(a=n,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):n=a.createElementNS(n,t),n[Fa]=e,n[pv]=s,vO(n,e,!1,!1),e.stateNode=n;e:{switch(a=xC(t,s),t){case"dialog":Mt("cancel",n),Mt("close",n),r=s;break;case"iframe":case"object":case"embed":Mt("load",n),r=s;break;case"video":case"audio":for(r=0;r<vg.length;r++)Mt(vg[r],n);r=s;break;case"source":Mt("error",n),r=s;break;case"img":case"image":case"link":Mt("error",n),Mt("load",n),r=s;break;case"details":Mt("toggle",n),r=s;break;case"input":ET(n,s),r=fC(n,s),Mt("invalid",n);break;case"option":r=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},r=tn({},s,{value:void 0}),Mt("invalid",n);break;case"textarea":jT(n,s),r=gC(n,s),Mt("invalid",n);break;default:r=s}yC(t,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?XD(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YD(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&iv(n,l):typeof l=="number"&&iv(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rv.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Mt("scroll",n):l!=null&&IA(n,i,l,a))}switch(t){case"input":ow(n),AT(n,s,!1);break;case"textarea":ow(n),NT(n);break;case"option":s.value!=null&&n.setAttribute("value",""+ad(s.value));break;case"select":n.multiple=!!s.multiple,i=s.value,i!=null?Nf(n,!!s.multiple,i,!1):s.defaultValue!=null&&Nf(n,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Xb)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fs(e),null;case 6:if(n&&e.stateNode!=null)xO(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(J(166));if(t=Qd(gv.current),Qd(Ga.current),gw(e)){if(s=e.stateNode,t=e.memoizedProps,s[Fa]=e,(i=s.nodeValue!==t)&&(n=Fr,n!==null))switch(n.tag){case 3:mw(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&mw(s.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[Fa]=e,e.stateNode=s}return fs(e),null;case 13:if(Bt(Jt),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Yt&&Lr!==null&&e.mode&1&&!(e.flags&128))LM(),pm(),e.flags|=98560,i=!1;else if(i=gw(e),s!==null&&s.dehydrated!==null){if(n===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[Fa]=e}else pm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fs(e),i=!1}else Vi!==null&&(JC(Vi),Vi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||Jt.current&1?In===0&&(In=3):yj())),e.updateQueue!==null&&(e.flags|=4),fs(e),null);case 4:return gm(),WC(n,e),n===null&&hv(e.stateNode.containerInfo),fs(e),null;case 10:return tj(e.type._context),fs(e),null;case 17:return sr(e.type)&&Qb(),fs(e),null;case 19:if(Bt(Jt),i=e.memoizedState,i===null)return fs(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)tg(i,!1);else{if(In!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=r0(n),a!==null){for(e.flags|=128,tg(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)i=t,n=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Tt(Jt,Jt.current&1|2),e.child}n=n.sibling}i.tail!==null&&un()>ym&&(e.flags|=128,s=!0,tg(i,!1),e.lanes=4194304)}else{if(!s)if(n=r0(a),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),tg(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Yt)return fs(e),null}else 2*un()-i.renderingStartTime>ym&&t!==1073741824&&(e.flags|=128,s=!0,tg(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=un(),e.sibling=null,t=Jt.current,Tt(Jt,s?t&1|2:t&1),e):(fs(e),null);case 22:case 23:return vj(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Rr&1073741824&&(fs(e),e.subtreeFlags&6&&(e.flags|=8192)):fs(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function IV(n,e){switch(QA(e),e.tag){case 1:return sr(e.type)&&Qb(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return gm(),Bt(nr),Bt(xs),aj(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ij(e),null;case 13:if(Bt(Jt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(J(340));pm()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Bt(Jt),null;case 4:return gm(),null;case 10:return tj(e.type._context),null;case 22:case 23:return vj(),null;case 24:return null;default:return null}}var xw=!1,ys=!1,LV=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Cf(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){an(n,e,s)}else t.current=null}function qC(n,e,t){try{t()}catch(s){an(n,e,s)}}var yP=!1;function FV(n,e){if(NC=Gb,n=CM(),KA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,d=0,h=0,f=n,p=null;t:for(;;){for(var m;f!==t||r!==0&&f.nodeType!==3||(o=a+r),f!==i||s!==0&&f.nodeType!==3||(l=a+s),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++d===r&&(o=a),p===i&&++h===s&&(l=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(TC={focusedElem:n,selectionRange:t},Gb=!1,fe=e;fe!==null;)if(e=fe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,fe=n;else for(;fe!==null;){e=fe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,_=y.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ai(e.type,g),_);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){an(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}return y=yP,yP=!1,y}function Yg(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&qC(e,t,i)}r=r.next}while(r!==s)}}function N_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function GC(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function wO(n){var e=n.alternate;e!==null&&(n.alternate=null,wO(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Fa],delete e[pv],delete e[DC],delete e[wV],delete e[bV])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bO(n){return n.tag===5||n.tag===3||n.tag===4}function xP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bO(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function YC(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Xb));else if(s!==4&&(n=n.child,n!==null))for(YC(n,e,t),n=n.sibling;n!==null;)YC(n,e,t),n=n.sibling}function KC(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(KC(n,e,t),n=n.sibling;n!==null;)KC(n,e,t),n=n.sibling}var ts=null,zi=!1;function Tl(n,e,t){for(t=t.child;t!==null;)_O(n,e,t),t=t.sibling}function _O(n,e,t){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(b_,t)}catch{}switch(t.tag){case 5:ys||Cf(t,e);case 6:var s=ts,r=zi;ts=null,Tl(n,e,t),ts=s,zi=r,ts!==null&&(zi?(n=ts,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ts.removeChild(t.stateNode));break;case 18:ts!==null&&(zi?(n=ts,t=t.stateNode,n.nodeType===8?o1(n.parentNode,t):n.nodeType===1&&o1(n,t),cv(n)):o1(ts,t.stateNode));break;case 4:s=ts,r=zi,ts=t.stateNode.containerInfo,zi=!0,Tl(n,e,t),ts=s,zi=r;break;case 0:case 11:case 14:case 15:if(!ys&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&qC(t,e,a),r=r.next}while(r!==s)}Tl(n,e,t);break;case 1:if(!ys&&(Cf(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(o){an(t,e,o)}Tl(n,e,t);break;case 21:Tl(n,e,t);break;case 22:t.mode&1?(ys=(s=ys)||t.memoizedState!==null,Tl(n,e,t),ys=s):Tl(n,e,t);break;default:Tl(n,e,t)}}function wP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new LV),e.forEach(function(s){var r=GV.bind(null,n,s);t.has(s)||(t.add(s),s.then(r,r))})}}function _i(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];try{var i=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ts=o.stateNode,zi=!1;break e;case 3:ts=o.stateNode.containerInfo,zi=!0;break e;case 4:ts=o.stateNode.containerInfo,zi=!0;break e}o=o.return}if(ts===null)throw Error(J(160));_O(i,a,r),ts=null,zi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(d){an(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SO(e,n),e=e.sibling}function SO(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(_i(e,n),ia(n),s&4){try{Yg(3,n,n.return),N_(3,n)}catch(g){an(n,n.return,g)}try{Yg(5,n,n.return)}catch(g){an(n,n.return,g)}}break;case 1:_i(e,n),ia(n),s&512&&t!==null&&Cf(t,t.return);break;case 5:if(_i(e,n),ia(n),s&512&&t!==null&&Cf(t,t.return),n.flags&32){var r=n.stateNode;try{iv(r,"")}catch(g){an(n,n.return,g)}}if(s&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,a=t!==null?t.memoizedProps:i,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&WD(r,i),xC(o,a);var d=xC(o,i);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?XD(r,f):h==="dangerouslySetInnerHTML"?YD(r,f):h==="children"?iv(r,f):IA(r,h,f,d)}switch(o){case"input":pC(r,i);break;case"textarea":qD(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Nf(r,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Nf(r,!!i.multiple,i.defaultValue,!0):Nf(r,!!i.multiple,i.multiple?[]:"",!1))}r[pv]=i}catch(g){an(n,n.return,g)}}break;case 6:if(_i(e,n),ia(n),s&4){if(n.stateNode===null)throw Error(J(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(g){an(n,n.return,g)}}break;case 3:if(_i(e,n),ia(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{cv(e.containerInfo)}catch(g){an(n,n.return,g)}break;case 4:_i(e,n),ia(n);break;case 13:_i(e,n),ia(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(mj=un())),s&4&&wP(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(ys=(d=ys)||h,_i(e,n),ys=d):_i(e,n),ia(n),s&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!h&&n.mode&1)for(fe=n,h=n.child;h!==null;){for(f=fe=h;fe!==null;){switch(p=fe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Yg(4,p,p.return);break;case 1:Cf(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){s=p,t=p.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){an(s,t,g)}}break;case 5:Cf(p,p.return);break;case 22:if(p.memoizedState!==null){_P(f);continue}}m!==null?(m.return=p,fe=m):_P(f)}h=h.sibling}e:for(h=null,f=n;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=KD("display",a))}catch(g){an(n,n.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){an(n,n.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_i(e,n),ia(n),s&4&&wP(n);break;case 21:break;default:_i(e,n),ia(n)}}function ia(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(bO(t)){var s=t;break e}t=t.return}throw Error(J(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(iv(r,""),s.flags&=-33);var i=xP(n);KC(n,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,o=xP(n);YC(n,o,a);break;default:throw Error(J(161))}}catch(l){an(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function $V(n,e,t){fe=n,CO(n)}function CO(n,e,t){for(var s=(n.mode&1)!==0;fe!==null;){var r=fe,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||xw;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||ys;o=xw;var d=ys;if(xw=a,(ys=l)&&!d)for(fe=r;fe!==null;)a=fe,l=a.child,a.tag===22&&a.memoizedState!==null?SP(r):l!==null?(l.return=a,fe=l):SP(r);for(;i!==null;)fe=i,CO(i),i=i.sibling;fe=r,xw=o,ys=d}bP(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,fe=i):bP(n)}}function bP(n){for(;fe!==null;){var e=fe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ys||N_(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!ys)if(t===null)s.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ai(e.type,t.memoizedProps);s.componentDidUpdate(r,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&iP(e,i,s);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}iP(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&cv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}ys||e.flags&512&&GC(e)}catch(p){an(e,e.return,p)}}if(e===n){fe=null;break}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}}function _P(n){for(;fe!==null;){var e=fe;if(e===n){fe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,fe=t;break}fe=e.return}}function SP(n){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{N_(4,e)}catch(l){an(e,t,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){an(e,r,l)}}var i=e.return;try{GC(e)}catch(l){an(e,i,l)}break;case 5:var a=e.return;try{GC(e)}catch(l){an(e,a,l)}}}catch(l){an(e,e.return,l)}if(e===n){fe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,fe=o;break}fe=e.return}}var BV=Math.ceil,o0=bl.ReactCurrentDispatcher,fj=bl.ReactCurrentOwner,ci=bl.ReactCurrentBatchConfig,rt=0,qn=null,Sn=null,as=0,Rr=0,kf=_d(0),In=0,wv=null,gh=0,T_=0,pj=0,Kg=null,Zs=null,mj=0,ym=1/0,po=null,l0=!1,XC=null,ed=null,ww=!1,Gc=null,c0=0,Xg=0,QC=null,nb=-1,sb=0;function Is(){return rt&6?un():nb!==-1?nb:nb=un()}function td(n){return n.mode&1?rt&2&&as!==0?as&-as:SV.transition!==null?(sb===0&&(sb=lM()),sb):(n=bt,n!==0||(n=window.event,n=n===void 0?16:mM(n.type)),n):1}function Yi(n,e,t,s){if(50<Xg)throw Xg=0,QC=null,Error(J(185));Sx(n,t,s),(!(rt&2)||n!==qn)&&(n===qn&&(!(rt&2)&&(T_|=t),In===4&&Vl(n,as)),rr(n,s),t===1&&rt===0&&!(e.mode&1)&&(ym=un()+500,E_&&Sd()))}function rr(n,e){var t=n.callbackNode;S6(n,e);var s=qb(n,n===qn?as:0);if(s===0)t!==null&&RT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&RT(t),e===1)n.tag===0?_V(CP.bind(null,n)):MM(CP.bind(null,n)),yV(function(){!(rt&6)&&Sd()}),t=null;else{switch(cM(s)){case 1:t=zA;break;case 4:t=aM;break;case 16:t=Wb;break;case 536870912:t=oM;break;default:t=Wb}t=RO(t,kO.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function kO(n,e){if(nb=-1,sb=0,rt&6)throw Error(J(327));var t=n.callbackNode;if(Mf()&&n.callbackNode!==t)return null;var s=qb(n,n===qn?as:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=d0(n,s);else{e=s;var r=rt;rt|=2;var i=AO();(qn!==n||as!==e)&&(po=null,ym=un()+500,dh(n,e));do try{VV();break}catch(o){EO(n,o)}while(!0);ej(),o0.current=i,rt=r,Sn!==null?e=0:(qn=null,as=0,e=In)}if(e!==0){if(e===2&&(r=CC(n),r!==0&&(s=r,e=ZC(n,r))),e===1)throw t=wv,dh(n,0),Vl(n,s),rr(n,un()),t;if(e===6)Vl(n,s);else{if(r=n.current.alternate,!(s&30)&&!zV(r)&&(e=d0(n,s),e===2&&(i=CC(n),i!==0&&(s=i,e=ZC(n,i))),e===1))throw t=wv,dh(n,0),Vl(n,s),rr(n,un()),t;switch(n.finishedWork=r,n.finishedLanes=s,e){case 0:case 1:throw Error(J(345));case 2:Fd(n,Zs,po);break;case 3:if(Vl(n,s),(s&130023424)===s&&(e=mj+500-un(),10<e)){if(qb(n,0)!==0)break;if(r=n.suspendedLanes,(r&s)!==s){Is(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=RC(Fd.bind(null,n,Zs,po),e);break}Fd(n,Zs,po);break;case 4:if(Vl(n,s),(s&4194240)===s)break;for(e=n.eventTimes,r=-1;0<s;){var a=31-Gi(s);i=1<<a,a=e[a],a>r&&(r=a),s&=~i}if(s=r,s=un()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*BV(s/1960))-s,10<s){n.timeoutHandle=RC(Fd.bind(null,n,Zs,po),s);break}Fd(n,Zs,po);break;case 5:Fd(n,Zs,po);break;default:throw Error(J(329))}}}return rr(n,un()),n.callbackNode===t?kO.bind(null,n):null}function ZC(n,e){var t=Kg;return n.current.memoizedState.isDehydrated&&(dh(n,e).flags|=256),n=d0(n,e),n!==2&&(e=Zs,Zs=t,e!==null&&JC(e)),n}function JC(n){Zs===null?Zs=n:Zs.push.apply(Zs,n)}function zV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var r=t[s],i=r.getSnapshot;r=r.value;try{if(!Xi(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vl(n,e){for(e&=~pj,e&=~T_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Gi(e),s=1<<t;n[t]=-1,e&=~s}}function CP(n){if(rt&6)throw Error(J(327));Mf();var e=qb(n,0);if(!(e&1))return rr(n,un()),null;var t=d0(n,e);if(n.tag!==0&&t===2){var s=CC(n);s!==0&&(e=s,t=ZC(n,s))}if(t===1)throw t=wv,dh(n,0),Vl(n,e),rr(n,un()),t;if(t===6)throw Error(J(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Fd(n,Zs,po),rr(n,un()),null}function gj(n,e){var t=rt;rt|=1;try{return n(e)}finally{rt=t,rt===0&&(ym=un()+500,E_&&Sd())}}function vh(n){Gc!==null&&Gc.tag===0&&!(rt&6)&&Mf();var e=rt;rt|=1;var t=ci.transition,s=bt;try{if(ci.transition=null,bt=1,n)return n()}finally{bt=s,ci.transition=t,rt=e,!(rt&6)&&Sd()}}function vj(){Rr=kf.current,Bt(kf)}function dh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,vV(t)),Sn!==null)for(t=Sn.return;t!==null;){var s=t;switch(QA(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Qb();break;case 3:gm(),Bt(nr),Bt(xs),aj();break;case 5:ij(s);break;case 4:gm();break;case 13:Bt(Jt);break;case 19:Bt(Jt);break;case 10:tj(s.type._context);break;case 22:case 23:vj()}t=t.return}if(qn=n,Sn=n=nd(n.current,null),as=Rr=e,In=0,wv=null,pj=T_=gh=0,Zs=Kg=null,Xd!==null){for(e=0;e<Xd.length;e++)if(t=Xd[e],s=t.interleaved,s!==null){t.interleaved=null;var r=s.next,i=t.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}t.pending=s}Xd=null}return n}function EO(n,e){do{var t=Sn;try{if(ej(),Jw.current=a0,i0){for(var s=en.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}i0=!1}if(mh=0,Wn=Mn=en=null,Gg=!1,vv=0,fj.current=null,t===null||t.return===null){In=1,wv=e,Sn=null;break}e:{var i=n,a=t.return,o=t,l=e;if(e=as,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=uP(a);if(m!==null){m.flags&=-257,hP(m,a,o,i,e),m.mode&1&&dP(i,d,e),e=m,l=d;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){dP(i,d,e),yj();break e}l=Error(J(426))}}else if(Yt&&o.mode&1){var _=uP(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),hP(_,a,o,i,e),ZA(vm(l,o));break e}}i=l=vm(l,o),In!==4&&(In=2),Kg===null?Kg=[i]:Kg.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=cO(i,l,e);rP(i,w);break e;case 1:o=l;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ed===null||!ed.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=dO(i,o,e);rP(i,S);break e}}i=i.return}while(i!==null)}NO(t)}catch(k){e=k,Sn===t&&t!==null&&(Sn=t=t.return);continue}break}while(!0)}function AO(){var n=o0.current;return o0.current=a0,n===null?a0:n}function yj(){(In===0||In===3||In===2)&&(In=4),qn===null||!(gh&268435455)&&!(T_&268435455)||Vl(qn,as)}function d0(n,e){var t=rt;rt|=2;var s=AO();(qn!==n||as!==e)&&(po=null,dh(n,e));do try{UV();break}catch(r){EO(n,r)}while(!0);if(ej(),rt=t,o0.current=s,Sn!==null)throw Error(J(261));return qn=null,as=0,In}function UV(){for(;Sn!==null;)jO(Sn)}function VV(){for(;Sn!==null&&!p6();)jO(Sn)}function jO(n){var e=PO(n.alternate,n,Rr);n.memoizedProps=n.pendingProps,e===null?NO(n):Sn=e,fj.current=null}function NO(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=IV(t,e),t!==null){t.flags&=32767,Sn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{In=6,Sn=null;return}}else if(t=OV(t,e,Rr),t!==null){Sn=t;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=n}while(e!==null);In===0&&(In=5)}function Fd(n,e,t){var s=bt,r=ci.transition;try{ci.transition=null,bt=1,HV(n,e,t,s)}finally{ci.transition=r,bt=s}return null}function HV(n,e,t,s){do Mf();while(Gc!==null);if(rt&6)throw Error(J(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(J(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(C6(n,i),n===qn&&(Sn=qn=null,as=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ww||(ww=!0,RO(Wb,function(){return Mf(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=ci.transition,ci.transition=null;var a=bt;bt=1;var o=rt;rt|=4,fj.current=null,FV(n,t),SO(t,n),dV(TC),Gb=!!NC,TC=NC=null,n.current=t,$V(t),m6(),rt=o,bt=a,ci.transition=i}else n.current=t;if(ww&&(ww=!1,Gc=n,c0=r),i=n.pendingLanes,i===0&&(ed=null),y6(t.stateNode),rr(n,un()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],s(r.value,{componentStack:r.stack,digest:r.digest});if(l0)throw l0=!1,n=XC,XC=null,n;return c0&1&&n.tag!==0&&Mf(),i=n.pendingLanes,i&1?n===QC?Xg++:(Xg=0,QC=n):Xg=0,Sd(),null}function Mf(){if(Gc!==null){var n=cM(c0),e=ci.transition,t=bt;try{if(ci.transition=null,bt=16>n?16:n,Gc===null)var s=!1;else{if(n=Gc,Gc=null,c0=0,rt&6)throw Error(J(331));var r=rt;for(rt|=4,fe=n.current;fe!==null;){var i=fe,a=i.child;if(fe.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var d=o[l];for(fe=d;fe!==null;){var h=fe;switch(h.tag){case 0:case 11:case 15:Yg(8,h,i)}var f=h.child;if(f!==null)f.return=h,fe=f;else for(;fe!==null;){h=fe;var p=h.sibling,m=h.return;if(wO(h),h===d){fe=null;break}if(p!==null){p.return=m,fe=p;break}fe=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}fe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,fe=a;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yg(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,fe=w;break e}fe=i.return}}var x=n.current;for(fe=x;fe!==null;){a=fe;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,fe=b;else e:for(a=x;fe!==null;){if(o=fe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:N_(9,o)}}catch(k){an(o,o.return,k)}if(o===a){fe=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,fe=S;break e}fe=o.return}}if(rt=r,Sd(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(b_,n)}catch{}s=!0}return s}finally{bt=t,ci.transition=e}}return!1}function kP(n,e,t){e=vm(t,e),e=cO(n,e,1),n=Jc(n,e,1),e=Is(),n!==null&&(Sx(n,1,e),rr(n,e))}function an(n,e,t){if(n.tag===3)kP(n,n,t);else for(;e!==null;){if(e.tag===3){kP(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ed===null||!ed.has(s))){n=vm(t,n),n=dO(e,n,1),e=Jc(e,n,1),n=Is(),e!==null&&(Sx(e,1,n),rr(e,n));break}}e=e.return}}function WV(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=Is(),n.pingedLanes|=n.suspendedLanes&t,qn===n&&(as&t)===t&&(In===4||In===3&&(as&130023424)===as&&500>un()-mj?dh(n,0):pj|=t),rr(n,e)}function TO(n,e){e===0&&(n.mode&1?(e=dw,dw<<=1,!(dw&130023424)&&(dw=4194304)):e=1);var t=Is();n=pl(n,e),n!==null&&(Sx(n,e,t),rr(n,t))}function qV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),TO(n,t)}function GV(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(J(314))}s!==null&&s.delete(e),TO(n,t)}var PO;PO=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||nr.current)er=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return er=!1,MV(n,e,t);er=!!(n.flags&131072)}else er=!1,Yt&&e.flags&1048576&&OM(e,e0,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;tb(n,e),n=e.pendingProps;var r=fm(e,xs.current);Df(e,t),r=lj(null,e,s,n,r,t);var i=cj();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(s)?(i=!0,Zb(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,sj(e),r.updater=j_,e.stateNode=r,r._reactInternals=e,$C(e,s,n,t),e=UC(null,e,s,!0,i,t)):(e.tag=0,Yt&&i&&XA(e),Ps(null,e,r,t),e=e.child),e;case 16:s=e.elementType;e:{switch(tb(n,e),n=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=KV(s),n=Ai(s,n),r){case 0:e=zC(null,e,s,n,t);break e;case 1:e=mP(null,e,s,n,t);break e;case 11:e=fP(null,e,s,n,t);break e;case 14:e=pP(null,e,s,Ai(s.type,n),t);break e}throw Error(J(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ai(s,r),zC(n,e,s,r,t);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ai(s,r),mP(n,e,s,r,t);case 3:e:{if(pO(e),n===null)throw Error(J(387));s=e.pendingProps,i=e.memoizedState,r=i.element,zM(n,e),s0(e,s,null,t);var a=e.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=vm(Error(J(423)),e),e=gP(n,e,s,t,r);break e}else if(s!==r){r=vm(Error(J(424)),e),e=gP(n,e,s,t,r);break e}else for(Lr=Zc(e.stateNode.containerInfo.firstChild),Fr=e,Yt=!0,Vi=null,t=$M(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(pm(),s===r){e=ml(n,e,t);break e}Ps(n,e,s,t)}e=e.child}return e;case 5:return UM(e),n===null&&IC(e),s=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,a=r.children,PC(s,r)?a=null:i!==null&&PC(s,i)&&(e.flags|=32),fO(n,e),Ps(n,e,a,t),e.child;case 6:return n===null&&IC(e),null;case 13:return mO(n,e,t);case 4:return rj(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=mm(e,null,s,t):Ps(n,e,s,t),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ai(s,r),fP(n,e,s,r,t);case 7:return Ps(n,e,e.pendingProps,t),e.child;case 8:return Ps(n,e,e.pendingProps.children,t),e.child;case 12:return Ps(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,a=r.value,Tt(t0,s._currentValue),s._currentValue=a,i!==null)if(Xi(i.value,a)){if(i.children===r.children&&!nr.current){e=ml(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=cl(-1,t&-t),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),LC(i.return,t,e),o.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(J(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),LC(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ps(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Df(e,t),r=fi(r),s=s(r),e.flags|=1,Ps(n,e,s,t),e.child;case 14:return s=e.type,r=Ai(s,e.pendingProps),r=Ai(s.type,r),pP(n,e,s,r,t);case 15:return uO(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ai(s,r),tb(n,e),e.tag=1,sr(s)?(n=!0,Zb(e)):n=!1,Df(e,t),lO(e,s,r),$C(e,s,r,t),UC(null,e,s,!0,n,t);case 19:return gO(n,e,t);case 22:return hO(n,e,t)}throw Error(J(156,e.tag))};function RO(n,e){return iM(n,e)}function YV(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(n,e,t,s){return new YV(n,e,t,s)}function xj(n){return n=n.prototype,!(!n||!n.isReactComponent)}function KV(n){if(typeof n=="function")return xj(n)?1:0;if(n!=null){if(n=n.$$typeof,n===FA)return 11;if(n===$A)return 14}return 2}function nd(n,e){var t=n.alternate;return t===null?(t=li(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function rb(n,e,t,s,r,i){var a=2;if(s=n,typeof n=="function")xj(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case mf:return uh(t.children,r,i,e);case LA:a=8,r|=8;break;case cC:return n=li(12,t,e,r|2),n.elementType=cC,n.lanes=i,n;case dC:return n=li(13,t,e,r),n.elementType=dC,n.lanes=i,n;case uC:return n=li(19,t,e,r),n.elementType=uC,n.lanes=i,n;case UD:return P_(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case BD:a=10;break e;case zD:a=9;break e;case FA:a=11;break e;case $A:a=14;break e;case $l:a=16,s=null;break e}throw Error(J(130,n==null?n:typeof n,""))}return e=li(a,t,e,r),e.elementType=n,e.type=s,e.lanes=i,e}function uh(n,e,t,s){return n=li(7,n,s,e),n.lanes=t,n}function P_(n,e,t,s){return n=li(22,n,s,e),n.elementType=UD,n.lanes=t,n.stateNode={isHidden:!1},n}function m1(n,e,t){return n=li(6,n,null,e),n.lanes=t,n}function g1(n,e,t){return e=li(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function XV(n,e,t,s,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=XS(0),this.expirationTimes=XS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=XS(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function wj(n,e,t,s,r,i,a,o,l){return n=new XV(n,e,t,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=li(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},sj(i),n}function QV(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pf,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function DO(n){if(!n)return od;n=n._reactInternals;e:{if(Dh(n)!==n||n.tag!==1)throw Error(J(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(n.tag===1){var t=n.type;if(sr(t))return DM(n,t,e)}return e}function MO(n,e,t,s,r,i,a,o,l){return n=wj(t,s,!0,n,r,i,a,o,l),n.context=DO(null),t=n.current,s=Is(),r=td(t),i=cl(s,r),i.callback=e??null,Jc(t,i,r),n.current.lanes=r,Sx(n,r,s),rr(n,s),n}function R_(n,e,t,s){var r=e.current,i=Is(),a=td(r);return t=DO(t),e.context===null?e.context=t:e.pendingContext=t,e=cl(i,a),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=Jc(r,e,a),n!==null&&(Yi(n,r,a,i),Zw(n,r,a)),a}function u0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function EP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function bj(n,e){EP(n,e),(n=n.alternate)&&EP(n,e)}function ZV(){return null}var OO=typeof reportError=="function"?reportError:function(n){console.error(n)};function _j(n){this._internalRoot=n}D_.prototype.render=_j.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(J(409));R_(n,e,null,null)};D_.prototype.unmount=_j.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;vh(function(){R_(null,n,null,null)}),e[fl]=null}};function D_(n){this._internalRoot=n}D_.prototype.unstable_scheduleHydration=function(n){if(n){var e=hM();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ul.length&&e!==0&&e<Ul[t].priority;t++);Ul.splice(t,0,n),t===0&&pM(n)}};function Sj(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function M_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function AP(){}function JV(n,e,t,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var d=u0(a);i.call(d)}}var a=MO(e,s,n,0,null,!1,!1,"",AP);return n._reactRootContainer=a,n[fl]=a.current,hv(n.nodeType===8?n.parentNode:n),vh(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof s=="function"){var o=s;s=function(){var d=u0(l);o.call(d)}}var l=wj(n,0,!1,null,null,!1,!1,"",AP);return n._reactRootContainer=l,n[fl]=l.current,hv(n.nodeType===8?n.parentNode:n),vh(function(){R_(e,l,t,s)}),l}function O_(n,e,t,s,r){var i=t._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var o=r;r=function(){var l=u0(a);o.call(l)}}R_(e,a,n,r)}else a=JV(t,e,n,r,s);return u0(a)}dM=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=gg(e.pendingLanes);t!==0&&(UA(e,t|1),rr(e,un()),!(rt&6)&&(ym=un()+500,Sd()))}break;case 13:vh(function(){var s=pl(n,1);if(s!==null){var r=Is();Yi(s,n,1,r)}}),bj(n,1)}};VA=function(n){if(n.tag===13){var e=pl(n,134217728);if(e!==null){var t=Is();Yi(e,n,134217728,t)}bj(n,134217728)}};uM=function(n){if(n.tag===13){var e=td(n),t=pl(n,e);if(t!==null){var s=Is();Yi(t,n,e,s)}bj(n,e)}};hM=function(){return bt};fM=function(n,e){var t=bt;try{return bt=n,e()}finally{bt=t}};bC=function(n,e,t){switch(e){case"input":if(pC(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var r=k_(s);if(!r)throw Error(J(90));HD(s),pC(s,r)}}}break;case"textarea":qD(n,t);break;case"select":e=t.value,e!=null&&Nf(n,!!t.multiple,e,!1)}};JD=gj;eM=vh;var e8={usingClientEntryPoint:!1,Events:[kx,xf,k_,QD,ZD,gj]},ng={findFiberByHostInstance:Kd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t8={bundleType:ng.bundleType,version:ng.version,rendererPackageName:ng.rendererPackageName,rendererConfig:ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=sM(n),n===null?null:n.stateNode},findFiberByHostInstance:ng.findFiberByHostInstance||ZV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bw.isDisabled&&bw.supportsFiber)try{b_=bw.inject(t8),qa=bw}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e8;Hr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sj(e))throw Error(J(200));return QV(n,e,null,t)};Hr.createRoot=function(n,e){if(!Sj(n))throw Error(J(299));var t=!1,s="",r=OO;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=wj(n,1,!1,null,null,t,!1,s,r),n[fl]=e.current,hv(n.nodeType===8?n.parentNode:n),new _j(e)};Hr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(J(188)):(n=Object.keys(n).join(","),Error(J(268,n)));return n=sM(e),n=n===null?null:n.stateNode,n};Hr.flushSync=function(n){return vh(n)};Hr.hydrate=function(n,e,t){if(!M_(e))throw Error(J(200));return O_(null,n,e,!0,t)};Hr.hydrateRoot=function(n,e,t){if(!Sj(n))throw Error(J(405));var s=t!=null&&t.hydratedSources||null,r=!1,i="",a=OO;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=MO(e,null,n,1,t??null,r,!1,i,a),n[fl]=e.current,hv(n),s)for(n=0;n<s.length;n++)t=s[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new D_(e)};Hr.render=function(n,e,t){if(!M_(e))throw Error(J(200));return O_(null,n,e,!1,t)};Hr.unmountComponentAtNode=function(n){if(!M_(n))throw Error(J(40));return n._reactRootContainer?(vh(function(){O_(null,null,n,!1,function(){n._reactRootContainer=null,n[fl]=null})}),!0):!1};Hr.unstable_batchedUpdates=gj;Hr.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!M_(t))throw Error(J(200));if(n==null||n._reactInternals===void 0)throw Error(J(38));return O_(n,e,t,!1,s)};Hr.version="18.3.1-next-f1338f8080-20240426";function IO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IO)}catch(n){console.error(n)}}IO(),ID.exports=Hr;var Mh=ID.exports;const LO=jA(Mh);var FO,jP=Mh;FO=jP.createRoot,jP.hydrateRoot;const n8=1,s8=1e6;let v1=0;function r8(){return v1=(v1+1)%Number.MAX_SAFE_INTEGER,v1.toString()}const y1=new Map,NP=n=>{if(y1.has(n))return;const e=setTimeout(()=>{y1.delete(n),Qg({type:"REMOVE_TOAST",toastId:n})},s8);y1.set(n,e)},i8=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,n8)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?NP(t):n.toasts.forEach(s=>{NP(s.id)}),{...n,toasts:n.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ib=[];let ab={toasts:[]};function Qg(n){ab=i8(ab,n),ib.forEach(e=>{e(ab)})}function a8({...n}){const e=r8(),t=r=>Qg({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Qg({type:"DISMISS_TOAST",toastId:e});return Qg({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:t}}function or(){const[n,e]=v.useState(ab);return v.useEffect(()=>(ib.push(e),()=>{const t=ib.indexOf(e);t>-1&&ib.splice(t,1)}),[n]),{...n,toast:a8,dismiss:t=>Qg({type:"DISMISS_TOAST",toastId:t})}}function te(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function TP(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function I_(...n){return e=>{let t=!1;const s=n.map(r=>{const i=TP(r,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():TP(n[r],null)}}}}function Ie(...n){return v.useCallback(I_(...n),n)}function o8(n,e){const t=v.createContext(e),s=i=>{const{children:a,...o}=i,l=v.useMemo(()=>o,Object.values(o));return c.jsx(t.Provider,{value:l,children:a})};s.displayName=n+"Provider";function r(i){const a=v.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[s,r]}function cs(n,e=[]){let t=[];function s(i,a){const o=v.createContext(a),l=t.length;t=[...t,a];const d=f=>{var w;const{scope:p,children:m,...y}=f,g=((w=p==null?void 0:p[n])==null?void 0:w[l])||o,_=v.useMemo(()=>y,Object.values(y));return c.jsx(g.Provider,{value:_,children:m})};d.displayName=i+"Provider";function h(f,p){var g;const m=((g=p==null?void 0:p[n])==null?void 0:g[l])||o,y=v.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const r=()=>{const i=t.map(a=>v.createContext(a));return function(o){const l=(o==null?void 0:o[n])||i;return v.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return r.scopeName=n,[s,l8(r,...e)]}function l8(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((o,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...o,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function ld(n){const e=c8(n),t=v.forwardRef((s,r)=>{const{children:i,...a}=s,o=v.Children.toArray(i),l=o.find(d8);if(l){const d=l.props.children,h=o.map(f=>f===l?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:f);return c.jsx(e,{...a,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,h):null})}return c.jsx(e,{...a,ref:r,children:i})});return t.displayName=`${n}.Slot`,t}var Cd=ld("Slot");function c8(n){const e=v.forwardRef((t,s)=>{const{children:r,...i}=t;if(v.isValidElement(r)){const a=h8(r),o=u8(i,r.props);return r.type!==v.Fragment&&(o.ref=s?I_(s,a):a),v.cloneElement(r,o)}return v.Children.count(r)>1?v.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $O=Symbol("radix.slottable");function BO(n){const e=({children:t})=>c.jsx(c.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=$O,e}function d8(n){return v.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$O}function u8(n,e){const t={...e};for(const s in e){const r=n[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?t[s]=(...o)=>{const l=i(...o);return r(...o),l}:r&&(t[s]=r):s==="style"?t[s]={...r,...i}:s==="className"&&(t[s]=[r,i].filter(Boolean).join(" "))}return{...n,...t}}function h8(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function L_(n){const e=n+"CollectionProvider",[t,s]=cs(e),[r,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:_,children:w}=g,x=G.useRef(null),b=G.useRef(new Map).current;return c.jsx(r,{scope:_,itemMap:b,collectionRef:x,children:w})};a.displayName=e;const o=n+"CollectionSlot",l=ld(o),d=G.forwardRef((g,_)=>{const{scope:w,children:x}=g,b=i(o,w),S=Ie(_,b.collectionRef);return c.jsx(l,{ref:S,children:x})});d.displayName=o;const h=n+"CollectionItemSlot",f="data-radix-collection-item",p=ld(h),m=G.forwardRef((g,_)=>{const{scope:w,children:x,...b}=g,S=G.useRef(null),k=Ie(_,S),j=i(h,w);return G.useEffect(()=>(j.itemMap.set(S,{ref:S,...b}),()=>void j.itemMap.delete(S))),c.jsx(p,{[f]:"",ref:k,children:x})});m.displayName=h;function y(g){const _=i(n+"CollectionConsumer",g);return G.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((j,N)=>b.indexOf(j.ref.current)-b.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:d,ItemSlot:m},y,s]}var f8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ve=f8.reduce((n,e)=>{const t=ld(`Primitive.${e}`),s=v.forwardRef((r,i)=>{const{asChild:a,...o}=r,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function Cj(n,e){n&&Mh.flushSync(()=>n.dispatchEvent(e))}function on(n){const e=v.useRef(n);return v.useEffect(()=>{e.current=n}),v.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function p8(n,e=globalThis==null?void 0:globalThis.document){const t=on(n);v.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var m8="DismissableLayer",ek="dismissableLayer.update",g8="dismissableLayer.pointerDownOutside",v8="dismissableLayer.focusOutside",PP,zO=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oh=v.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...l}=n,d=v.useContext(zO),[h,f]=v.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),y=Ie(e,N=>f(N)),g=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(_),x=h?g.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,S=x>=w,k=x8(N=>{const P=N.target,D=[...d.branches].some(T=>T.contains(P));!S||D||(r==null||r(N),a==null||a(N),N.defaultPrevented||o==null||o())},p),j=w8(N=>{const P=N.target;[...d.branches].some(T=>T.contains(P))||(i==null||i(N),a==null||a(N),N.defaultPrevented||o==null||o())},p);return p8(N=>{x===d.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},p),v.useEffect(()=>{if(h)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(PP=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),RP(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=PP)}},[h,p,t,d]),v.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),RP())},[h,d]),v.useEffect(()=>{const N=()=>m({});return document.addEventListener(ek,N),()=>document.removeEventListener(ek,N)},[]),c.jsx(ve.div,{...l,ref:y,style:{pointerEvents:b?S?"auto":"none":void 0,...n.style},onFocusCapture:te(n.onFocusCapture,j.onFocusCapture),onBlurCapture:te(n.onBlurCapture,j.onBlurCapture),onPointerDownCapture:te(n.onPointerDownCapture,k.onPointerDownCapture)})});Oh.displayName=m8;var y8="DismissableLayerBranch",UO=v.forwardRef((n,e)=>{const t=v.useContext(zO),s=v.useRef(null),r=Ie(e,s);return v.useEffect(()=>{const i=s.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),c.jsx(ve.div,{...n,ref:r})});UO.displayName=y8;function x8(n,e=globalThis==null?void 0:globalThis.document){const t=on(n),s=v.useRef(!1),r=v.useRef(()=>{});return v.useEffect(()=>{const i=o=>{if(o.target&&!s.current){let l=function(){VO(g8,t,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function w8(n,e=globalThis==null?void 0:globalThis.document){const t=on(n),s=v.useRef(!1);return v.useEffect(()=>{const r=i=>{i.target&&!s.current&&VO(v8,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function RP(){const n=new CustomEvent(ek);document.dispatchEvent(n)}function VO(n,e,t,{discrete:s}){const r=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?Cj(r,i):r.dispatchEvent(i)}var b8=Oh,_8=UO,pn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},S8="Portal",$m=v.forwardRef((n,e)=>{var o;const{container:t,...s}=n,[r,i]=v.useState(!1);pn(()=>i(!0),[]);const a=t||r&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?LO.createPortal(c.jsx(ve.div,{...s,ref:e}),a):null});$m.displayName=S8;function C8(n,e){return v.useReducer((t,s)=>e[t][s]??t,n)}var Gn=n=>{const{present:e,children:t}=n,s=k8(e),r=typeof t=="function"?t({present:s.isPresent}):v.Children.only(t),i=Ie(s.ref,E8(r));return typeof t=="function"||s.isPresent?v.cloneElement(r,{ref:i}):null};Gn.displayName="Presence";function k8(n){const[e,t]=v.useState(),s=v.useRef(null),r=v.useRef(n),i=v.useRef("none"),a=n?"mounted":"unmounted",[o,l]=C8(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=_w(s.current);i.current=o==="mounted"?d:"none"},[o]),pn(()=>{const d=s.current,h=r.current;if(h!==n){const p=i.current,m=_w(d);n?l("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),pn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=m=>{const g=_w(s.current).includes(CSS.escape(m.animationName));if(m.target===e&&g&&(l("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=m=>{m.target===e&&(i.current=_w(s.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:v.useCallback(d=>{s.current=d?getComputedStyle(d):null,t(d)},[])}}function _w(n){return(n==null?void 0:n.animationName)||"none"}function E8(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var A8=DA[" useInsertionEffect ".trim().toString()]||pn;function Qi({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[r,i,a]=j8({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:r;{const h=v.useRef(n!==void 0);v.useEffect(()=>{const f=h.current;f!==o&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,s])}const d=v.useCallback(h=>{var f;if(o){const p=N8(h)?h(n):h;p!==n&&((f=a.current)==null||f.call(a,p))}else i(h)},[o,n,i,a]);return[l,d]}function j8({defaultProp:n,onChange:e}){const[t,s]=v.useState(n),r=v.useRef(t),i=v.useRef(e);return A8(()=>{i.current=e},[e]),v.useEffect(()=>{var a;r.current!==t&&((a=i.current)==null||a.call(i,t),r.current=t)},[t,r]),[t,s,i]}function N8(n){return typeof n=="function"}var HO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),T8="VisuallyHidden",F_=v.forwardRef((n,e)=>c.jsx(ve.span,{...n,ref:e,style:{...HO,...n.style}}));F_.displayName=T8;var P8=F_,kj="ToastProvider",[Ej,R8,D8]=L_("Toast"),[WO,rle]=cs("Toast",[D8]),[M8,$_]=WO(kj),qO=n=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:a}=n,[o,l]=v.useState(null),[d,h]=v.useState(0),f=v.useRef(!1),p=v.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${kj}\`. Expected non-empty \`string\`.`),c.jsx(Ej.Provider,{scope:e,children:c.jsx(M8,{scope:e,label:t,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:l,onToastAdd:v.useCallback(()=>h(m=>m+1),[]),onToastRemove:v.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:a})})};qO.displayName=kj;var GO="ToastViewport",O8=["F8"],tk="toast.viewportPause",nk="toast.viewportResume",YO=v.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:s=O8,label:r="Notifications ({hotkey})",...i}=n,a=$_(GO,t),o=R8(t),l=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=v.useRef(null),p=Ie(e,f,a.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;v.useEffect(()=>{const _=w=>{var b;s.length!==0&&s.every(S=>w[S]||w.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[s]),v.useEffect(()=>{const _=l.current,w=f.current;if(y&&_&&w){const x=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(tk);w.dispatchEvent(j),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(nk);w.dispatchEvent(j),a.isClosePausedRef.current=!1}},S=j=>{!_.contains(j.relatedTarget)&&b()},k=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",x),_.addEventListener("focusout",S),_.addEventListener("pointermove",x),_.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",x),_.removeEventListener("focusout",S),_.removeEventListener("pointermove",x),_.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,a.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:_})=>{const x=o().map(b=>{const S=b.ref.current,k=[S,...Y8(S)];return _==="forwards"?k:k.reverse()});return(_==="forwards"?x.reverse():x).flat()},[o]);return v.useEffect(()=>{const _=f.current;if(_){const w=x=>{var k,j,N;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const P=document.activeElement,D=x.shiftKey;if(x.target===_&&D){(k=d.current)==null||k.focus();return}const M=g({tabbingDirection:D?"backwards":"forwards"}),U=M.findIndex(R=>R===P);x1(M.slice(U+1))?x.preventDefault():D?(j=d.current)==null||j.focus():(N=h.current)==null||N.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[o,g]),c.jsxs(_8,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(sk,{ref:d,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"forwards"});x1(_)}}),c.jsx(Ej.Slot,{scope:t,children:c.jsx(ve.ol,{tabIndex:-1,...i,ref:p})}),y&&c.jsx(sk,{ref:h,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"backwards"});x1(_)}})]})});YO.displayName=GO;var KO="ToastFocusProxy",sk=v.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...r}=n,i=$_(KO,t);return c.jsx(F_,{tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var d;const o=a.relatedTarget;!((d=i.viewport)!=null&&d.contains(o))&&s()}})});sk.displayName=KO;var Ax="Toast",I8="toast.swipeStart",L8="toast.swipeMove",F8="toast.swipeCancel",$8="toast.swipeEnd",XO=v.forwardRef((n,e)=>{const{forceMount:t,open:s,defaultOpen:r,onOpenChange:i,...a}=n,[o,l]=Qi({prop:s,defaultProp:r??!0,onChange:i,caller:Ax});return c.jsx(Gn,{present:t||o,children:c.jsx(U8,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:on(n.onPause),onResume:on(n.onResume),onSwipeStart:te(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:te(n.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:te(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:te(n.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});XO.displayName=Ax;var[B8,z8]=WO(Ax,{onClose(){}}),U8=v.forwardRef((n,e)=>{const{__scopeToast:t,type:s="foreground",duration:r,open:i,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...y}=n,g=$_(Ax,t),[_,w]=v.useState(null),x=Ie(e,R=>w(R)),b=v.useRef(null),S=v.useRef(null),k=r||g.duration,j=v.useRef(0),N=v.useRef(k),P=v.useRef(0),{onToastAdd:D,onToastRemove:T}=g,F=on(()=>{var V;(_==null?void 0:_.contains(document.activeElement))&&((V=g.viewport)==null||V.focus()),a()}),M=v.useCallback(R=>{!R||R===1/0||(window.clearTimeout(P.current),j.current=new Date().getTime(),P.current=window.setTimeout(F,R))},[F]);v.useEffect(()=>{const R=g.viewport;if(R){const V=()=>{M(N.current),d==null||d()},z=()=>{const $=new Date().getTime()-j.current;N.current=N.current-$,window.clearTimeout(P.current),l==null||l()};return R.addEventListener(tk,z),R.addEventListener(nk,V),()=>{R.removeEventListener(tk,z),R.removeEventListener(nk,V)}}},[g.viewport,k,l,d,M]),v.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(k)},[i,k,g.isClosePausedRef,M]),v.useEffect(()=>(D(),()=>T()),[D,T]);const U=v.useMemo(()=>_?sI(_):null,[_]);return g.viewport?c.jsxs(c.Fragment,{children:[U&&c.jsx(V8,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:U}),c.jsx(B8,{scope:t,onClose:F,children:Mh.createPortal(c.jsx(Ej.ItemSlot,{scope:t,children:c.jsx(b8,{asChild:!0,onEscapeKeyDown:te(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||F(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ve.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:te(n.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:te(n.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:te(n.onPointerMove,R=>{if(!b.current)return;const V=R.clientX-b.current.x,z=R.clientY-b.current.y,$=!!S.current,I=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,K=I?L(0,V):0,ie=I?0:L(0,z),Z=R.pointerType==="touch"?10:2,re={x:K,y:ie},he={originalEvent:R,delta:re};$?(S.current=re,Sw(L8,f,he,{discrete:!1})):DP(re,g.swipeDirection,Z)?(S.current=re,Sw(I8,h,he,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(V)>Z||Math.abs(z)>Z)&&(b.current=null)}),onPointerUp:te(n.onPointerUp,R=>{const V=S.current,z=R.target;if(z.hasPointerCapture(R.pointerId)&&z.releasePointerCapture(R.pointerId),S.current=null,b.current=null,V){const $=R.currentTarget,I={originalEvent:R,delta:V};DP(V,g.swipeDirection,g.swipeThreshold)?Sw($8,m,I,{discrete:!0}):Sw(F8,p,I,{discrete:!0}),$.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),V8=n=>{const{__scopeToast:e,children:t,...s}=n,r=$_(Ax,e),[i,a]=v.useState(!1),[o,l]=v.useState(!1);return q8(()=>a(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:c.jsx($m,{asChild:!0,children:c.jsx(F_,{...s,children:i&&c.jsxs(c.Fragment,{children:[r.label," ",t]})})})},H8="ToastTitle",QO=v.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return c.jsx(ve.div,{...s,ref:e})});QO.displayName=H8;var W8="ToastDescription",ZO=v.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return c.jsx(ve.div,{...s,ref:e})});ZO.displayName=W8;var JO="ToastAction",eI=v.forwardRef((n,e)=>{const{altText:t,...s}=n;return t.trim()?c.jsx(nI,{altText:t,asChild:!0,children:c.jsx(Aj,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${JO}\`. Expected non-empty \`string\`.`),null)});eI.displayName=JO;var tI="ToastClose",Aj=v.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n,r=z8(tI,t);return c.jsx(nI,{asChild:!0,children:c.jsx(ve.button,{type:"button",...s,ref:e,onClick:te(n.onClick,r.onClose)})})});Aj.displayName=tI;var nI=v.forwardRef((n,e)=>{const{__scopeToast:t,altText:s,...r}=n;return c.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function sI(n){const e=[];return Array.from(n.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),G8(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...sI(s))}}),e}function Sw(n,e,t,{discrete:s}){const r=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?Cj(r,i):r.dispatchEvent(i)}var DP=(n,e,t=0)=>{const s=Math.abs(n.x),r=Math.abs(n.y),i=s>r;return e==="left"||e==="right"?i&&s>t:!i&&r>t};function q8(n=()=>{}){const e=on(n);pn(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function G8(n){return n.nodeType===n.ELEMENT_NODE}function Y8(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function x1(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var K8=qO,rI=YO,iI=XO,aI=QO,oI=ZO,lI=eI,cI=Aj;function dI(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=dI(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function uI(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=dI(n))&&(s&&(s+=" "),s+=e);return s}const MP=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,OP=uI,Bm=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return OP(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(d=>{const h=t==null?void 0:t[d],f=i==null?void 0:i[d];if(h===null)return null;const p=MP(h)||MP(f);return r[d][p]}),o=t&&Object.entries(t).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((d,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(y=>{let[g,_]=y;return Array.isArray(_)?_.includes({...i,...o}[g]):{...i,...o}[g]===_})?[...d,f,p]:d},[]);return OP(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hI=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=v.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...o},l)=>v.createElement("svg",{ref:l,...Q8,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:hI("lucide",r),...o},[...a.map(([d,h])=>v.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(n,e)=>{const t=v.forwardRef(({className:s,...r},i)=>v.createElement(Z8,{ref:i,iconNode:e,className:hI(`lucide-${X8(n)}`,s),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=ke("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=ke("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=ke("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=ke("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=ke("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ke("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=ke("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dj="-",vH=n=>{const e=xH(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:a=>{const o=a.split(Dj);return o[0]===""&&o.length!==1&&o.shift(),yI(o,e)||yH(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&s[a]?[...l,...s[a]]:l}}},yI=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),r=s?yI(n.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=n.join(Dj);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},LP=/^\[(.+)\]$/,yH=n=>{if(LP.test(n)){const e=LP.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},xH=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return bH(Object.entries(n.classGroups),t).forEach(([i,a])=>{dk(a,s,i,e)}),s},dk=(n,e,t,s)=>{n.forEach(r=>{if(typeof r=="string"){const i=r===""?e:FP(e,r);i.classGroupId=t;return}if(typeof r=="function"){if(wH(r)){dk(r(s),e,t,s);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([i,a])=>{dk(a,FP(e,i),t,s)})})},FP=(n,e)=>{let t=n;return e.split(Dj).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},wH=n=>n.isThemeGetter,bH=(n,e)=>e?n.map(([t,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[t,r]}):n,_H=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const r=(i,a)=>{t.set(i,a),e++,e>n&&(e=0,s=t,t=new Map)};return{get(i){let a=t.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){t.has(i)?t.set(i,a):r(i,a)}}},xI="!",SH=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,r=e[0],i=e.length,a=o=>{const l=[];let d=0,h=0,f;for(let _=0;_<o.length;_++){let w=o[_];if(d===0){if(w===r&&(s||o.slice(_,_+i)===e)){l.push(o.slice(h,_)),h=_+i;continue}if(w==="/"){f=_;continue}}w==="["?d++:w==="]"&&d--}const p=l.length===0?o:o.substring(h),m=p.startsWith(xI),y=m?p.substring(1):p,g=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return t?o=>t({className:o,parseClassName:a}):a},CH=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},kH=n=>({cache:_H(n.cacheSize),parseClassName:SH(n),...vH(n)}),EH=/\s+/,AH=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=n.trim().split(EH);let o="";for(let l=a.length-1;l>=0;l-=1){const d=a[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=t(d);let y=!!m,g=s(y?p.substring(0,m):p);if(!g){if(!y){o=d+(o.length>0?" "+o:o);continue}if(g=s(p),!g){o=d+(o.length>0?" "+o:o);continue}y=!1}const _=CH(h).join(":"),w=f?_+xI:_,x=w+g;if(i.includes(x))continue;i.push(x);const b=r(g,y);for(let S=0;S<b.length;++S){const k=b[S];i.push(w+k)}o=d+(o.length>0?" "+o:o)}return o};function jH(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=wI(e))&&(s&&(s+=" "),s+=t);return s}const wI=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=wI(n[s]))&&(t&&(t+=" "),t+=e);return t};function NH(n,...e){let t,s,r,i=a;function a(l){const d=e.reduce((h,f)=>f(h),n());return t=kH(d),s=t.cache.get,r=t.cache.set,i=o,o(l)}function o(l){const d=s(l);if(d)return d;const h=AH(l,t);return r(l,h),h}return function(){return i(jH.apply(null,arguments))}}const Dt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},bI=/^\[(?:([a-z-]+):)?(.+)\]$/i,TH=/^\d+\/\d+$/,PH=new Set(["px","full","screen"]),RH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ro=n=>Lf(n)||PH.has(n)||TH.test(n),Pl=n=>zm(n,"length",HH),Lf=n=>!!n&&!Number.isNaN(Number(n)),b1=n=>zm(n,"number",Lf),rg=n=>!!n&&Number.isInteger(Number(n)),LH=n=>n.endsWith("%")&&Lf(n.slice(0,-1)),Ye=n=>bI.test(n),Rl=n=>RH.test(n),FH=new Set(["length","size","percentage"]),$H=n=>zm(n,FH,_I),BH=n=>zm(n,"position",_I),zH=new Set(["image","url"]),UH=n=>zm(n,zH,qH),VH=n=>zm(n,"",WH),ig=()=>!0,zm=(n,e,t)=>{const s=bI.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},HH=n=>DH.test(n)&&!MH.test(n),_I=()=>!1,WH=n=>OH.test(n),qH=n=>IH.test(n),GH=()=>{const n=Dt("colors"),e=Dt("spacing"),t=Dt("blur"),s=Dt("brightness"),r=Dt("borderColor"),i=Dt("borderRadius"),a=Dt("borderSpacing"),o=Dt("borderWidth"),l=Dt("contrast"),d=Dt("grayscale"),h=Dt("hueRotate"),f=Dt("invert"),p=Dt("gap"),m=Dt("gradientColorStops"),y=Dt("gradientColorStopPositions"),g=Dt("inset"),_=Dt("margin"),w=Dt("opacity"),x=Dt("padding"),b=Dt("saturate"),S=Dt("scale"),k=Dt("sepia"),j=Dt("skew"),N=Dt("space"),P=Dt("translate"),D=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ye,e],M=()=>[Ye,e],U=()=>["",ro,Pl],R=()=>["auto",Lf,Ye],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ye],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Lf,Ye];return{cacheSize:500,separator:":",theme:{colors:[ig],spacing:[ro,Pl],blur:["none","",Rl,Ye],brightness:ie(),borderColor:[n],borderRadius:["none","","full",Rl,Ye],borderSpacing:M(),borderWidth:U(),contrast:ie(),grayscale:L(),hueRotate:ie(),invert:L(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[LH,Pl],inset:F(),margin:F(),opacity:ie(),padding:M(),saturate:ie(),scale:ie(),sepia:L(),skew:ie(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Rl]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Ye]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rg,Ye]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",rg,Ye]}],"grid-cols":[{"grid-cols":[ig]}],"col-start-end":[{col:["auto",{span:["full",rg,Ye]},Ye]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[ig]}],"row-start-end":[{row:["auto",{span:[rg,Ye]},Ye]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[Rl]},Rl]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rl,Pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",b1]}],"font-family":[{font:[ig]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Lf,b1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ro,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ro,Pl]}],"underline-offset":[{"underline-offset":["auto",ro,Ye]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),BH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$H]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UH]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:z()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[ro,Ye]}],"outline-w":[{outline:[ro,Pl]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ro,Pl]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Rl,VH]}],"shadow-color":[{shadow:[ig]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Rl,Ye]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[rg,Ye]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ro,Pl,b1]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YH=NH(GH);function Q(...n){return YH(uI(n))}const KH=K8,SI=v.forwardRef(({className:n,...e},t)=>c.jsx(rI,{ref:t,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));SI.displayName=rI.displayName;const XH=Bm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CI=v.forwardRef(({className:n,variant:e,...t},s)=>c.jsx(iI,{ref:s,className:Q(XH({variant:e}),n),...t}));CI.displayName=iI.displayName;const QH=v.forwardRef(({className:n,...e},t)=>c.jsx(lI,{ref:t,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));QH.displayName=lI.displayName;const kI=v.forwardRef(({className:n,...e},t)=>c.jsx(cI,{ref:t,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:c.jsx(bm,{className:"h-4 w-4"})}));kI.displayName=cI.displayName;const EI=v.forwardRef(({className:n,...e},t)=>c.jsx(aI,{ref:t,className:Q("text-sm font-semibold",n),...e}));EI.displayName=aI.displayName;const AI=v.forwardRef(({className:n,...e},t)=>c.jsx(oI,{ref:t,className:Q("text-sm opacity-90",n),...e}));AI.displayName=oI.displayName;function ZH(){const{toasts:n}=or();return c.jsxs(KH,{children:[n.map(function({id:e,title:t,description:s,action:r,...i}){return c.jsxs(CI,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[t&&c.jsx(EI,{children:t}),s&&c.jsx(AI,{children:s})]}),r,c.jsx(kI,{})]},e)}),c.jsx(SI,{})]})}var $P=["light","dark"],JH="(prefers-color-scheme: dark)",eW=v.createContext(void 0),tW={setTheme:n=>{},themes:[]},nW=()=>{var n;return(n=v.useContext(eW))!=null?n:tW};v.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:a,attrs:o,nonce:l})=>{let d=i==="system",h=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,f=r?$P.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,g=!1,_=!0)=>{let w=a?a[y]:y,x=g?y+"|| ''":`'${w}'`,b="";return r&&_&&!g&&$P.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),t==="class"?g||w?b+=`c.add(${x})`:b+="null":w&&(b+=`d[s](n,${x})`),b},m=n?`!function(){${h}${p(n)}}()`:s?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${JH}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}${d?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${p(a?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var sW=n=>{switch(n){case"success":return aW;case"info":return lW;case"warning":return oW;case"error":return cW;default:return null}},rW=Array(12).fill(0),iW=({visible:n,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},G.createElement("div",{className:"sonner-spinner"},rW.map((t,s)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),aW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dW=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uW=()=>{let[n,e]=G.useState(document.hidden);return G.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},uk=1,hW=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...s}=n,r=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:uk++,i=this.toasts.find(o=>o.id===r),a=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(o=>o.id===r?(this.publish({...o,...n,id:r,title:t}),{...o,...n,id:r,dismissible:a,title:t}):o):this.addToast({title:t,...s,dismissible:a,id:r}),r},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=n instanceof Promise?n:n(),r=t!==void 0,i,a=s.then(async l=>{if(i=["resolve",l],G.isValidElement(l))r=!1,this.create({id:t,type:"default",message:l});else if(pW(l)&&!l.ok){r=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:t,type:"error",message:d,description:h})}else if(e.success!==void 0){r=!1;let d=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"success",message:d,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){r=!1;let d=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"error",message:d,description:h})}}).finally(()=>{var l;r&&(this.dismiss(t),t=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,d)=>a.then(()=>i[0]==="reject"?d(i[1]):l(i[1])).catch(d));return typeof t!="string"&&typeof t!="number"?{unwrap:o}:Object.assign(t,{unwrap:o})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||uk++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xs=new hW,fW=(n,e)=>{let t=(e==null?void 0:e.id)||uk++;return Xs.addToast({title:n,...e,id:t}),t},pW=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",mW=fW,gW=()=>Xs.toasts,vW=()=>Xs.getActiveToasts(),io=Object.assign(mW,{success:Xs.success,info:Xs.info,warning:Xs.warning,error:Xs.error,custom:Xs.custom,message:Xs.message,promise:Xs.promise,dismiss:Xs.dismiss,loading:Xs.loading},{getHistory:gW,getToasts:vW});function yW(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}yW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kw(n){return n.label!==void 0}var xW=3,wW="32px",bW="16px",BP=4e3,_W=356,SW=14,CW=20,kW=200;function Si(...n){return n.filter(Boolean).join(" ")}function EW(n){let[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}var AW=n=>{var e,t,s,r,i,a,o,l,d,h,f;let{invert:p,toast:m,unstyled:y,interacting:g,setHeights:_,visibleToasts:w,heights:x,index:b,toasts:S,expanded:k,removeToast:j,defaultRichColors:N,closeButton:P,style:D,cancelButtonStyle:T,actionButtonStyle:F,className:M="",descriptionClassName:U="",duration:R,position:V,gap:z,loadingIcon:$,expandByDefault:I,classNames:L,icons:K,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:Z}=n,[re,he]=G.useState(null),[De,je]=G.useState(null),[X,He]=G.useState(!1),[Be,Re]=G.useState(!1),[Te,Ne]=G.useState(!1),[zt,gn]=G.useState(!1),[lr,cr]=G.useState(!1),[ds,ra]=G.useState(0),[zs,O]=G.useState(0),B=G.useRef(m.duration||R||BP),q=G.useRef(null),ae=G.useRef(null),H=b===0,W=b+1<=w,ne=m.type,_e=m.dismissible!==!1,We=m.className||"",vn=m.descriptionClassName||"",us=G.useMemo(()=>x.findIndex(ze=>ze.toastId===m.id)||0,[x,m.id]),Us=G.useMemo(()=>{var ze;return(ze=m.closeButton)!=null?ze:P},[m.closeButton,P]),Cl=G.useMemo(()=>m.duration||R||BP,[m.duration,R]),yi=G.useRef(0),ws=G.useRef(0),kl=G.useRef(0),dr=G.useRef(null),[Rd,El]=V.split("-"),rw=G.useMemo(()=>x.reduce((ze,_t,Ut)=>Ut>=us?ze:ze+_t.height,0),[x,us]),yT=uW(),kU=m.invert||p,VS=ne==="loading";ws.current=G.useMemo(()=>us*z+rw,[us,rw]),G.useEffect(()=>{B.current=Cl},[Cl]),G.useEffect(()=>{He(!0)},[]),G.useEffect(()=>{let ze=ae.current;if(ze){let _t=ze.getBoundingClientRect().height;return O(_t),_(Ut=>[{toastId:m.id,height:_t,position:m.position},...Ut]),()=>_(Ut=>Ut.filter(xi=>xi.toastId!==m.id))}},[_,m.id]),G.useLayoutEffect(()=>{if(!X)return;let ze=ae.current,_t=ze.style.height;ze.style.height="auto";let Ut=ze.getBoundingClientRect().height;ze.style.height=_t,O(Ut),_(xi=>xi.find(wi=>wi.toastId===m.id)?xi.map(wi=>wi.toastId===m.id?{...wi,height:Ut}:wi):[{toastId:m.id,height:Ut,position:m.position},...xi])},[X,m.title,m.description,_,m.id]);let Al=G.useCallback(()=>{Re(!0),ra(ws.current),_(ze=>ze.filter(_t=>_t.toastId!==m.id)),setTimeout(()=>{j(m)},kW)},[m,j,_,ws]);G.useEffect(()=>{if(m.promise&&ne==="loading"||m.duration===1/0||m.type==="loading")return;let ze;return k||g||Z&&yT?(()=>{if(kl.current<yi.current){let _t=new Date().getTime()-yi.current;B.current=B.current-_t}kl.current=new Date().getTime()})():B.current!==1/0&&(yi.current=new Date().getTime(),ze=setTimeout(()=>{var _t;(_t=m.onAutoClose)==null||_t.call(m,m),Al()},B.current)),()=>clearTimeout(ze)},[k,g,m,ne,Z,yT,Al]),G.useEffect(()=>{m.delete&&Al()},[Al,m.delete]);function EU(){var ze,_t,Ut;return K!=null&&K.loading?G.createElement("div",{className:Si(L==null?void 0:L.loader,(ze=m==null?void 0:m.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":ne==="loading"},K.loading):$?G.createElement("div",{className:Si(L==null?void 0:L.loader,(_t=m==null?void 0:m.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":ne==="loading"},$):G.createElement(iW,{className:Si(L==null?void 0:L.loader,(Ut=m==null?void 0:m.classNames)==null?void 0:Ut.loader),visible:ne==="loading"})}return G.createElement("li",{tabIndex:0,ref:ae,className:Si(M,We,L==null?void 0:L.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[ne],(t=m==null?void 0:m.classNames)==null?void 0:t[ne]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:N,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":X,"data-promise":!!m.promise,"data-swiped":lr,"data-removed":Be,"data-visible":W,"data-y-position":Rd,"data-x-position":El,"data-index":b,"data-front":H,"data-swiping":Te,"data-dismissible":_e,"data-type":ne,"data-invert":kU,"data-swipe-out":zt,"data-swipe-direction":De,"data-expanded":!!(k||I&&X),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${Be?ds:ws.current}px`,"--initial-height":I?"auto":`${zs}px`,...D,...m.style},onDragEnd:()=>{Ne(!1),he(null),dr.current=null},onPointerDown:ze=>{VS||!_e||(q.current=new Date,ra(ws.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(Ne(!0),dr.current={x:ze.clientX,y:ze.clientY}))},onPointerUp:()=>{var ze,_t,Ut,xi;if(zt||!_e)return;dr.current=null;let wi=Number(((ze=ae.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jl=Number(((_t=ae.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dd=new Date().getTime()-((Ut=q.current)==null?void 0:Ut.getTime()),bi=re==="x"?wi:jl,Nl=Math.abs(bi)/Dd;if(Math.abs(bi)>=CW||Nl>.11){ra(ws.current),(xi=m.onDismiss)==null||xi.call(m,m),je(re==="x"?wi>0?"right":"left":jl>0?"down":"up"),Al(),gn(!0),cr(!1);return}Ne(!1),he(null)},onPointerMove:ze=>{var _t,Ut,xi,wi;if(!dr.current||!_e||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let jl=ze.clientY-dr.current.y,Dd=ze.clientX-dr.current.x,bi=(Ut=n.swipeDirections)!=null?Ut:EW(V);!re&&(Math.abs(Dd)>1||Math.abs(jl)>1)&&he(Math.abs(Dd)>Math.abs(jl)?"x":"y");let Nl={x:0,y:0};re==="y"?(bi.includes("top")||bi.includes("bottom"))&&(bi.includes("top")&&jl<0||bi.includes("bottom")&&jl>0)&&(Nl.y=jl):re==="x"&&(bi.includes("left")||bi.includes("right"))&&(bi.includes("left")&&Dd<0||bi.includes("right")&&Dd>0)&&(Nl.x=Dd),(Math.abs(Nl.x)>0||Math.abs(Nl.y)>0)&&cr(!0),(xi=ae.current)==null||xi.style.setProperty("--swipe-amount-x",`${Nl.x}px`),(wi=ae.current)==null||wi.style.setProperty("--swipe-amount-y",`${Nl.y}px`)}},Us&&!m.jsx?G.createElement("button",{"aria-label":ie,"data-disabled":VS,"data-close-button":!0,onClick:VS||!_e?()=>{}:()=>{var ze;Al(),(ze=m.onDismiss)==null||ze.call(m,m)},className:Si(L==null?void 0:L.closeButton,(r=m==null?void 0:m.classNames)==null?void 0:r.closeButton)},(i=K==null?void 0:K.close)!=null?i:dW):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,ne||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:Si(L==null?void 0:L.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||EU():null,m.type!=="loading"?m.icon||(K==null?void 0:K[ne])||sW(ne):null):null,G.createElement("div",{"data-content":"",className:Si(L==null?void 0:L.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},G.createElement("div",{"data-title":"",className:Si(L==null?void 0:L.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:Si(U,vn,L==null?void 0:L.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&kw(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:ze=>{var _t,Ut;kw(m.cancel)&&_e&&((Ut=(_t=m.cancel).onClick)==null||Ut.call(_t,ze),Al())},className:Si(L==null?void 0:L.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&kw(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||F,onClick:ze=>{var _t,Ut;kw(m.action)&&((Ut=(_t=m.action).onClick)==null||Ut.call(_t,ze),!ze.defaultPrevented&&Al())},className:Si(L==null?void 0:L.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function zP(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function jW(n,e){let t={};return[n,e].forEach((s,r)=>{let i=r===1,a=i?"--mobile-offset":"--offset",o=i?bW:wW;function l(d){["top","right","bottom","left"].forEach(h=>{t[`${a}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?t[`${a}-${d}`]=o:t[`${a}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):l(o)}),t}var NW=v.forwardRef(function(n,e){let{invert:t,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:d,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:y=xW,toastOptions:g,dir:_=zP(),gap:w=SW,loadingIcon:x,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:k}=n,[j,N]=G.useState([]),P=G.useMemo(()=>Array.from(new Set([s].concat(j.filter(Z=>Z.position).map(Z=>Z.position)))),[j,s]),[D,T]=G.useState([]),[F,M]=G.useState(!1),[U,R]=G.useState(!1),[V,z]=G.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=G.useRef(null),I=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=G.useRef(null),K=G.useRef(!1),ie=G.useCallback(Z=>{N(re=>{var he;return(he=re.find(De=>De.id===Z.id))!=null&&he.delete||Xs.dismiss(Z.id),re.filter(({id:De})=>De!==Z.id)})},[]);return G.useEffect(()=>Xs.subscribe(Z=>{if(Z.dismiss){N(re=>re.map(he=>he.id===Z.id?{...he,delete:!0}:he));return}setTimeout(()=>{LO.flushSync(()=>{N(re=>{let he=re.findIndex(De=>De.id===Z.id);return he!==-1?[...re.slice(0,he),{...re[he],...Z},...re.slice(he+1)]:[Z,...re]})})})}),[]),G.useEffect(()=>{if(h!=="system"){z(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:re})=>{z(re?"dark":"light")})}catch{Z.addListener(({matches:he})=>{try{z(he?"dark":"light")}catch(De){console.error(De)}})}},[h]),G.useEffect(()=>{j.length<=1&&M(!1)},[j]),G.useEffect(()=>{let Z=re=>{var he,De;r.every(je=>re[je]||re.code===je)&&(M(!0),(he=$.current)==null||he.focus()),re.code==="Escape"&&(document.activeElement===$.current||(De=$.current)!=null&&De.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[r]),G.useEffect(()=>{if($.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,K.current=!1)}},[$.current]),G.createElement("section",{ref:e,"aria-label":`${S} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((Z,re)=>{var he;let[De,je]=Z.split("-");return j.length?G.createElement("ol",{key:Z,dir:_==="auto"?zP():_,tabIndex:-1,ref:$,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":De,"data-lifted":F&&j.length>1&&!i,"data-x-position":je,style:{"--front-toast-height":`${((he=D[0])==null?void 0:he.height)||0}px`,"--width":`${_W}px`,"--gap":`${w}px`,...m,...jW(l,d)},onBlur:X=>{K.current&&!X.currentTarget.contains(X.relatedTarget)&&(K.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||K.current||(K.current=!0,L.current=X.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{U||M(!1)},onDragEnd:()=>M(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},j.filter(X=>!X.position&&re===0||X.position===Z).map((X,He)=>{var Be,Re;return G.createElement(AW,{key:X.id,icons:b,index:He,toast:X,defaultRichColors:f,duration:(Be=g==null?void 0:g.duration)!=null?Be:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:y,closeButton:(Re=g==null?void 0:g.closeButton)!=null?Re:a,interacting:U,position:Z,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ie,toasts:j.filter(Te=>Te.position==X.position),heights:D.filter(Te=>Te.position==X.position),setHeights:T,expandByDefault:i,gap:w,loadingIcon:x,expanded:F,pauseWhenPageIsHidden:k,swipeDirections:n.swipeDirections})})):null}))});const TW=({...n})=>{const{theme:e="system"}=nW();return c.jsx(NW,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var PW=DA[" useId ".trim().toString()]||(()=>{}),RW=0;function di(n){const[e,t]=v.useState(PW());return pn(()=>{t(s=>s??String(RW++))},[n]),n||(e?`radix-${e}`:"")}const DW=["top","right","bottom","left"],dd=Math.min,Or=Math.max,p0=Math.round,Ew=Math.floor,Ya=n=>({x:n,y:n}),MW={left:"right",right:"left",bottom:"top",top:"bottom"},OW={start:"end",end:"start"};function hk(n,e,t){return Or(n,dd(e,t))}function gl(n,e){return typeof n=="function"?n(e):n}function vl(n){return n.split("-")[0]}function Um(n){return n.split("-")[1]}function Mj(n){return n==="x"?"y":"x"}function Oj(n){return n==="y"?"height":"width"}const IW=new Set(["top","bottom"]);function Va(n){return IW.has(vl(n))?"y":"x"}function Ij(n){return Mj(Va(n))}function LW(n,e,t){t===void 0&&(t=!1);const s=Um(n),r=Ij(n),i=Oj(r);let a=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=m0(a)),[a,m0(a)]}function FW(n){const e=m0(n);return[fk(n),e,fk(e)]}function fk(n){return n.replace(/start|end/g,e=>OW[e])}const UP=["left","right"],VP=["right","left"],$W=["top","bottom"],BW=["bottom","top"];function zW(n,e,t){switch(n){case"top":case"bottom":return t?e?VP:UP:e?UP:VP;case"left":case"right":return e?$W:BW;default:return[]}}function UW(n,e,t,s){const r=Um(n);let i=zW(vl(n),t==="start",s);return r&&(i=i.map(a=>a+"-"+r),e&&(i=i.concat(i.map(fk)))),i}function m0(n){return n.replace(/left|right|bottom|top/g,e=>MW[e])}function VW(n){return{top:0,right:0,bottom:0,left:0,...n}}function jI(n){return typeof n!="number"?VW(n):{top:n,right:n,bottom:n,left:n}}function g0(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function HP(n,e,t){let{reference:s,floating:r}=n;const i=Va(e),a=Ij(e),o=Oj(a),l=vl(e),d=i==="y",h=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,p=s[o]/2-r[o]/2;let m;switch(l){case"top":m={x:h,y:s.y-r.height};break;case"bottom":m={x:h,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:f};break;case"left":m={x:s.x-r.width,y:f};break;default:m={x:s.x,y:s.y}}switch(Um(e)){case"start":m[a]-=p*(t&&d?-1:1);break;case"end":m[a]+=p*(t&&d?-1:1);break}return m}const HW=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:a}=t,o=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:n,floating:e,strategy:r}),{x:h,y:f}=HP(d,s,l),p=s,m={},y=0;for(let g=0;g<o.length;g++){const{name:_,fn:w}=o[g],{x,y:b,data:S,reset:k}=await w({x:h,y:f,initialPlacement:s,placement:p,strategy:r,middlewareData:m,rects:d,platform:a,elements:{reference:n,floating:e}});h=x??h,f=b??f,m={...m,[_]:{...m[_],...S}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:r}):k.rects),{x:h,y:f}=HP(d,p,l)),g=-1)}return{x:h,y:f,placement:p,strategy:r,middlewareData:m}};async function Cv(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:a,elements:o,strategy:l}=n,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=gl(e,n),y=jI(m),_=o[p?f==="floating"?"reference":"floating":f],w=g0(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(_)))==null||t?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:h,strategy:l})),x=f==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},k=g0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:l}):x);return{top:(w.top-k.top+y.top)/S.y,bottom:(k.bottom-w.bottom+y.bottom)/S.y,left:(w.left-k.left+y.left)/S.x,right:(k.right-w.right+y.right)/S.x}}const WW=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:i,platform:a,elements:o,middlewareData:l}=e,{element:d,padding:h=0}=gl(n,e)||{};if(d==null)return{};const f=jI(h),p={x:t,y:s},m=Ij(r),y=Oj(m),g=await a.getDimensions(d),_=m==="y",w=_?"top":"left",x=_?"bottom":"right",b=_?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[m]-p[m]-i.floating[y],k=p[m]-i.reference[m],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let N=j?j[b]:0;(!N||!await(a.isElement==null?void 0:a.isElement(j)))&&(N=o.floating[b]||i.floating[y]);const P=S/2-k/2,D=N/2-g[y]/2-1,T=dd(f[w],D),F=dd(f[x],D),M=T,U=N-g[y]-F,R=N/2-g[y]/2+P,V=hk(M,R,U),z=!l.arrow&&Um(r)!=null&&R!==V&&i.reference[y]/2-(R<M?T:F)-g[y]/2<0,$=z?R<M?R-M:R-U:0;return{[m]:p[m]+$,data:{[m]:V,centerOffset:R-V-$,...z&&{alignmentOffset:$}},reset:z}}}),qW=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,..._}=gl(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const w=vl(r),x=Va(o),b=vl(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(d.floating)),k=p||(b||!g?[m0(o)]:FW(o)),j=y!=="none";!p&&j&&k.push(...UW(o,g,y,S));const N=[o,...k],P=await Cv(e,_),D=[];let T=((s=i.flip)==null?void 0:s.overflows)||[];if(h&&D.push(P[w]),f){const R=LW(r,a,S);D.push(P[R[0]],P[R[1]])}if(T=[...T,{placement:r,overflows:D}],!D.every(R=>R<=0)){var F,M;const R=(((F=i.flip)==null?void 0:F.index)||0)+1,V=N[R];if(V&&(!(f==="alignment"?x!==Va(V):!1)||T.every(I=>Va(I.placement)===x?I.overflows[0]>0:!0)))return{data:{index:R,overflows:T},reset:{placement:V}};let z=(M=T.filter($=>$.overflows[0]<=0).sort(($,I)=>$.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!z)switch(m){case"bestFit":{var U;const $=(U=T.filter(I=>{if(j){const L=Va(I.placement);return L===x||L==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(L=>L>0).reduce((L,K)=>L+K,0)]).sort((I,L)=>I[1]-L[1])[0])==null?void 0:U[0];$&&(z=$);break}case"initialPlacement":z=o;break}if(r!==z)return{reset:{placement:z}}}return{}}}};function WP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function qP(n){return DW.some(e=>n[e]>=0)}const GW=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=gl(n,e);switch(s){case"referenceHidden":{const i=await Cv(e,{...r,elementContext:"reference"}),a=WP(i,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:qP(a)}}}case"escaped":{const i=await Cv(e,{...r,altBoundary:!0}),a=WP(i,t.floating);return{data:{escapedOffsets:a,escaped:qP(a)}}}default:return{}}}}},NI=new Set(["left","top"]);async function YW(n,e){const{placement:t,platform:s,elements:r}=n,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=vl(t),o=Um(t),l=Va(t)==="y",d=NI.has(a)?-1:1,h=i&&l?-1:1,f=gl(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),l?{x:m*h,y:p*d}:{x:p*d,y:m*h}}const KW=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:i,placement:a,middlewareData:o}=e,l=await YW(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(s=o.arrow)!=null&&s.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:a}}}}},XW=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:_=>{let{x:w,y:x}=_;return{x:w,y:x}}},...l}=gl(n,e),d={x:t,y:s},h=await Cv(e,l),f=Va(vl(r)),p=Mj(f);let m=d[p],y=d[f];if(i){const _=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=m+h[_],b=m-h[w];m=hk(x,m,b)}if(a){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=y+h[_],b=y-h[w];y=hk(x,y,b)}const g=o.fn({...e,[p]:m,[f]:y});return{...g,data:{x:g.x-t,y:g.y-s,enabled:{[p]:i,[f]:a}}}}}},QW=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:d=!0}=gl(n,e),h={x:t,y:s},f=Va(r),p=Mj(f);let m=h[p],y=h[f];const g=gl(o,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=p==="y"?"height":"width",S=i.reference[p]-i.floating[b]+_.mainAxis,k=i.reference[p]+i.reference[b]-_.mainAxis;m<S?m=S:m>k&&(m=k)}if(d){var w,x;const b=p==="y"?"width":"height",S=NI.has(vl(r)),k=i.reference[f]-i.floating[b]+(S&&((w=a.offset)==null?void 0:w[f])||0)+(S?0:_.crossAxis),j=i.reference[f]+i.reference[b]+(S?0:((x=a.offset)==null?void 0:x[f])||0)-(S?_.crossAxis:0);y<k?y=k:y>j&&(y=j)}return{[p]:m,[f]:y}}}},ZW=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:i,platform:a,elements:o}=e,{apply:l=()=>{},...d}=gl(n,e),h=await Cv(e,d),f=vl(r),p=Um(r),m=Va(r)==="y",{width:y,height:g}=i.floating;let _,w;f==="top"||f==="bottom"?(_=f,w=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=f,_=p==="end"?"top":"bottom");const x=g-h.top-h.bottom,b=y-h.left-h.right,S=dd(g-h[_],x),k=dd(y-h[w],b),j=!e.middlewareData.shift;let N=S,P=k;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=b),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(N=x),j&&!p){const T=Or(h.left,0),F=Or(h.right,0),M=Or(h.top,0),U=Or(h.bottom,0);m?P=y-2*(T!==0||F!==0?T+F:Or(h.left,h.right)):N=g-2*(M!==0||U!==0?M+U:Or(h.top,h.bottom))}await l({...e,availableWidth:P,availableHeight:N});const D=await a.getDimensions(o.floating);return y!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function z_(){return typeof window<"u"}function Vm(n){return TI(n)?(n.nodeName||"").toLowerCase():"#document"}function $r(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function no(n){var e;return(e=(TI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function TI(n){return z_()?n instanceof Node||n instanceof $r(n).Node:!1}function Zi(n){return z_()?n instanceof Element||n instanceof $r(n).Element:!1}function Qa(n){return z_()?n instanceof HTMLElement||n instanceof $r(n).HTMLElement:!1}function GP(n){return!z_()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $r(n).ShadowRoot}const JW=new Set(["inline","contents"]);function Nx(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=Ji(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!JW.has(r)}const e9=new Set(["table","td","th"]);function t9(n){return e9.has(Vm(n))}const n9=[":popover-open",":modal"];function U_(n){return n9.some(e=>{try{return n.matches(e)}catch{return!1}})}const s9=["transform","translate","scale","rotate","perspective"],r9=["transform","translate","scale","rotate","perspective","filter"],i9=["paint","layout","strict","content"];function Lj(n){const e=Fj(),t=Zi(n)?Ji(n):n;return s9.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||r9.some(s=>(t.willChange||"").includes(s))||i9.some(s=>(t.contain||"").includes(s))}function a9(n){let e=ud(n);for(;Qa(e)&&!_m(e);){if(Lj(e))return e;if(U_(e))return null;e=ud(e)}return null}function Fj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const o9=new Set(["html","body","#document"]);function _m(n){return o9.has(Vm(n))}function Ji(n){return $r(n).getComputedStyle(n)}function V_(n){return Zi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ud(n){if(Vm(n)==="html")return n;const e=n.assignedSlot||n.parentNode||GP(n)&&n.host||no(n);return GP(e)?e.host:e}function PI(n){const e=ud(n);return _m(e)?n.ownerDocument?n.ownerDocument.body:n.body:Qa(e)&&Nx(e)?e:PI(e)}function kv(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=PI(n),i=r===((s=n.ownerDocument)==null?void 0:s.body),a=$r(r);if(i){const o=pk(a);return e.concat(a,a.visualViewport||[],Nx(r)?r:[],o&&t?kv(o):[])}return e.concat(r,kv(r,[],t))}function pk(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function RI(n){const e=Ji(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Qa(n),i=r?n.offsetWidth:t,a=r?n.offsetHeight:s,o=p0(t)!==i||p0(s)!==a;return o&&(t=i,s=a),{width:t,height:s,$:o}}function $j(n){return Zi(n)?n:n.contextElement}function Ff(n){const e=$j(n);if(!Qa(e))return Ya(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:i}=RI(e);let a=(i?p0(t.width):t.width)/s,o=(i?p0(t.height):t.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const l9=Ya(0);function DI(n){const e=$r(n);return!Fj()||!e.visualViewport?l9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function c9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$r(n)?!1:e}function xh(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=$j(n);let a=Ya(1);e&&(s?Zi(s)&&(a=Ff(s)):a=Ff(n));const o=c9(i,t,s)?DI(i):Ya(0);let l=(r.left+o.x)/a.x,d=(r.top+o.y)/a.y,h=r.width/a.x,f=r.height/a.y;if(i){const p=$r(i),m=s&&Zi(s)?$r(s):s;let y=p,g=pk(y);for(;g&&s&&m!==y;){const _=Ff(g),w=g.getBoundingClientRect(),x=Ji(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*_.x,S=w.top+(g.clientTop+parseFloat(x.paddingTop))*_.y;l*=_.x,d*=_.y,h*=_.x,f*=_.y,l+=b,d+=S,y=$r(g),g=pk(y)}}return g0({width:h,height:f,x:l,y:d})}function H_(n,e){const t=V_(n).scrollLeft;return e?e.left+t:xh(no(n)).left+t}function MI(n,e){const t=n.getBoundingClientRect(),s=t.left+e.scrollLeft-H_(n,t),r=t.top+e.scrollTop;return{x:s,y:r}}function d9(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const i=r==="fixed",a=no(s),o=e?U_(e.floating):!1;if(s===a||o&&i)return t;let l={scrollLeft:0,scrollTop:0},d=Ya(1);const h=Ya(0),f=Qa(s);if((f||!f&&!i)&&((Vm(s)!=="body"||Nx(a))&&(l=V_(s)),Qa(s))){const m=xh(s);d=Ff(s),h.x=m.x+s.clientLeft,h.y=m.y+s.clientTop}const p=a&&!f&&!i?MI(a,l):Ya(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-l.scrollLeft*d.x+h.x+p.x,y:t.y*d.y-l.scrollTop*d.y+h.y+p.y}}function u9(n){return Array.from(n.getClientRects())}function h9(n){const e=no(n),t=V_(n),s=n.ownerDocument.body,r=Or(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Or(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-t.scrollLeft+H_(n);const o=-t.scrollTop;return Ji(s).direction==="rtl"&&(a+=Or(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:a,y:o}}const YP=25;function f9(n,e){const t=$r(n),s=no(n),r=t.visualViewport;let i=s.clientWidth,a=s.clientHeight,o=0,l=0;if(r){i=r.width,a=r.height;const h=Fj();(!h||h&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}const d=H_(s);if(d<=0){const h=s.ownerDocument,f=h.body,p=getComputedStyle(f),m=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(s.clientWidth-f.clientWidth-m);y<=YP&&(i-=y)}else d<=YP&&(i+=d);return{width:i,height:a,x:o,y:l}}const p9=new Set(["absolute","fixed"]);function m9(n,e){const t=xh(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,i=Qa(n)?Ff(n):Ya(1),a=n.clientWidth*i.x,o=n.clientHeight*i.y,l=r*i.x,d=s*i.y;return{width:a,height:o,x:l,y:d}}function KP(n,e,t){let s;if(e==="viewport")s=f9(n,t);else if(e==="document")s=h9(no(n));else if(Zi(e))s=m9(e,t);else{const r=DI(n);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return g0(s)}function OI(n,e){const t=ud(n);return t===e||!Zi(t)||_m(t)?!1:Ji(t).position==="fixed"||OI(t,e)}function g9(n,e){const t=e.get(n);if(t)return t;let s=kv(n,[],!1).filter(o=>Zi(o)&&Vm(o)!=="body"),r=null;const i=Ji(n).position==="fixed";let a=i?ud(n):n;for(;Zi(a)&&!_m(a);){const o=Ji(a),l=Lj(a);!l&&o.position==="fixed"&&(r=null),(i?!l&&!r:!l&&o.position==="static"&&!!r&&p9.has(r.position)||Nx(a)&&!l&&OI(n,a))?s=s.filter(h=>h!==a):r=o,a=ud(a)}return e.set(n,s),s}function v9(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const a=[...t==="clippingAncestors"?U_(e)?[]:g9(e,this._c):[].concat(t),s],o=a[0],l=a.reduce((d,h)=>{const f=KP(e,h,r);return d.top=Or(f.top,d.top),d.right=dd(f.right,d.right),d.bottom=dd(f.bottom,d.bottom),d.left=Or(f.left,d.left),d},KP(e,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function y9(n){const{width:e,height:t}=RI(n);return{width:e,height:t}}function x9(n,e,t){const s=Qa(e),r=no(e),i=t==="fixed",a=xh(n,!0,i,e);let o={scrollLeft:0,scrollTop:0};const l=Ya(0);function d(){l.x=H_(r)}if(s||!s&&!i)if((Vm(e)!=="body"||Nx(r))&&(o=V_(e)),s){const m=xh(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else r&&d();i&&!s&&r&&d();const h=r&&!s&&!i?MI(r,o):Ya(0),f=a.left+o.scrollLeft-l.x-h.x,p=a.top+o.scrollTop-l.y-h.y;return{x:f,y:p,width:a.width,height:a.height}}function _1(n){return Ji(n).position==="static"}function XP(n,e){if(!Qa(n)||Ji(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return no(n)===t&&(t=t.ownerDocument.body),t}function II(n,e){const t=$r(n);if(U_(n))return t;if(!Qa(n)){let r=ud(n);for(;r&&!_m(r);){if(Zi(r)&&!_1(r))return r;r=ud(r)}return t}let s=XP(n,e);for(;s&&t9(s)&&_1(s);)s=XP(s,e);return s&&_m(s)&&_1(s)&&!Lj(s)?t:s||a9(n)||t}const w9=async function(n){const e=this.getOffsetParent||II,t=this.getDimensions,s=await t(n.floating);return{reference:x9(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function b9(n){return Ji(n).direction==="rtl"}const _9={convertOffsetParentRelativeRectToViewportRelativeRect:d9,getDocumentElement:no,getClippingRect:v9,getOffsetParent:II,getElementRects:w9,getClientRects:u9,getDimensions:y9,getScale:Ff,isElement:Zi,isRTL:b9};function LI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function S9(n,e){let t=null,s;const r=no(n);function i(){var o;clearTimeout(s),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const d=n.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=d;if(o||e(),!p||!m)return;const y=Ew(f),g=Ew(r.clientWidth-(h+p)),_=Ew(r.clientHeight-(f+m)),w=Ew(h),b={rootMargin:-y+"px "+-g+"px "+-_+"px "+-w+"px",threshold:Or(0,dd(1,l))||1};let S=!0;function k(j){const N=j[0].intersectionRatio;if(N!==l){if(!S)return a();N?a(!1,N):s=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!LI(d,n.getBoundingClientRect())&&a(),S=!1}try{t=new IntersectionObserver(k,{...b,root:r.ownerDocument})}catch{t=new IntersectionObserver(k,b)}t.observe(n)}return a(!0),i}function C9(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,d=$j(n),h=r||i?[...d?kv(d):[],...kv(e)]:[];h.forEach(w=>{r&&w.addEventListener("scroll",t,{passive:!0}),i&&w.addEventListener("resize",t)});const f=d&&o?S9(d,t):null;let p=-1,m=null;a&&(m=new ResizeObserver(w=>{let[x]=w;x&&x.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),d&&!l&&m.observe(d),m.observe(e));let y,g=l?xh(n):null;l&&_();function _(){const w=xh(n);g&&!LI(g,w)&&t(),g=w,y=requestAnimationFrame(_)}return t(),()=>{var w;h.forEach(x=>{r&&x.removeEventListener("scroll",t),i&&x.removeEventListener("resize",t)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const k9=KW,E9=XW,A9=qW,j9=ZW,N9=GW,QP=WW,T9=QW,P9=(n,e,t)=>{const s=new Map,r={platform:_9,...t},i={...r.platform,_c:s};return HW(n,e,{...r,platform:i})};var R9=typeof document<"u",D9=function(){},ob=R9?v.useLayoutEffect:D9;function v0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!v0(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const i=r[s];if(!(i==="_owner"&&n.$$typeof)&&!v0(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function FI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ZP(n,e){const t=FI(n);return Math.round(e*t)/t}function S1(n){const e=v.useRef(n);return ob(()=>{e.current=n}),e}function M9(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:l,open:d}=n,[h,f]=v.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=v.useState(s);v0(p,s)||m(s);const[y,g]=v.useState(null),[_,w]=v.useState(null),x=v.useCallback(I=>{I!==j.current&&(j.current=I,g(I))},[]),b=v.useCallback(I=>{I!==N.current&&(N.current=I,w(I))},[]),S=i||y,k=a||_,j=v.useRef(null),N=v.useRef(null),P=v.useRef(h),D=l!=null,T=S1(l),F=S1(r),M=S1(d),U=v.useCallback(()=>{if(!j.current||!N.current)return;const I={placement:e,strategy:t,middleware:p};F.current&&(I.platform=F.current),P9(j.current,N.current,I).then(L=>{const K={...L,isPositioned:M.current!==!1};R.current&&!v0(P.current,K)&&(P.current=K,Mh.flushSync(()=>{f(K)}))})},[p,e,t,F,M]);ob(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[d]);const R=v.useRef(!1);ob(()=>(R.current=!0,()=>{R.current=!1}),[]),ob(()=>{if(S&&(j.current=S),k&&(N.current=k),S&&k){if(T.current)return T.current(S,k,U);U()}},[S,k,U,T,D]);const V=v.useMemo(()=>({reference:j,floating:N,setReference:x,setFloating:b}),[x,b]),z=v.useMemo(()=>({reference:S,floating:k}),[S,k]),$=v.useMemo(()=>{const I={position:t,left:0,top:0};if(!z.floating)return I;const L=ZP(z.floating,h.x),K=ZP(z.floating,h.y);return o?{...I,transform:"translate("+L+"px, "+K+"px)",...FI(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:L,top:K}},[t,o,z.floating,h.x,h.y]);return v.useMemo(()=>({...h,update:U,refs:V,elements:z,floatingStyles:$}),[h,U,V,z,$])}const O9=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?QP({element:s.current,padding:r}).fn(t):{}:s?QP({element:s,padding:r}).fn(t):{}}}},I9=(n,e)=>({...k9(n),options:[n,e]}),L9=(n,e)=>({...E9(n),options:[n,e]}),F9=(n,e)=>({...T9(n),options:[n,e]}),$9=(n,e)=>({...A9(n),options:[n,e]}),B9=(n,e)=>({...j9(n),options:[n,e]}),z9=(n,e)=>({...N9(n),options:[n,e]}),U9=(n,e)=>({...O9(n),options:[n,e]});var V9="Arrow",$I=v.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...i}=n;return c.jsx(ve.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});$I.displayName=V9;var H9=$I;function Bj(n){const[e,t]=v.useState(void 0);return pn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let a,o;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;a=d.inlineSize,o=d.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var zj="Popper",[BI,kd]=cs(zj),[W9,zI]=BI(zj),UI=n=>{const{__scopePopper:e,children:t}=n,[s,r]=v.useState(null);return c.jsx(W9,{scope:e,anchor:s,onAnchorChange:r,children:t})};UI.displayName=zj;var VI="PopperAnchor",HI=v.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,i=zI(VI,t),a=v.useRef(null),o=Ie(e,a),l=v.useRef(null);return v.useEffect(()=>{const d=l.current;l.current=(s==null?void 0:s.current)||a.current,d!==l.current&&i.onAnchorChange(l.current)}),s?null:c.jsx(ve.div,{...r,ref:o})});HI.displayName=VI;var Uj="PopperContent",[q9,G9]=BI(Uj),WI=v.forwardRef((n,e)=>{var X,He,Be,Re,Te,Ne;const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=n,_=zI(Uj,t),[w,x]=v.useState(null),b=Ie(e,zt=>x(zt)),[S,k]=v.useState(null),j=Bj(S),N=(j==null?void 0:j.width)??0,P=(j==null?void 0:j.height)??0,D=s+(i!=="center"?"-"+i:""),T=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},F=Array.isArray(d)?d:[d],M=F.length>0,U={padding:T,boundary:F.filter(K9),altBoundary:M},{refs:R,floatingStyles:V,placement:z,isPositioned:$,middlewareData:I}=M9({strategy:"fixed",placement:D,whileElementsMounted:(...zt)=>C9(...zt,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[I9({mainAxis:r+P,alignmentAxis:a}),l&&L9({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?F9():void 0,...U}),l&&$9({...U}),B9({...U,apply:({elements:zt,rects:gn,availableWidth:lr,availableHeight:cr})=>{const{width:ds,height:ra}=gn.reference,zs=zt.floating.style;zs.setProperty("--radix-popper-available-width",`${lr}px`),zs.setProperty("--radix-popper-available-height",`${cr}px`),zs.setProperty("--radix-popper-anchor-width",`${ds}px`),zs.setProperty("--radix-popper-anchor-height",`${ra}px`)}}),S&&U9({element:S,padding:o}),X9({arrowWidth:N,arrowHeight:P}),p&&z9({strategy:"referenceHidden",...U})]}),[L,K]=YI(z),ie=on(y);pn(()=>{$&&(ie==null||ie())},[$,ie]);const Z=(X=I.arrow)==null?void 0:X.x,re=(He=I.arrow)==null?void 0:He.y,he=((Be=I.arrow)==null?void 0:Be.centerOffset)!==0,[De,je]=v.useState();return pn(()=>{w&&je(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:$?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(Re=I.transformOrigin)==null?void 0:Re.x,(Te=I.transformOrigin)==null?void 0:Te.y].join(" "),...((Ne=I.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:c.jsx(q9,{scope:t,placedSide:L,onArrowChange:k,arrowX:Z,arrowY:re,shouldHideArrow:he,children:c.jsx(ve.div,{"data-side":L,"data-align":K,...g,ref:b,style:{...g.style,animation:$?void 0:"none"}})})})});WI.displayName=Uj;var qI="PopperArrow",Y9={top:"bottom",right:"left",bottom:"top",left:"right"},GI=v.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,i=G9(qI,s),a=Y9[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(H9,{...r,ref:t,style:{...r.style,display:"block"}})})});GI.displayName=qI;function K9(n){return n!==null}var X9=n=>({name:"transformOrigin",options:n,fn(e){var _,w,x;const{placement:t,rects:s,middlewareData:r}=e,a=((_=r.arrow)==null?void 0:_.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[d,h]=YI(t),f={start:"0%",center:"50%",end:"100%"}[h],p=(((w=r.arrow)==null?void 0:w.x)??0)+o/2,m=(((x=r.arrow)==null?void 0:x.y)??0)+l/2;let y="",g="";return d==="bottom"?(y=a?f:`${p}px`,g=`${-l}px`):d==="top"?(y=a?f:`${p}px`,g=`${s.floating.height+l}px`):d==="right"?(y=`${-l}px`,g=a?f:`${m}px`):d==="left"&&(y=`${s.floating.width+l}px`,g=a?f:`${m}px`),{data:{x:y,y:g}}}});function YI(n){const[e,t="center"]=n.split("-");return[e,t]}var W_=UI,Tx=HI,q_=WI,G_=GI,[Y_,ile]=cs("Tooltip",[kd]),K_=kd(),KI="TooltipProvider",Q9=700,mk="tooltip.open",[Z9,Vj]=Y_(KI),XI=n=>{const{__scopeTooltip:e,delayDuration:t=Q9,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=n,a=v.useRef(!0),o=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),c.jsx(Z9,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:o,onPointerInTransitChange:v.useCallback(d=>{o.current=d},[]),disableHoverableContent:r,children:i})};XI.displayName=KI;var Ev="Tooltip",[J9,X_]=Y_(Ev),QI=n=>{const{__scopeTooltip:e,children:t,open:s,defaultOpen:r,onOpenChange:i,disableHoverableContent:a,delayDuration:o}=n,l=Vj(Ev,n.__scopeTooltip),d=K_(e),[h,f]=v.useState(null),p=di(),m=v.useRef(0),y=a??l.disableHoverableContent,g=o??l.delayDuration,_=v.useRef(!1),[w,x]=Qi({prop:s,defaultProp:r??!1,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(mk))):l.onClose(),i==null||i(N)},caller:Ev}),b=v.useMemo(()=>w?_.current?"delayed-open":"instant-open":"closed",[w]),S=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_.current=!1,x(!0)},[x]),k=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),j=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{_.current=!0,x(!0),m.current=0},g)},[g,x]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(W_,{...d,children:c.jsx(J9,{scope:e,contentId:p,open:w,stateAttribute:b,trigger:h,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{l.isOpenDelayedRef.current?j():S()},[l.isOpenDelayedRef,j,S]),onTriggerLeave:v.useCallback(()=>{y?k():(window.clearTimeout(m.current),m.current=0)},[k,y]),onOpen:S,onClose:k,disableHoverableContent:y,children:t})})};QI.displayName=Ev;var gk="TooltipTrigger",ZI=v.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=X_(gk,t),i=Vj(gk,t),a=K_(t),o=v.useRef(null),l=Ie(e,o,r.onTriggerChange),d=v.useRef(!1),h=v.useRef(!1),f=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(Tx,{asChild:!0,...a,children:c.jsx(ve.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:l,onPointerMove:te(n.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),h.current=!0)}),onPointerLeave:te(n.onPointerLeave,()=>{r.onTriggerLeave(),h.current=!1}),onPointerDown:te(n.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:te(n.onFocus,()=>{d.current||r.onOpen()}),onBlur:te(n.onBlur,r.onClose),onClick:te(n.onClick,r.onClose)})})});ZI.displayName=gk;var eq="TooltipPortal",[ale,tq]=Y_(eq,{forceMount:void 0}),Sm="TooltipContent",JI=v.forwardRef((n,e)=>{const t=tq(Sm,n.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...i}=n,a=X_(Sm,n.__scopeTooltip);return c.jsx(Gn,{present:s||a.open,children:a.disableHoverableContent?c.jsx(eL,{side:r,...i,ref:e}):c.jsx(nq,{side:r,...i,ref:e})})}),nq=v.forwardRef((n,e)=>{const t=X_(Sm,n.__scopeTooltip),s=Vj(Sm,n.__scopeTooltip),r=v.useRef(null),i=Ie(e,r),[a,o]=v.useState(null),{trigger:l,onClose:d}=t,h=r.current,{onPointerInTransitChange:f}=s,p=v.useCallback(()=>{o(null),f(!1)},[f]),m=v.useCallback((y,g)=>{const _=y.currentTarget,w={x:y.clientX,y:y.clientY},x=oq(w,_.getBoundingClientRect()),b=lq(w,x),S=cq(g.getBoundingClientRect()),k=uq([...b,...S]);o(k),f(!0)},[f]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(l&&h){const y=_=>m(_,h),g=_=>m(_,l);return l.addEventListener("pointerleave",y),h.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),h.removeEventListener("pointerleave",g)}}},[l,h,m,p]),v.useEffect(()=>{if(a){const y=g=>{const _=g.target,w={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(_))||(h==null?void 0:h.contains(_)),b=!dq(w,a);x?p():b&&(p(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,h,a,d,p]),c.jsx(eL,{...n,ref:i})}),[sq,rq]=Y_(Ev,{isInside:!1}),iq=BO("TooltipContent"),eL=v.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=n,l=X_(Sm,t),d=K_(t),{onClose:h}=l;return v.useEffect(()=>(document.addEventListener(mk,h),()=>document.removeEventListener(mk,h)),[h]),v.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),c.jsx(Oh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:c.jsxs(q_,{"data-state":l.stateAttribute,...d,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(iq,{children:s}),c.jsx(sq,{scope:t,isInside:!0,children:c.jsx(P8,{id:l.contentId,role:"tooltip",children:r||s})})]})})});JI.displayName=Sm;var tL="TooltipArrow",aq=v.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=K_(t);return rq(tL,t).isInside?null:c.jsx(G_,{...r,...s,ref:e})});aq.displayName=tL;function oq(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,s,r,i)){case i:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function lq(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function cq(n){const{top:e,right:t,bottom:s,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:s},{x:r,y:s}]}function dq(n,e){const{x:t,y:s}=n;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],l=e[a],d=o.x,h=o.y,f=l.x,p=l.y;h>s!=p>s&&t<(f-d)*(s-h)/(p-h)+d&&(r=!r)}return r}function uq(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),hq(e)}function hq(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const r=n[s];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const r=n[s];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var fq=XI,pq=QI,mq=ZI,nL=JI;const sL=fq,gq=pq,vq=mq,rL=v.forwardRef(({className:n,sideOffset:e=4,...t},s)=>c.jsx(nL,{ref:s,sideOffset:e,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));rL.displayName=nL.displayName;var Q_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yq={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},Yl,AA,mD,xq=(mD=class{constructor(){E(this,Yl,yq);E(this,AA,!1)}setTimeoutProvider(n){C(this,Yl,n)}setTimeout(n,e){return u(this,Yl).setTimeout(n,e)}clearTimeout(n){u(this,Yl).clearTimeout(n)}setInterval(n,e){return u(this,Yl).setInterval(n,e)}clearInterval(n){u(this,Yl).clearInterval(n)}},Yl=new WeakMap,AA=new WeakMap,mD),vk=new xq;function wq(n){setTimeout(n,0)}var Z_=typeof window>"u"||"Deno"in globalThis;function ji(){}function bq(n,e){return typeof n=="function"?n(e):n}function _q(n){return typeof n=="number"&&n>=0&&n!==1/0}function Sq(n,e){return Math.max(n+(e||0)-Date.now(),0)}function yk(n,e){return typeof n=="function"?n(e):n}function Cq(n,e){return typeof n=="function"?n(e):n}function JP(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:o}=n;if(a){if(s){if(e.queryHash!==Hj(a,e.options))return!1}else if(!jv(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||r&&r!==e.state.fetchStatus||i&&!i(e))}function eR(n,e){const{exact:t,status:s,predicate:r,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(Av(e.options.mutationKey)!==Av(i))return!1}else if(!jv(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Hj(n,e){return((e==null?void 0:e.queryKeyHashFn)||Av)(n)}function Av(n){return JSON.stringify(n,(e,t)=>xk(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function jv(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>jv(n[t],e[t])):!1}var kq=Object.prototype.hasOwnProperty;function iL(n,e){if(n===e)return n;const t=tR(n)&&tR(e);if(!t&&!(xk(n)&&xk(e)))return e;const r=(t?n:Object.keys(n)).length,i=t?e:Object.keys(e),a=i.length,o=t?new Array(a):{};let l=0;for(let d=0;d<a;d++){const h=t?d:i[d],f=n[h],p=e[h];if(f===p){o[h]=f,(t?d<r:kq.call(n,h))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){o[h]=p;continue}const m=iL(f,p);o[h]=m,m===f&&l++}return r===a&&l===r?n:o}function tR(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function xk(n){if(!nR(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!nR(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function nR(n){return Object.prototype.toString.call(n)==="[object Object]"}function Eq(n){return new Promise(e=>{vk.setTimeout(e,n)})}function Aq(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?iL(n,e):e}function jq(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function Nq(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var Wj=Symbol();function aL(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Wj?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Jd,Kl,Vf,gD,Tq=(gD=class extends Q_{constructor(){super();E(this,Jd);E(this,Kl);E(this,Vf);C(this,Vf,e=>{if(!Z_&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){u(this,Kl)||this.setEventListener(u(this,Vf))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Kl))==null||e.call(this),C(this,Kl,void 0))}setEventListener(e){var t;C(this,Vf,e),(t=u(this,Kl))==null||t.call(this),C(this,Kl,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){u(this,Jd)!==e&&(C(this,Jd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof u(this,Jd)=="boolean"?u(this,Jd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Jd=new WeakMap,Kl=new WeakMap,Vf=new WeakMap,gD),oL=new Tq;function Pq(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}var Rq=wq;function Dq(){let n=[],e=0,t=o=>{o()},s=o=>{o()},r=Rq;const i=o=>{e?n.push(o):r(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&r(()=>{s(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{r=o}}}var Ms=Dq(),Hf,Xl,Wf,vD,Mq=(vD=class extends Q_{constructor(){super();E(this,Hf,!0);E(this,Xl);E(this,Wf);C(this,Wf,e=>{if(!Z_&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){u(this,Xl)||this.setEventListener(u(this,Wf))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,Xl))==null||e.call(this),C(this,Xl,void 0))}setEventListener(e){var t;C(this,Wf,e),(t=u(this,Xl))==null||t.call(this),C(this,Xl,e(this.setOnline.bind(this)))}setOnline(e){u(this,Hf)!==e&&(C(this,Hf,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return u(this,Hf)}},Hf=new WeakMap,Xl=new WeakMap,Wf=new WeakMap,vD),y0=new Mq;function Oq(n){return Math.min(1e3*2**n,3e4)}function lL(n){return(n??"online")==="online"?y0.isOnline():!0}var wk=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function cL(n){let e=!1,t=0,s;const r=Pq(),i=()=>r.status!=="pending",a=g=>{var _;if(!i()){const w=new wk(g);p(w),(_=n.onCancel)==null||_.call(n,w)}},o=()=>{e=!0},l=()=>{e=!1},d=()=>oL.isFocused()&&(n.networkMode==="always"||y0.isOnline())&&n.canRun(),h=()=>lL(n.networkMode)&&n.canRun(),f=g=>{i()||(s==null||s(),r.resolve(g))},p=g=>{i()||(s==null||s(),r.reject(g))},m=()=>new Promise(g=>{var _;s=w=>{(i()||d())&&g(w)},(_=n.onPause)==null||_.call(n)}).then(()=>{var g;s=void 0,i()||(g=n.onContinue)==null||g.call(n)}),y=()=>{if(i())return;let g;const _=t===0?n.initialPromise:void 0;try{g=_??n.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var j;if(i())return;const x=n.retry??(Z_?0:3),b=n.retryDelay??Oq,S=typeof b=="function"?b(t,w):b,k=x===!0||typeof x=="number"&&t<x||typeof x=="function"&&x(t,w);if(e||!k){p(w);return}t++,(j=n.onFail)==null||j.call(n,t,w),Eq(S).then(()=>d()?void 0:m()).then(()=>{e?p(w):y()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(s==null||s(),r),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?y():m().then(y),r)}}var eu,yD,dL=(yD=class{constructor(){E(this,eu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_q(this.gcTime)&&C(this,eu,vk.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Z_?1/0:5*60*1e3))}clearGcTimeout(){u(this,eu)&&(vk.clearTimeout(u(this,eu)),C(this,eu,void 0))}},eu=new WeakMap,yD),tu,qf,Yr,nu,Fn,Hv,su,Ni,lo,xD,Iq=(xD=class extends dL{constructor(e){super();E(this,Ni);E(this,tu);E(this,qf);E(this,Yr);E(this,nu);E(this,Fn);E(this,Hv);E(this,su);C(this,su,!1),C(this,Hv,e.defaultOptions),this.setOptions(e.options),this.observers=[],C(this,nu,e.client),C(this,Yr,u(this,nu).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,C(this,tu,sR(this.options)),this.state=e.state??u(this,tu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=u(this,Fn))==null?void 0:e.promise}setOptions(e){if(this.options={...u(this,Hv),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=sR(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),C(this,tu,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,Yr).remove(this)}setData(e,t){const s=Aq(this.state.data,e,this.options);return A(this,Ni,lo).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){A(this,Ni,lo).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=u(this,Fn))==null?void 0:s.promise;return(r=u(this,Fn))==null||r.cancel(e),t?t.then(ji).catch(ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,tu))}isActive(){return this.observers.some(e=>Cq(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yk(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Sq(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,Fn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=u(this,Fn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),u(this,Yr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(u(this,Fn)&&(u(this,su)?u(this,Fn).cancel({revert:!0}):u(this,Fn).cancelRetry()),this.scheduleGc()),u(this,Yr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||A(this,Ni,lo).call(this,{type:"invalidate"})}async fetch(e,t){var l,d,h,f,p,m,y,g,_,w,x,b;if(this.state.fetchStatus!=="idle"&&((l=u(this,Fn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(u(this,Fn))return u(this,Fn).continueRetry(),u(this,Fn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(k=>k.options.queryFn);S&&this.setOptions(S.options)}const s=new AbortController,r=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(C(this,su,!0),s.signal)})},i=()=>{const S=aL(this.options,t),j=(()=>{const N={client:u(this,nu),queryKey:this.queryKey,meta:this.meta};return r(N),N})();return C(this,su,!1),this.options.persister?this.options.persister(S,j,this):S(j)},o=(()=>{const S={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:u(this,nu),state:this.state,fetchFn:i};return r(S),S})();(d=this.options.behavior)==null||d.onFetch(o,this),C(this,qf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&A(this,Ni,lo).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),C(this,Fn,cL({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,onCancel:S=>{S instanceof wk&&S.revert&&this.setState({...u(this,qf),fetchStatus:"idle"}),s.abort()},onFail:(S,k)=>{A(this,Ni,lo).call(this,{type:"failed",failureCount:S,error:k})},onPause:()=>{A(this,Ni,lo).call(this,{type:"pause"})},onContinue:()=>{A(this,Ni,lo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const S=await u(this,Fn).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(m=(p=u(this,Yr).config).onSuccess)==null||m.call(p,S,this),(g=(y=u(this,Yr).config).onSettled)==null||g.call(y,S,this.state.error,this),S}catch(S){if(S instanceof wk){if(S.silent)return u(this,Fn).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw A(this,Ni,lo).call(this,{type:"error",error:S}),(w=(_=u(this,Yr).config).onError)==null||w.call(_,S,this),(b=(x=u(this,Yr).config).onSettled)==null||b.call(x,this.state.data,S,this),S}finally{this.scheduleGc()}}},tu=new WeakMap,qf=new WeakMap,Yr=new WeakMap,nu=new WeakMap,Fn=new WeakMap,Hv=new WeakMap,su=new WeakMap,Ni=new WeakSet,lo=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Lq(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return C(this,qf,e.manual?r:void 0),r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Ms.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),u(this,Yr).notify({query:this,type:"updated",action:e})})},xD);function Lq(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lL(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function sR(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function rR(n){return{onFetch:(e,t)=>{var h,f,p,m,y;const s=e.options,r=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const d=async()=>{let g=!1;const _=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},w=aL(e.options,e.fetchOptions),x=async(b,S,k)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:S,direction:k?"backward":"forward",meta:e.options.meta};return _(F),F})(),P=await w(N),{maxPages:D}=e.options,T=k?Nq:jq;return{pages:T(b.pages,P,D),pageParams:T(b.pageParams,S,D)}};if(r&&i.length){const b=r==="backward",S=b?Fq:iR,k={pages:i,pageParams:a},j=S(s,k);o=await x(k,j,b)}else{const b=n??i.length;do{const S=l===0?a[0]??s.initialPageParam:iR(s,o);if(l>0&&S==null)break;o=await x(o,S),l++}while(l<b)}return o};e.options.persister?e.fetchFn=()=>{var g,_;return(_=(g=e.options).persister)==null?void 0:_.call(g,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function iR(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function Fq(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var pa,Cs,ru,ma,Ol,wD,$q=(wD=class extends dL{constructor(e){super();E(this,ma);E(this,pa);E(this,Cs);E(this,ru);this.mutationId=e.mutationId,C(this,Cs,e.mutationCache),C(this,pa,[]),this.state=e.state||Bq(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,pa).includes(e)||(u(this,pa).push(e),this.clearGcTimeout(),u(this,Cs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){C(this,pa,u(this,pa).filter(t=>t!==e)),this.scheduleGc(),u(this,Cs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,pa).length||(this.state.status==="pending"?this.scheduleGc():u(this,Cs).remove(this))}continue(){var e;return((e=u(this,ru))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,d,h,f,p,m,y,g,_,w,x,b,S,k,j,N,P;const t=()=>{A(this,ma,Ol).call(this,{type:"continue"})};C(this,ru,cL({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,T)=>{A(this,ma,Ol).call(this,{type:"failed",failureCount:D,error:T})},onPause:()=>{A(this,ma,Ol).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,Cs).canRun(this)}));const s=this.state.status==="pending",r=!u(this,ru).canStart();try{if(s)t();else{A(this,ma,Ol).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=u(this,Cs).config).onMutate)==null?void 0:a.call(i,e,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));T!==this.state.context&&A(this,ma,Ol).call(this,{type:"pending",context:T,variables:e,isPaused:r})}const D=await u(this,ru).start();return await((h=(d=u(this,Cs).config).onSuccess)==null?void 0:h.call(d,D,e,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,D,e,this.state.context)),await((y=(m=u(this,Cs).config).onSettled)==null?void 0:y.call(m,D,null,this.state.variables,this.state.context,this)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,D,null,e,this.state.context)),A(this,ma,Ol).call(this,{type:"success",data:D}),D}catch(D){try{throw await((x=(w=u(this,Cs).config).onError)==null?void 0:x.call(w,D,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,D,e,this.state.context)),await((j=(k=u(this,Cs).config).onSettled)==null?void 0:j.call(k,void 0,D,this.state.variables,this.state.context,this)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,D,e,this.state.context)),D}finally{A(this,ma,Ol).call(this,{type:"error",error:D})}}finally{u(this,Cs).runNext(this)}}},pa=new WeakMap,Cs=new WeakMap,ru=new WeakMap,ma=new WeakSet,Ol=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ms.batch(()=>{u(this,pa).forEach(s=>{s.onMutationUpdate(e)}),u(this,Cs).notify({mutation:this,type:"updated",action:e})})},wD);function Bq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xo,Ti,Wv,bD,zq=(bD=class extends Q_{constructor(e={}){super();E(this,xo);E(this,Ti);E(this,Wv);this.config=e,C(this,xo,new Set),C(this,Ti,new Map),C(this,Wv,0)}build(e,t,s){const r=new $q({mutationCache:this,mutationId:++nn(this,Wv)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){u(this,xo).add(e);const t=Aw(e);if(typeof t=="string"){const s=u(this,Ti).get(t);s?s.push(e):u(this,Ti).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(u(this,xo).delete(e)){const t=Aw(e);if(typeof t=="string"){const s=u(this,Ti).get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&u(this,Ti).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Aw(e);if(typeof t=="string"){const s=u(this,Ti).get(t),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const t=Aw(e);if(typeof t=="string"){const r=(s=u(this,Ti).get(t))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ms.batch(()=>{u(this,xo).forEach(e=>{this.notify({type:"removed",mutation:e})}),u(this,xo).clear(),u(this,Ti).clear()})}getAll(){return Array.from(u(this,xo))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>eR(t,s))}findAll(e={}){return this.getAll().filter(t=>eR(e,t))}notify(e){Ms.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ms.batch(()=>Promise.all(e.map(t=>t.continue().catch(ji))))}},xo=new WeakMap,Ti=new WeakMap,Wv=new WeakMap,bD);function Aw(n){var e;return(e=n.options.scope)==null?void 0:e.id}var ga,_D,Uq=(_D=class extends Q_{constructor(e={}){super();E(this,ga);this.config=e,C(this,ga,new Map)}build(e,t,s){const r=t.queryKey,i=t.queryHash??Hj(r,t);let a=this.get(i);return a||(a=new Iq({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){u(this,ga).has(e.queryHash)||(u(this,ga).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=u(this,ga).get(e.queryHash);t&&(e.destroy(),t===e&&u(this,ga).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ms.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,ga).get(e)}getAll(){return[...u(this,ga).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>JP(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>JP(e,s)):t}notify(e){Ms.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ms.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ms.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ga=new WeakMap,_D),sn,Ql,Zl,Gf,Yf,Jl,Kf,Xf,SD,Vq=(SD=class{constructor(n={}){E(this,sn);E(this,Ql);E(this,Zl);E(this,Gf);E(this,Yf);E(this,Jl);E(this,Kf);E(this,Xf);C(this,sn,n.queryCache||new Uq),C(this,Ql,n.mutationCache||new zq),C(this,Zl,n.defaultOptions||{}),C(this,Gf,new Map),C(this,Yf,new Map),C(this,Jl,0)}mount(){nn(this,Jl)._++,u(this,Jl)===1&&(C(this,Kf,oL.subscribe(async n=>{n&&(await this.resumePausedMutations(),u(this,sn).onFocus())})),C(this,Xf,y0.subscribe(async n=>{n&&(await this.resumePausedMutations(),u(this,sn).onOnline())})))}unmount(){var n,e;nn(this,Jl)._--,u(this,Jl)===0&&((n=u(this,Kf))==null||n.call(this),C(this,Kf,void 0),(e=u(this,Xf))==null||e.call(this),C(this,Xf,void 0))}isFetching(n){return u(this,sn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return u(this,Ql).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=u(this,sn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=u(this,sn).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(yk(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return u(this,sn).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=u(this,sn).get(s.queryHash),i=r==null?void 0:r.state.data,a=bq(e,i);if(a!==void 0)return u(this,sn).build(this,s).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return Ms.batch(()=>u(this,sn).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=u(this,sn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=u(this,sn);Ms.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=u(this,sn);return Ms.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=Ms.batch(()=>u(this,sn).findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(ji).catch(ji)}invalidateQueries(n,e={}){return Ms.batch(()=>(u(this,sn).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Ms.batch(()=>u(this,sn).findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,t);return t.throwOnError||(i=i.catch(ji)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ji)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=u(this,sn).build(this,e);return t.isStaleByTime(yk(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(ji).catch(ji)}fetchInfiniteQuery(n){return n.behavior=rR(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(ji).catch(ji)}ensureInfiniteQueryData(n){return n.behavior=rR(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return y0.isOnline()?u(this,Ql).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,sn)}getMutationCache(){return u(this,Ql)}getDefaultOptions(){return u(this,Zl)}setDefaultOptions(n){C(this,Zl,n)}setQueryDefaults(n,e){u(this,Gf).set(Av(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...u(this,Gf).values()],t={};return e.forEach(s=>{jv(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){u(this,Yf).set(Av(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...u(this,Yf).values()],t={};return e.forEach(s=>{jv(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...u(this,Zl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Hj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Wj&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...u(this,Zl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){u(this,sn).clear(),u(this,Ql).clear()}},sn=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,Gf=new WeakMap,Yf=new WeakMap,Jl=new WeakMap,Kf=new WeakMap,Xf=new WeakMap,SD),Hq=v.createContext(void 0),Wq=({client:n,children:e})=>(v.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),c.jsx(Hq.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nv(){return Nv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Nv.apply(this,arguments)}var Yc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Yc||(Yc={}));const aR="popstate";function qq(n){n===void 0&&(n={});function e(s,r){let{pathname:i,search:a,hash:o}=s.location;return bk("",{pathname:i,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:x0(r)}return Yq(e,t,null,n)}function hn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function uL(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gq(){return Math.random().toString(36).substr(2,8)}function oR(n,e){return{usr:n.state,key:n.key,idx:e}}function bk(n,e,t,s){return t===void 0&&(t=null),Nv({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Hm(e):e,{state:t,key:e&&e.key||s||Gq()})}function x0(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Hm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function Yq(n,e,t,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,o=Yc.Pop,l=null,d=h();d==null&&(d=0,a.replaceState(Nv({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function f(){o=Yc.Pop;let _=h(),w=_==null?null:_-d;d=_,l&&l({action:o,location:g.location,delta:w})}function p(_,w){o=Yc.Push;let x=bk(g.location,_,w);d=h()+1;let b=oR(x,d),S=g.createHref(x);try{a.pushState(b,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(S)}i&&l&&l({action:o,location:g.location,delta:1})}function m(_,w){o=Yc.Replace;let x=bk(g.location,_,w);d=h();let b=oR(x,d),S=g.createHref(x);a.replaceState(b,"",S),i&&l&&l({action:o,location:g.location,delta:0})}function y(_){let w=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof _=="string"?_:x0(_);return x=x.replace(/ $/,"%20"),hn(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let g={get action(){return o},get location(){return n(r,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(aR,f),l=_,()=>{r.removeEventListener(aR,f),l=null}},createHref(_){return e(r,_)},createURL:y,encodeLocation(_){let w=y(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(_){return a.go(_)}};return g}var lR;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(lR||(lR={}));function Kq(n,e,t){return t===void 0&&(t="/"),Xq(n,e,t)}function Xq(n,e,t,s){let r=typeof e=="string"?Hm(e):e,i=qj(r.pathname||"/",t);if(i==null)return null;let a=hL(n);Qq(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let d=cG(i);o=aG(a[l],d)}return o}function hL(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let r=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(hn(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let d=sd([s,l.relativePath]),h=t.concat(l);i.children&&i.children.length>0&&(hn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),hL(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:rG(d,i.index),routesMeta:h})};return n.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))r(i,a);else for(let l of fL(i.path))r(i,a,l)}),e}function fL(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=fL(s.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function Qq(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iG(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const Zq=/^:[\w-]+$/,Jq=3,eG=2,tG=1,nG=10,sG=-2,cR=n=>n==="*";function rG(n,e){let t=n.split("/"),s=t.length;return t.some(cR)&&(s+=sG),e&&(s+=eG),t.filter(r=>!cR(r)).reduce((r,i)=>r+(Zq.test(i)?Jq:i===""?tG:nG),s)}function iG(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function aG(n,e,t){let{routesMeta:s}=n,r={},i="/",a=[];for(let o=0;o<s.length;++o){let l=s[o],d=o===s.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=oG({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),p=l.route;if(!f)return null;Object.assign(r,f.params),a.push({params:r,pathname:sd([i,f.pathname]),pathnameBase:fG(sd([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=sd([i,f.pathnameBase]))}return a}function oG(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=lG(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((d,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let g=o[f]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[f];return m&&!y?d[p]=void 0:d[p]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:n}}function lG(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),uL(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function cG(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uL(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function qj(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function dG(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:r=""}=typeof n=="string"?Hm(n):n;return{pathname:t?t.startsWith("/")?t:uG(t,e):e,search:pG(s),hash:mG(r)}}function uG(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function C1(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hG(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gj(n,e){let t=hG(n);return e?t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Yj(n,e,t,s){s===void 0&&(s=!1);let r;typeof n=="string"?r=Hm(n):(r=Nv({},n),hn(!r.pathname||!r.pathname.includes("?"),C1("?","pathname","search",r)),hn(!r.pathname||!r.pathname.includes("#"),C1("#","pathname","hash",r)),hn(!r.search||!r.search.includes("#"),C1("#","search","hash",r)));let i=n===""||r.pathname==="",a=i?"/":r.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!s&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=dG(r,o),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const sd=n=>n.join("/").replace(/\/\/+/g,"/"),fG=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pG=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mG=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gG(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const pL=["post","put","patch","delete"];new Set(pL);const vG=["get",...pL];new Set(vG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tv(){return Tv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Tv.apply(this,arguments)}const Kj=v.createContext(null),yG=v.createContext(null),Ed=v.createContext(null),J_=v.createContext(null),_l=v.createContext({outlet:null,matches:[],isDataRoute:!1}),mL=v.createContext(null);function xG(n,e){let{relative:t}=e===void 0?{}:e;Wm()||hn(!1);let{basename:s,navigator:r}=v.useContext(Ed),{hash:i,pathname:a,search:o}=vL(n,{relative:t}),l=a;return s!=="/"&&(l=a==="/"?s:sd([s,a])),r.createHref({pathname:l,search:o,hash:i})}function Wm(){return v.useContext(J_)!=null}function Ih(){return Wm()||hn(!1),v.useContext(J_).location}function gL(n){v.useContext(Ed).static||v.useLayoutEffect(n)}function Px(){let{isDataRoute:n}=v.useContext(_l);return n?DG():wG()}function wG(){Wm()||hn(!1);let n=v.useContext(Kj),{basename:e,future:t,navigator:s}=v.useContext(Ed),{matches:r}=v.useContext(_l),{pathname:i}=Ih(),a=JSON.stringify(Gj(r,t.v7_relativeSplatPath)),o=v.useRef(!1);return gL(()=>{o.current=!0}),v.useCallback(function(d,h){if(h===void 0&&(h={}),!o.current)return;if(typeof d=="number"){s.go(d);return}let f=Yj(d,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:sd([e,f.pathname])),(h.replace?s.replace:s.push)(f,h.state,h)},[e,s,a,i,n])}function bG(){let{matches:n}=v.useContext(_l),e=n[n.length-1];return e?e.params:{}}function vL(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=v.useContext(Ed),{matches:r}=v.useContext(_l),{pathname:i}=Ih(),a=JSON.stringify(Gj(r,s.v7_relativeSplatPath));return v.useMemo(()=>Yj(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function _G(n,e){return SG(n,e)}function SG(n,e,t,s){Wm()||hn(!1);let{navigator:r}=v.useContext(Ed),{matches:i}=v.useContext(_l),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let d=Ih(),h;if(e){var f;let _=typeof e=="string"?Hm(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||hn(!1),h=_}else h=d;let p=h.pathname||"/",m=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Kq(n,{pathname:m}),g=jG(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:sd([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:sd([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,t,s);return e&&g?v.createElement(J_.Provider,{value:{location:Tv({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Yc.Pop}},g):g}function CG(){let n=RG(),e=gG(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),t?v.createElement("pre",{style:r},t):null,null)}const kG=v.createElement(CG,null);class EG extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(_l.Provider,{value:this.props.routeContext},v.createElement(mL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AG(n){let{routeContext:e,match:t,children:s}=n,r=v.useContext(Kj);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(_l.Provider,{value:e},s)}function jG(n,e,t,s){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||hn(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,d=-1;if(t&&s&&s.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:m}=t,y=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let m,y=!1,g=null,_=null;t&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||kG,l&&(d<0&&p===0?(MG("route-fallback"),y=!0,_=null):d===p&&(y=!0,_=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),x=()=>{let b;return m?b=g:y?b=_:f.route.Component?b=v.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,v.createElement(AG,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:t!=null},children:b})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(EG,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var yL=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(yL||{}),xL=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(xL||{});function NG(n){let e=v.useContext(Kj);return e||hn(!1),e}function TG(n){let e=v.useContext(yG);return e||hn(!1),e}function PG(n){let e=v.useContext(_l);return e||hn(!1),e}function wL(n){let e=PG(),t=e.matches[e.matches.length-1];return t.route.id||hn(!1),t.route.id}function RG(){var n;let e=v.useContext(mL),t=TG(),s=wL();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function DG(){let{router:n}=NG(yL.UseNavigateStable),e=wL(xL.UseNavigateStable),t=v.useRef(!1);return gL(()=>{t.current=!0}),v.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Tv({fromRouteId:e},i)))},[n,e])}const dR={};function MG(n,e,t){dR[n]||(dR[n]=!0)}function OG(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function IG(n){let{to:e,replace:t,state:s,relative:r}=n;Wm()||hn(!1);let{future:i,static:a}=v.useContext(Ed),{matches:o}=v.useContext(_l),{pathname:l}=Ih(),d=Px(),h=Yj(e,Gj(o,i.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(h);return v.useEffect(()=>d(JSON.parse(f),{replace:t,state:s,relative:r}),[d,f,r,t,s]),null}function ur(n){hn(!1)}function LG(n){let{basename:e="/",children:t=null,location:s,navigationType:r=Yc.Pop,navigator:i,static:a=!1,future:o}=n;Wm()&&hn(!1);let l=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:l,navigator:i,static:a,future:Tv({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof s=="string"&&(s=Hm(s));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=s,g=v.useMemo(()=>{let _=qj(h,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:m,key:y},navigationType:r}},[l,h,f,p,m,y,r]);return g==null?null:v.createElement(Ed.Provider,{value:d},v.createElement(J_.Provider,{children:t,value:g}))}function FG(n){let{children:e,location:t}=n;return _G(_k(e),t)}new Promise(()=>{});function _k(n,e){e===void 0&&(e=[]);let t=[];return v.Children.forEach(n,(s,r)=>{if(!v.isValidElement(s))return;let i=[...e,r];if(s.type===v.Fragment){t.push.apply(t,_k(s.props.children,i));return}s.type!==ur&&hn(!1),!s.props.index||!s.props.children||hn(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=_k(s.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sk(){return Sk=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Sk.apply(this,arguments)}function $G(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function BG(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zG(n,e){return n.button===0&&(!e||e==="_self")&&!BG(n)}const UG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VG="6";try{window.__reactRouterVersion=VG}catch{}const HG="startTransition",uR=DA[HG];function WG(n){let{basename:e,children:t,future:s,window:r}=n,i=v.useRef();i.current==null&&(i.current=qq({window:r,v5Compat:!0}));let a=i.current,[o,l]=v.useState({action:a.action,location:a.location}),{v7_startTransition:d}=s||{},h=v.useCallback(f=>{d&&uR?uR(()=>l(f)):l(f)},[l,d]);return v.useLayoutEffect(()=>a.listen(h),[a,h]),v.useEffect(()=>OG(s),[s]),v.createElement(LG,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:s})}const qG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zg=v.forwardRef(function(e,t){let{onClick:s,relative:r,reloadDocument:i,replace:a,state:o,target:l,to:d,preventScrollReset:h,viewTransition:f}=e,p=$G(e,UG),{basename:m}=v.useContext(Ed),y,g=!1;if(typeof d=="string"&&GG.test(d)&&(y=d,qG))try{let b=new URL(window.location.href),S=d.startsWith("//")?new URL(b.protocol+d):new URL(d),k=qj(S.pathname,m);S.origin===b.origin&&k!=null?d=k+S.search+S.hash:g=!0}catch{}let _=xG(d,{relative:r}),w=YG(d,{replace:a,state:o,target:l,preventScrollReset:h,relative:r,viewTransition:f});function x(b){s&&s(b),b.defaultPrevented||w(b)}return v.createElement("a",Sk({},p,{href:y||_,onClick:g||i?s:x,ref:t,target:l}))});var hR;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(hR||(hR={}));var fR;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(fR||(fR={}));function YG(n,e){let{target:t,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=Px(),d=Ih(),h=vL(n,{relative:a});return v.useCallback(f=>{if(zG(f,t)){f.preventDefault();let p=s!==void 0?s:x0(d)===x0(h);l(n,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,l,h,s,r,t,n,i,a,o])}const KG="modulepreload",XG=function(n){return"/"+n},pR={},Rx=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=XG(l),l in pR)return;pR[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":KG,d||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},QG=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Rx(async()=>{const{default:s}=await Promise.resolve().then(()=>qm);return{default:s}},[]).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Xj extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class ZG extends Xj{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mR extends Xj{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gR extends Xj{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ck;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ck||(Ck={}));var JG=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})};class e7{constructor(e,{headers:t={},customFetch:s,region:r=Ck.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=QG(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return JG(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:a}=t;let o={},{region:l}=t;l||(l=this.region);const d=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,d.searchParams.set("forceFunctionRegion",l));let h;a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(o["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(o["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:h}).catch(g=>{throw new ZG(g)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new mR(f);if(!f.ok)throw new gR(f);let m=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(r){return{data:null,error:r,response:r instanceof gR||r instanceof mR?r.context:void 0}}})}}var Js={},Qj={},eS={},Dx={},tS={},nS={},t7=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cm=t7();const n7=Cm.fetch,bL=Cm.fetch.bind(Cm),_L=Cm.Headers,s7=Cm.Request,r7=Cm.Response,qm=Object.freeze(Object.defineProperty({__proto__:null,Headers:_L,Request:s7,Response:r7,default:bL,fetch:n7},Symbol.toStringTag,{value:"Module"})),i7=TU(qm);var sS={};Object.defineProperty(sS,"__esModule",{value:!0});let a7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};sS.default=a7;var SL=rs&&rs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nS,"__esModule",{value:!0});const o7=SL(i7),l7=SL(sS);let c7=class{constructor(e){var t,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=o7.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l,d;let h=null,f=null,p=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const _=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&w&&w.length>1&&(p=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const _=await i.text();try{h=JSON.parse(_),Array.isArray(h)&&i.status===404&&(f=[],h=null,m=200,y="OK")}catch{i.status===404&&_===""?(m=204,y="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows"))&&(h=null,m=200,y="OK"),h&&this.shouldThrowOnError)throw new l7.default(h)}return{error:h,data:f,count:p,status:m,statusText:y}});return this.shouldThrowOnError||(r=r.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}};nS.default=c7;var d7=rs&&rs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tS,"__esModule",{value:!0});const u7=d7(nS);let h7=class extends u7.default{select(e){let t=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};tS.default=h7;var f7=rs&&rs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Dx,"__esModule",{value:!0});const p7=f7(tS);let m7=class extends p7.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};Dx.default=m7;var g7=rs&&rs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eS,"__esModule",{value:!0});const ag=g7(Dx);let v7=class{constructor(e,{headers:t={},schema:s,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=r}select(e,{head:t=!1,count:s}={}){const r=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),s&&this.headers.append("Prefer",`count=${s}`),new ag.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:s=!0}={}){var r;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new ag.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(l.length>0){const d=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new ag.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var s;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ag.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var t;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ag.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};eS.default=v7;var CL=rs&&rs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qj,"__esModule",{value:!0});const y7=CL(eS),x7=CL(Dx);let w7=class kL{constructor(e,{headers:t={},schema:s,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=s,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new y7.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new kL(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:r=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let d;s||r?(o=s?"HEAD":"GET",Object.entries(t).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(o="POST",d=t);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new x7.default({method:o,url:l,headers:h,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Qj.default=w7;var Gm=rs&&rs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Js,"__esModule",{value:!0});Js.PostgrestError=Js.PostgrestBuilder=Js.PostgrestTransformBuilder=Js.PostgrestFilterBuilder=Js.PostgrestQueryBuilder=Js.PostgrestClient=void 0;const EL=Gm(Qj);Js.PostgrestClient=EL.default;const AL=Gm(eS);Js.PostgrestQueryBuilder=AL.default;const jL=Gm(Dx);Js.PostgrestFilterBuilder=jL.default;const NL=Gm(tS);Js.PostgrestTransformBuilder=NL.default;const TL=Gm(nS);Js.PostgrestBuilder=TL.default;const PL=Gm(sS);Js.PostgrestError=PL.default;var b7=Js.default={PostgrestClient:EL.default,PostgrestQueryBuilder:AL.default,PostgrestFilterBuilder:jL.default,PostgrestTransformBuilder:NL.default,PostgrestBuilder:TL.default,PostgrestError:PL.default};const{PostgrestClient:_7,PostgrestQueryBuilder:hle,PostgrestFilterBuilder:fle,PostgrestTransformBuilder:ple,PostgrestBuilder:mle,PostgrestError:gle}=b7;class S7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const C7="2.15.5",k7=`realtime-js/${C7}`,E7="1.0.0",kk=1e4,A7=1e3,j7=100;var Jg;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Jg||(Jg={}));var En;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(En||(En={}));var Ui;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ui||(Ui={}));var Ek;(function(n){n.websocket="websocket"})(Ek||(Ek={}));var Hd;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Hd||(Hd={}));class N7{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const r=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=s.decode(e.slice(a,a+r));a=a+r;const l=s.decode(e.slice(a,a+i));a=a+i;const d=JSON.parse(s.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:d}}}class RL{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Nt||(Nt={}));const vR=(n,e,t={})=>{var s;const r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,a)=>(i[a]=T7(a,n,e,r),i),{})},T7=(n,e,t,s)=>{const r=e.find(o=>o.name===n),i=r==null?void 0:r.type,a=t[n];return i&&!s.includes(i)?DL(i,a):Ak(a)},DL=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return M7(e,t)}switch(n){case Nt.bool:return P7(e);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return R7(e);case Nt.json:case Nt.jsonb:return D7(e);case Nt.timestamp:return O7(e);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return Ak(e);default:return Ak(e)}},Ak=n=>n,P7=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},R7=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},D7=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},M7=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,s=n[t];if(n[0]==="{"&&s==="}"){let i;const a=n.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>DL(e,o))}return n},O7=n=>typeof n=="string"?n.replace(" ","T"):n,ML=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class k1{constructor(e,t,s={},r=kk){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yR;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(yR||(yR={}));class ev{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ev.syncState(this.state,r,i,a),this.pendingDiffs.forEach(l=>{this.state=ev.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ev.syncDiff(this.state,r,i,a),o())}),this.onJoin((r,i,a)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:a})}),this.onLeave((r,i,a)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const i=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(i,(d,h)=>{a[d]||(l[d]=h)}),this.map(a,(d,h)=>{const f=i[d];if(f){const p=h.map(_=>_.presence_ref),m=f.map(_=>_.presence_ref),y=h.filter(_=>m.indexOf(_.presence_ref)<0),g=f.filter(_=>p.indexOf(_.presence_ref)<0);y.length>0&&(o[d]=y),g.length>0&&(l[d]=g)}else o[d]=h}),this.syncDiff(i,{joins:o,leaves:l},s,r)}static syncDiff(e,t,s,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(o,l)=>{var d;const h=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(l),h.length>0){const f=e[o].map(m=>m.presence_ref),p=h.filter(m=>f.indexOf(m.presence_ref)<0);e[o].unshift(...p)}s(o,h,l)}),this.map(a,(o,l)=>{let d=e[o];if(!d)return;const h=l.map(f=>f.presence_ref);d=d.filter(f=>h.indexOf(f.presence_ref)<0),e[o]=d,r(o,d,l),d.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return"metas"in r?t[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xR;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(xR||(xR={}));var tv;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(tv||(tv={}));var mo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(mo||(mo={}));class Zj{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=En.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new k1(this,Ui.join,this.params,this.timeout),this.rejoinTimer=new RL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=En.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=En.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ui.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new ev(this),this.broadcastEndpointURL=ML(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==En.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,d=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(m=>m.filter))!==null&&r!==void 0?r:[],h=!!this.bindings[tv.PRESENCE]&&this.bindings[tv.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(mo.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(mo.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(mo.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,_=(y=g==null?void 0:g.length)!==null&&y!==void 0?y:0,w=[];for(let x=0;x<_;x++){const b=g[x],{filter:{event:S,schema:k,table:j,filter:N}}=b,P=m&&m[x];if(P&&P.event===S&&P.schema===k&&P.table===j&&P.filter===N)w.push(Object.assign(Object.assign({},b),{id:P.id}));else{this.unsubscribe(),this.state=En.errored,e==null||e(mo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(mo.SUBSCRIBED);return}}).receive("error",m=>{this.state=En.errored,e==null||e(mo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===En.joined&&e===tv.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async send(e,t={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=En.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ui.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new k1(this,Ui.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=En.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new k1(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>j7){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:d,join:h}=Ui;if(s&&[o,l,d,h].indexOf(a)>=0&&s!==this._joinRef())return;let p=this._onMessage(a,t,s);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(m=>{var y,g,_;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(g=m.filter)===null||g===void 0?void 0:g.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(m=>m.callback(p,s)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var y,g,_,w,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const S=m.id,k=(y=m.filter)===null||y===void 0?void 0:y.event;return S&&((g=t.ids)===null||g===void 0?void 0:g.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(x=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((b=t==null?void 0:t.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:g,table:_,commit_timestamp:w,type:x,errors:b}=y;p=Object.assign(Object.assign({},{schema:g,table:_,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(y))}m.callback(p,s)})}_isClosed(){return this.state===En.closed}_isJoined(){return this.state===En.joined}_isJoining(){return this.state===En.joining}_isLeaving(){return this.state===En.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Zj.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ui.close,{},e)}_onError(e){this._on(Ui.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=En.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=vR(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=vR(e.columns,e.old_record)),t}}const E1=()=>{},jw={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},I7=[1e3,2e3,5e3,1e4],L7=1e4,F7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $7{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kk,this.transport=null,this.heartbeatIntervalMs=jw.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=E1,this.ref=0,this.reconnectTimer=null,this.logger=E1,this.conn=null,this.sendBuffer=[],this.serializer=new N7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...a)=>Rx(async()=>{const{default:o}=await Promise.resolve().then(()=>qm);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((s=t==null?void 0:t.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Ek.websocket}`,this.httpEndpoint=ML(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=S7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:E7}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Jg.connecting:return Hd.Connecting;case Jg.open:return Hd.Open;case Jg.closing:return Hd.Closing;default:return Hd.Closed}}isConnected(){return this.connectionState()===Hd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===s);if(r)return r;{const i=new Zj(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:s,payload:r,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${s} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(A7,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},jw.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:i,ref:a}=t,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${r} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(r,i,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ui.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([F7],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const r={access_token:t,version:k7};t&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push(Ui.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new RL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jw.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,i,a,o,l,d,h;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:kk,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:jw.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:E1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>I7[f-1]||L7,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(f,p)=>p(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Jj extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Dn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class B7 extends Jj{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jk extends Jj{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var z7=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})};const OL=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Rx(async()=>{const{default:s}=await Promise.resolve().then(()=>qm);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},U7=()=>z7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rx(()=>Promise.resolve().then(()=>qm),void 0)).Response:Response}),Nk=n=>{if(Array.isArray(n))return n.map(t=>Nk(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,s])=>{const r=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Nk(s)}),e},V7=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Lh=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})};const A1=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),H7=(n,e,t)=>Lh(void 0,void 0,void 0,function*(){const s=yield U7();n instanceof s&&!(t!=null&&t.noResolveJson)?n.json().then(r=>{const i=n.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new B7(A1(r),i,a))}).catch(r=>{e(new jk(A1(r),r))}):e(new jk(A1(n),n))}),W7=(n,e,t,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!s?r:(V7(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(s)):r.body=s,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),t))};function Mx(n,e,t,s,r,i){return Lh(this,void 0,void 0,function*(){return new Promise((a,o)=>{n(t,W7(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>H7(l,o,s))})})}function w0(n,e,t,s){return Lh(this,void 0,void 0,function*(){return Mx(n,"GET",e,t,s)})}function fa(n,e,t,s,r){return Lh(this,void 0,void 0,function*(){return Mx(n,"POST",e,s,r,t)})}function Tk(n,e,t,s,r){return Lh(this,void 0,void 0,function*(){return Mx(n,"PUT",e,s,r,t)})}function q7(n,e,t,s){return Lh(this,void 0,void 0,function*(){return Mx(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function IL(n,e,t,s,r){return Lh(this,void 0,void 0,function*(){return Mx(n,"DELETE",e,s,r,t)})}var bs=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})};const G7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Y7{constructor(e,t={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=OL(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,r){return bs(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},wR),r);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(o=Object.assign(Object.assign({},o),r.headers));const d=this._removeEmptyFolders(t),h=this._getFinalPath(d),f=yield(e=="PUT"?Tk:fa)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dn(i))return{data:null,error:i};throw i}})}upload(e,t,s){return bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return bs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const d=Object.assign({upsert:wR.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",d.cacheControl)):(l=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const f=yield Tk(this.fetch,o.toString(),l,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Dn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return bs(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const i=yield fa(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Jj("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dn(s))return{data:null,error:s};throw s}})}update(e,t,s){return bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return bs(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}copy(e,t,s){return bs(this,void 0,void 0,function*(){try{return{data:{path:(yield fa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return bs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield fa(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return bs(this,void 0,void 0,function*(){try{const r=yield fa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}download(e,t){return bs(this,void 0,void 0,function*(){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield w0(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Dn(o))return{data:null,error:o};throw o}})}info(e){return bs(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield w0(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Nk(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dn(s))return{data:null,error:s};throw s}})}exists(e){return bs(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield q7(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dn(s)&&s instanceof jk){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${d}`)}}}remove(e){return bs(this,void 0,void 0,function*(){try{return{data:yield IL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dn(t))return{data:null,error:t};throw t}})}list(e,t,s){return bs(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},G7),t),{prefix:e||""});return{data:yield fa(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}listV2(e,t){return bs(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield fa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const K7="2.12.1",X7={"X-Client-Info":`storage-js/${K7}`};var Hh=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})};class Q7{constructor(e,t={},s,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},X7),t),this.fetch=OL(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Hh(this,void 0,void 0,function*(){try{return{data:yield w0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Dn(e))return{data:null,error:e};throw e}})}getBucket(e){return Hh(this,void 0,void 0,function*(){try{return{data:yield w0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Hh(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dn(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return Hh(this,void 0,void 0,function*(){try{return{data:yield Tk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dn(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Hh(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Hh(this,void 0,void 0,function*(){try{return{data:yield IL(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dn(t))return{data:null,error:t};throw t}})}}class Z7 extends Q7{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new Y7(this.url,this.headers,e,this.fetch)}}const J7="2.57.4";let yg="";typeof Deno<"u"?yg="deno":typeof document<"u"?yg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yg="react-native":yg="node";const eY={"X-Client-Info":`supabase-js-${yg}/${J7}`},tY={headers:eY},nY={schema:"public"},sY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rY={};var iY=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})};const aY=n=>{let e;return n?e=n:typeof fetch>"u"?e=bL:e=fetch,(...t)=>e(...t)},oY=()=>typeof Headers>"u"?_L:Headers,lY=(n,e,t)=>{const s=aY(t),r=oY();return(i,a)=>iY(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:n;let d=new r(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},a),{headers:d}))})};var cY=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})};function dY(n){return n.endsWith("/")?n:n+"/"}function uY(n,e){var t,s;const{db:r,auth:i,realtime:a,global:o}=n,{db:l,auth:d,realtime:h,global:f}=e,p={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(t=f==null?void 0:f.headers)!==null&&t!==void 0?t:{}),(s=o==null?void 0:o.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>cY(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function hY(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dY(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const LL="2.71.1",nf=30*1e3,Pk=3,j1=Pk*nf,fY="http://localhost:9999",pY="supabase.auth.token",mY={"X-Client-Info":`gotrue-js/${LL}`},Rk="X-Supabase-Api-Version",FL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vY=10*60*1e3;class eN extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function qe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class yY extends eN{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function xY(n){return qe(n)&&n.name==="AuthApiError"}class $L extends eN{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ad extends eN{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}}class Il extends Ad{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wY(n){return qe(n)&&n.name==="AuthSessionMissingError"}class Nw extends Ad{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tw extends Ad{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pw extends Ad{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bY(n){return qe(n)&&n.name==="AuthImplicitGrantRedirectError"}class bR extends Ad{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dk extends Ad{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function N1(n){return qe(n)&&n.name==="AuthRetryableFetchError"}class _R extends Ad{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class Mk extends Ad{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const b0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),SR=` 	
\r=`.split(""),_Y=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<SR.length;e+=1)n[SR[e].charCodeAt(0)]=-2;for(let e=0;e<b0.length;e+=1)n[b0[e].charCodeAt(0)]=e;return n})();function CR(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(b0[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(b0[s]),e.queuedBits-=6}}function BL(n,e,t){const s=_Y[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function kR(n){const e=[],t=a=>{e.push(String.fromCodePoint(a))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=a=>{kY(a,s,t)};for(let a=0;a<n.length;a+=1)BL(n.charCodeAt(a),r,i);return e.join("")}function SY(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function CY(n,e){for(let t=0;t<n.length;t+=1){let s=n.charCodeAt(t);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(n.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}SY(s,e)}}function kY(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let s=1;s<6;s+=1)if(!(n>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function EY(n){const e=[],t={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<n.length;r+=1)BL(n.charCodeAt(r),t,s);return new Uint8Array(e)}function AY(n){const e=[];return CY(n,t=>e.push(t)),new Uint8Array(e)}function jY(n){const e=[],t={queue:0,queuedBits:0},s=r=>{e.push(r)};return n.forEach(r=>CR(r,t,s)),CR(null,t,s),e.join("")}function NY(n){return Math.round(Date.now()/1e3)+n}function TY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Ci=()=>typeof window<"u"&&typeof document<"u",Md={tested:!1,writable:!1},zL=()=>{if(!Ci())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Md.tested)return Md.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Md.tested=!0,Md.writable=!0}catch{Md.tested=!0,Md.writable=!1}return Md.writable};function PY(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}const UL=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Rx(async()=>{const{default:s}=await Promise.resolve().then(()=>qm);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},RY=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",sf=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Od=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Dl=async(n,e)=>{await n.removeItem(e)};class rS{constructor(){this.promise=new rS.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}rS.promiseConstructor=Promise;function T1(n){const e=n.split(".");if(e.length!==3)throw new Mk("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!gY.test(e[s]))throw new Mk("JWT not in base64url format");return{header:JSON.parse(kR(e[0])),payload:JSON.parse(kR(e[1])),signature:EY(e[2]),raw:{header:e[0],payload:e[1]}}}async function DY(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function MY(n,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await n(i);if(!e(i,null,a)){s(a);return}}catch(a){if(!e(i,a)){r(a);return}}})()})}function OY(n){return("0"+n.toString(16)).substr(-2)}function IY(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let r="";for(let i=0;i<56;i++)r+=t.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,OY).join("")}async function LY(n){const t=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function FY(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await LY(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wh(n,e,t=!1){const s=IY();let r=s;t&&(r+="/PASSWORD_RECOVERY"),await sf(n,`${e}-code-verifier`,r);const i=await FY(s);return[i,s===i?"plain":"s256"]}const $Y=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BY(n){const e=n.headers.get(Rk);if(!e||!e.match($Y))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zY(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function UY(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qh(n){if(!VY.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function P1(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ER(n){return JSON.parse(JSON.stringify(n))}var HY=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const $d=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),WY=[502,503,504];async function AR(n){var e;if(!RY(n))throw new Dk($d(n),0);if(WY.includes(n.status))throw new Dk($d(n),n.status);let t;try{t=await n.json()}catch(i){throw new $L($d(i),i)}let s;const r=BY(n);if(r&&r.getTime()>=FL["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new _R($d(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Il}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new _R($d(t),n.status,t.weak_password.reasons);throw new yY($d(t),n.status||500,s)}const qY=(n,e,t,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function et(n,e,t,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[Rk]||(i[Rk]=FL["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const a=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(a.redirect_to=s.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await GY(n,e,t+o,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function GY(n,e,t,s,r,i){const a=qY(e,s,r,i);let o;try{o=await n(t,Object.assign({},a))}catch(l){throw console.error(l),new Dk($d(l),0)}if(o.ok||await AR(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(l){await AR(l)}}function co(n){var e;let t=null;QY(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=NY(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:s},error:null}}function jR(n){const e=co(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Hl(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function YY(n){return{data:n,error:null}}function KY(n){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i}=n,a=HY(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function XY(n){return n}function QY(n){return n.access_token&&n.refresh_token&&n.expires_in}const R1=["global","local","others"];var ZY=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};class JY{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=UL(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=R1[0]){if(R1.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${R1.join(", ")}`);try{return await et(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(qe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await et(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Hl})}catch(s){if(qe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=ZY(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await et(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:KY,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(qe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await et(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hl})}catch(t){if(qe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,i,a,o,l;try{const d={nextPage:null,lastPage:0,total:0},h=await et(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:XY});if(h.error)throw h.error;const f=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);d[`${_}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(qe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){qh(e);try{return await et(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hl})}catch(t){if(qe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){qh(e);try{return await et(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Hl})}catch(s){if(qe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){qh(e);try{return await et(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Hl})}catch(s){if(qe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){qh(e.userId);try{const{data:t,error:s}=await et(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(qe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){qh(e.userId),qh(e.id);try{return{data:await et(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}}}function NR(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function eK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gh={debug:!!(globalThis&&zL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VL extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tK extends VL{}async function nK(n,e,t){Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await t()}finally{Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new tK(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Gh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}eK();const sK={url:fY,storageKey:pY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function TR(n,e,t){return await t()}const Yh={};class Pv{constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pv.nextInstanceID,Pv.nextInstanceID+=1,this.instanceID>0&&Ci()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},sK),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new JY({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=UL(r.fetch),this.lock=r.lock||TR,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ci()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=nK:this.lock=TR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:zL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NR(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=NR(this.memoryStorage)),Ci()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Yh[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Yh[this.storageKey]=Object.assign(Object.assign({},Yh[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Yh[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yh[this.storageKey]=Object.assign(Object.assign({},Yh[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${LL}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=PY(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Ci()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bY(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return qe(t)?{error:t}:{error:new $L("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:co}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,r;try{let i;if("email"in e){const{email:h,password:f,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Wh(this.storage,this.storageKey)),i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},xform:co})}else if("phone"in e){const{phone:h,password:f,options:p}=e;i=await et(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},channel:(r=p==null?void 0:p.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:co})}else throw new Tw("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jR})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await et(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jR})}else throw new Tw("You must provide either an email or phone number and a password");const{data:s,error:r}=t;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Nw}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,s,r,i,a,o,l,d,h,f,p,m;let y,g;if("message"in e)y=e.message,g=e.signature;else{const{chain:_,wallet:w,statement:x,options:b}=e;let S;if(Ci())if(typeof w=="object")S=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const k=new URL((t=b==null?void 0:b.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),x?{statement:x}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)y=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(r=(s=b==null?void 0:b.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(h=b==null?void 0:b.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:_,error:w}=await et(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:jY(g)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:co});if(w)throw w;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Nw}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:w})}catch(_){if(qe(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const t=await Od(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(t??"").split("/");try{const{data:i,error:a}=await et(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:co});if(await Dl(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nw}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:a})}catch(i){if(qe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:i,nonce:a}=e,o=await et(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:co}),{data:l,error:d}=o;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Nw}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,r,i,a;try{if("email"in e){const{email:o,options:l}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Wh(this.storage,this.storageKey));const{error:f}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:d,error:h}=await et(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Tw("You must provide either an email or phone number.")}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,s;try{let r,i;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:co});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,d=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,s,r;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Wh(this.storage,this.storageKey)),await et(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:YY})}catch(i){if(qe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Il;const{error:r}=await et(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(qe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:a}=await et(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:a,error:o}=await et(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Tw("You must provide either an email or phone number and a type")}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Od(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<j1:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const a=await Od(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=P1()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,h)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,h))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hl}):await this._useSession(async t=>{var s,r,i;const{data:a,error:o}=t;if(o)throw o;return!(!((s=a.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Il}:await et(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Hl})})}catch(t){if(qe(t))return wY(t)&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Il;const a=r.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Wh(this.storage,this.storageKey));const{data:d,error:h}=await et(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Hl});if(h)throw h;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(s){if(qe(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Il;const t=Date.now()/1e3;let s=t,r=!0,i=null;const{payload:a}=T1(e.access_token);if(a.exp&&(s=a.exp,r=s<=t),r){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(qe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Il;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ci())throw new Pw("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pw(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new bR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pw("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bR("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:d}=e;if(!i||!o||!a||!d)throw new Pw("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(o);let p=h+f;l&&(p=parseInt(l));const m=p-h;m*1e3<=nf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=p-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,h);const{data:g,error:_}=await this._getUser(i);if(_)throw _;const w={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:p,refresh_token:a,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(s){if(qe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Od(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{error:i};const a=(s=r.session)===null||s===void 0?void 0:s.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(xY(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Dl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=TY(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:i},error:a}=t;if(a)throw a;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Wh(this.storage,this.storageKey,!0));try{return await et(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(qe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(qe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:r}=await this._useSession(async i=>{var a,o,l,d,h;const{data:f,error:p}=i;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await et(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return Ci()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(qe(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:i,error:a}=t;if(a)throw a;return await et(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(qe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await MY(async r=>(r>0&&await DY(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await et(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:co})),(r,i)=>{const a=200*Math.pow(2,r);return i&&N1(i)&&Date.now()+a-s<nf})}catch(s){if(this._debug(t,"error",s),qe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Ci()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Od(this.storage,this.storageKey);if(r&&this.userStorage){let a=await Od(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:r.user},await sf(this.userStorage,this.storageKey+"-user",a)),r.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:P1()}else if(r&&!r.user&&!r.user){const a=await Od(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(r.user=a.user,await Dl(this.storage,this.storageKey+"-user"),await sf(this.storage,this.storageKey,r)):r.user=P1()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<j1;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${j1}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),N1(a)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(r.access_token);!o&&(a!=null&&a.user)?(r.user=a.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(s,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Il;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new rS;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Il;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(r,"error",i),qe(i)){const a={session:null,error:i};return N1(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await sf(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const i=ER(r);await sf(this.storage,this.storageKey,i)}else{const r=ER(t);await sf(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Dl(this.storage,this.storageKey),await Dl(this.storage,this.storageKey+"-code-verifier"),await Dl(this.storage,this.storageKey+"-user"),this.userStorage&&await Dl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ci()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/nf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${nf}ms, refresh threshold is ${Pk} ticks`),r<=Pk&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof VL)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ci()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,a]=await Wh(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(o.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await et(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(qe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await et(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(qe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(qe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:i}=t;return i?{data:null,error:i}:await et(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(qe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],r=s.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=s.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=T1(r.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const h=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(o=>o.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+vY>r)return s;const{data:i,error:a}=await et(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(o=>o.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};s=m.session.access_token}const{header:r,payload:i,signature:a,raw:{header:o,payload:l}}=T1(s);t!=null&&t.allowExpired||zY(i.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!d){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:i,header:r,signature:a},error:null}}const h=UY(r.alg),f=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,AY(`${o}.${l}`)))throw new Mk("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(s){if(qe(s))return{data:null,error:s};throw s}}}Pv.nextInstanceID=0;const rK=Pv;class iK extends rK{constructor(e){super(e)}}var aK=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})};class oK{constructor(e,t,s){var r,i,a;this.supabaseUrl=e,this.supabaseKey=t;const o=hY(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:nY,realtime:rY,auth:Object.assign(Object.assign({},sY),{storageKey:l}),global:tY},h=uY(s??{},d);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=lY(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new _7(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Z7(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new e7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return aK(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:i,storageKey:a,flowType:o,lock:l,debug:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iK({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:i,flowType:o,lock:l,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HL=(n,e,t)=>new oK(n,e,t);function lK(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}lK()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cK="https://lvkbbtfcsxpjxlezfrwp.supabase.co",dK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2a2JidGZjc3hwanhsZXpmcndwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwMTI5NjcsImV4cCI6MjA3MDU4ODk2N30.SPnPUp4pXBAuXqfquV4TiBUkD5JYqM2SKq6-njM5Er0",ge=HL(cK,dK,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});class Kh{static async signUp(e,t,s){const{data:r,error:i}=await ge.auth.signUp({email:e,password:t,options:{data:s}});if(i)throw i;return r}static async signIn(e,t){const{data:s,error:r}=await ge.auth.signInWithPassword({email:e,password:t});if(r)throw r;return s}static async signOut(){const{error:e}=await ge.auth.signOut();if(e)throw e}static async getCurrentUser(){const{data:{user:e}}=await ge.auth.getUser();return e}static async resetPassword(e){const{error:t}=await ge.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(t)throw t}static async updatePassword(e){const{error:t}=await ge.auth.updateUser({password:e});if(t)throw t}static async updateProfile(e){const{error:t}=await ge.auth.updateUser(e);if(t)throw t}static onAuthStateChange(e){return ge.auth.onAuthStateChange(e)}static async getSession(){const{data:{session:e}}=await ge.auth.getSession();return e}}const WL=v.createContext(void 0);function uK({children:n}){const[e,t]=v.useState(null),[s,r]=v.useState(null),[i,a]=v.useState(!0);v.useEffect(()=>{Kh.getSession().then(m=>{r(m),t((m==null?void 0:m.user)??null),a(!1)});const{data:{subscription:p}}=Kh.onAuthStateChange((m,y)=>{r(y),t((y==null?void 0:y.user)??null),a(!1)});return()=>p.unsubscribe()},[]);const f={user:e,session:s,loading:i,signIn:async(p,m)=>{a(!0);try{await Kh.signIn(p,m)}finally{a(!1)}},signUp:async(p,m,y)=>{a(!0);try{await Kh.signUp(p,m,y)}finally{a(!1)}},signOut:async()=>{a(!0);try{await Kh.signOut()}finally{a(!1)}},resetPassword:async p=>{await Kh.resetPassword(p)}};return c.jsx(WL.Provider,{value:f,children:n})}function qL(){const n=v.useContext(WL);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}function aa({children:n}){const{user:e,loading:t}=qL();return t?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/20",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):e?c.jsx(c.Fragment,{children:n}):c.jsx(IG,{to:"/auth",replace:!0})}const D1=768;function hK(){const[n,e]=v.useState(void 0);return v.useEffect(()=>{const t=window.matchMedia(`(max-width: ${D1-1}px)`),s=()=>{e(window.innerWidth<D1)};return t.addEventListener("change",s),e(window.innerWidth<D1),()=>t.removeEventListener("change",s)},[]),!!n}const Rv=Bm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=v.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...r},i)=>{const a=s?Cd:"button";return c.jsx(a,{className:Q(Rv({variant:e,size:t,className:n})),ref:i,...r})});be.displayName="Button";const Ue=v.forwardRef(({className:n,type:e,...t},s)=>c.jsx("input",{type:e,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));Ue.displayName="Input";var fK="Separator",PR="horizontal",pK=["horizontal","vertical"],GL=v.forwardRef((n,e)=>{const{decorative:t,orientation:s=PR,...r}=n,i=mK(s)?s:PR,o=t?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(ve.div,{"data-orientation":i,...o,...r,ref:e})});GL.displayName=fK;function mK(n){return pK.includes(n)}var YL=GL;const tN=v.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...s},r)=>c.jsx(YL,{ref:r,decorative:t,orientation:e,className:Q("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...s}));tN.displayName=YL.displayName;var M1="focusScope.autoFocusOnMount",O1="focusScope.autoFocusOnUnmount",RR={bubbles:!1,cancelable:!0},gK="FocusScope",Ox=v.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...a}=n,[o,l]=v.useState(null),d=on(r),h=on(i),f=v.useRef(null),p=Ie(e,g=>l(g)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let g=function(b){if(m.paused||!o)return;const S=b.target;o.contains(S)?f.current=S:Ll(f.current,{select:!0})},_=function(b){if(m.paused||!o)return;const S=b.relatedTarget;S!==null&&(o.contains(S)||Ll(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&Ll(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const x=new MutationObserver(w);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),x.disconnect()}}},[s,o,m.paused]),v.useEffect(()=>{if(o){MR.add(m);const g=document.activeElement;if(!o.contains(g)){const w=new CustomEvent(M1,RR);o.addEventListener(M1,d),o.dispatchEvent(w),w.defaultPrevented||(vK(_K(KL(o)),{select:!0}),document.activeElement===g&&Ll(o))}return()=>{o.removeEventListener(M1,d),setTimeout(()=>{const w=new CustomEvent(O1,RR);o.addEventListener(O1,h),o.dispatchEvent(w),w.defaultPrevented||Ll(g??document.body,{select:!0}),o.removeEventListener(O1,h),MR.remove(m)},0)}}},[o,d,h,m]);const y=v.useCallback(g=>{if(!t&&!s||m.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(_&&w){const x=g.currentTarget,[b,S]=yK(x);b&&S?!g.shiftKey&&w===S?(g.preventDefault(),t&&Ll(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),t&&Ll(S,{select:!0})):w===x&&g.preventDefault()}},[t,s,m.paused]);return c.jsx(ve.div,{tabIndex:-1,...a,ref:p,onKeyDown:y})});Ox.displayName=gK;function vK(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(Ll(s,{select:e}),document.activeElement!==t)return}function yK(n){const e=KL(n),t=DR(e,n),s=DR(e.reverse(),n);return[t,s]}function KL(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function DR(n,e){for(const t of n)if(!xK(t,{upTo:e}))return t}function xK(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function wK(n){return n instanceof HTMLInputElement&&"select"in n}function Ll(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&wK(n)&&e&&n.select()}}var MR=bK();function bK(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=OR(n,e),n.unshift(e)},remove(e){var t;n=OR(n,e),(t=n[0])==null||t.resume()}}}function OR(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function _K(n){return n.filter(e=>e.tagName!=="A")}var I1=0;function iS(){v.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??IR()),document.body.insertAdjacentElement("beforeend",n[1]??IR()),I1++,()=>{I1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),I1--}},[])}function IR(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var $a=function(){return $a=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$a.apply(this,arguments)};function XL(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t}function Fh(n,e,t,s){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(h){try{d(s.next(h))}catch(f){a(f)}}function l(h){try{d(s.throw(h))}catch(f){a(f)}}function d(h){h.done?i(h.value):r(h.value).then(o,l)}d((s=s.apply(n,e||[])).next())})}function SK(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return n.concat(i||Array.prototype.slice.call(e))}var lb="right-scroll-bar-position",cb="width-before-scroll-bar",CK="with-scroll-bars-hidden",kK="--removed-body-scroll-bar-size";function L1(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function EK(n,e){var t=v.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var r=t.value;r!==s&&(t.value=s,t.callback(s,r))}}}})[0];return t.callback=e,t.facade}var AK=typeof window<"u"?v.useLayoutEffect:v.useEffect,LR=new WeakMap;function jK(n,e){var t=EK(null,function(s){return n.forEach(function(r){return L1(r,s)})});return AK(function(){var s=LR.get(t);if(s){var r=new Set(s),i=new Set(n),a=t.current;r.forEach(function(o){i.has(o)||L1(o,null)}),i.forEach(function(o){r.has(o)||L1(o,a)})}LR.set(t,n)},[n]),t}function NK(n){return n}function TK(n,e){e===void 0&&(e=NK);var t=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var a=e(i,s);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(s=!0;t.length;){var a=t;t=[],a.forEach(i)}t={push:function(o){return i(o)},filter:function(){return t}}},assignMedium:function(i){s=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(i),a=t}var l=function(){var h=a;a=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),t={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),t}}}};return r}function PK(n){n===void 0&&(n={});var e=TK(null);return e.options=$a({async:!0,ssr:!1},n),e}var QL=function(n){var e=n.sideCar,t=XL(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,$a({},t))};QL.isSideCarExport=!0;function RK(n,e){return n.useMedium(e),QL}var ZL=PK(),F1=function(){},aS=v.forwardRef(function(n,e){var t=v.useRef(null),s=v.useState({onScrollCapture:F1,onWheelCapture:F1,onTouchMoveCapture:F1}),r=s[0],i=s[1],a=n.forwardProps,o=n.children,l=n.className,d=n.removeScrollBar,h=n.enabled,f=n.shards,p=n.sideCar,m=n.noRelative,y=n.noIsolation,g=n.inert,_=n.allowPinchZoom,w=n.as,x=w===void 0?"div":w,b=n.gapMode,S=XL(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,j=jK([t,e]),N=$a($a({},S),r);return v.createElement(v.Fragment,null,h&&v.createElement(k,{sideCar:ZL,removeScrollBar:d,shards:f,noRelative:m,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!_,lockRef:t,gapMode:b}),a?v.cloneElement(v.Children.only(o),$a($a({},N),{ref:j})):v.createElement(x,$a({},N,{className:l,ref:j}),o))});aS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};aS.classNames={fullWidth:cb,zeroRight:lb};var DK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MK(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=DK();return e&&n.setAttribute("nonce",e),n}function OK(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function IK(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var LK=function(){var n=0,e=null;return{add:function(t){n==0&&(e=MK())&&(OK(e,t),IK(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},FK=function(){var n=LK();return function(e,t){v.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},JL=function(){var n=FK(),e=function(t){var s=t.styles,r=t.dynamic;return n(s,r),null};return e},$K={left:0,top:0,right:0,gap:0},$1=function(n){return parseInt(n||"",10)||0},BK=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[$1(t),$1(s),$1(r)]},zK=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $K;var e=BK(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},UK=JL(),$f="data-scroll-locked",VK=function(n,e,t,s){var r=n.left,i=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(CK,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(o,"px ").concat(s,`;
  }
  body[`).concat($f,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lb,` {
    right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(cb,` {
    margin-right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(lb," .").concat(lb,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(cb," .").concat(cb,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat($f,`] {
    `).concat(kK,": ").concat(o,`px;
  }
`)},FR=function(){var n=parseInt(document.body.getAttribute($f)||"0",10);return isFinite(n)?n:0},HK=function(){v.useEffect(function(){return document.body.setAttribute($f,(FR()+1).toString()),function(){var n=FR()-1;n<=0?document.body.removeAttribute($f):document.body.setAttribute($f,n.toString())}},[])},WK=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,r=s===void 0?"margin":s;HK();var i=v.useMemo(function(){return zK(r)},[r]);return v.createElement(UK,{styles:VK(i,!e,r,t?"":"!important")})},Ok=!1;if(typeof window<"u")try{var Rw=Object.defineProperty({},"passive",{get:function(){return Ok=!0,!0}});window.addEventListener("test",Rw,Rw),window.removeEventListener("test",Rw,Rw)}catch{Ok=!1}var Xh=Ok?{passive:!1}:!1,qK=function(n){return n.tagName==="TEXTAREA"},eF=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!qK(n)&&t[e]==="visible")},GK=function(n){return eF(n,"overflowY")},YK=function(n){return eF(n,"overflowX")},$R=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=tF(n,s);if(r){var i=nF(n,s),a=i[1],o=i[2];if(a>o)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},KK=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},XK=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},tF=function(n,e){return n==="v"?GK(e):YK(e)},nF=function(n,e){return n==="v"?KK(e):XK(e)},QK=function(n,e){return n==="h"&&e==="rtl"?-1:1},ZK=function(n,e,t,s,r){var i=QK(n,window.getComputedStyle(e).direction),a=i*s,o=t.target,l=e.contains(o),d=!1,h=a>0,f=0,p=0;do{if(!o)break;var m=nF(n,o),y=m[0],g=m[1],_=m[2],w=g-_-i*y;(y||w)&&tF(n,o)&&(f+=w,p+=y);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Dw=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},BR=function(n){return[n.deltaX,n.deltaY]},zR=function(n){return n&&"current"in n?n.current:n},JK=function(n,e){return n[0]===e[0]&&n[1]===e[1]},eX=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},tX=0,Qh=[];function nX(n){var e=v.useRef([]),t=v.useRef([0,0]),s=v.useRef(),r=v.useState(tX++)[0],i=v.useState(JL)[0],a=v.useRef(n);v.useEffect(function(){a.current=n},[n]),v.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var g=SK([n.lockRef.current],(n.shards||[]).map(zR),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var o=v.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var w=Dw(g),x=t.current,b="deltaX"in g?g.deltaX:x[0]-w[0],S="deltaY"in g?g.deltaY:x[1]-w[1],k,j=g.target,N=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&N==="h"&&j.type==="range")return!1;var P=$R(N,j);if(!P)return!0;if(P?k=N:(k=N==="v"?"h":"v",P=$R(N,j)),!P)return!1;if(!s.current&&"changedTouches"in g&&(b||S)&&(s.current=k),!k)return!0;var D=s.current||k;return ZK(D,_,g,D==="h"?b:S)},[]),l=v.useCallback(function(g){var _=g;if(!(!Qh.length||Qh[Qh.length-1]!==i)){var w="deltaY"in _?BR(_):Dw(_),x=e.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&JK(k.delta,w)})[0];if(x&&x.should){_.cancelable&&_.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(zR).filter(Boolean).filter(function(k){return k.contains(_.target)}),S=b.length>0?o(_,b[0]):!a.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),d=v.useCallback(function(g,_,w,x){var b={name:g,delta:_,target:w,should:x,shadowParent:sX(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),h=v.useCallback(function(g){t.current=Dw(g),s.current=void 0},[]),f=v.useCallback(function(g){d(g.type,BR(g),g.target,o(g,n.lockRef.current))},[]),p=v.useCallback(function(g){d(g.type,Dw(g),g.target,o(g,n.lockRef.current))},[]);v.useEffect(function(){return Qh.push(i),n.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Xh),document.addEventListener("touchmove",l,Xh),document.addEventListener("touchstart",h,Xh),function(){Qh=Qh.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Xh),document.removeEventListener("touchmove",l,Xh),document.removeEventListener("touchstart",h,Xh)}},[]);var m=n.removeScrollBar,y=n.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:eX(r)}):null,m?v.createElement(WK,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function sX(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const rX=RK(ZL,nX);var Ix=v.forwardRef(function(n,e){return v.createElement(aS,$a({},n,{ref:e,sideCar:rX}))});Ix.classNames=aS.classNames;var iX=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Zh=new WeakMap,Mw=new WeakMap,Ow={},B1=0,sF=function(n){return n&&(n.host||sF(n.parentNode))},aX=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=sF(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},oX=function(n,e,t,s){var r=aX(e,Array.isArray(n)?n:[n]);Ow[t]||(Ow[t]=new WeakMap);var i=Ow[t],a=[],o=new Set,l=new Set(r),d=function(f){!f||o.has(f)||(o.add(f),d(f.parentNode))};r.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(o.has(p))h(p);else try{var m=p.getAttribute(s),y=m!==null&&m!=="false",g=(Zh.get(p)||0)+1,_=(i.get(p)||0)+1;Zh.set(p,g),i.set(p,_),a.push(p),g===1&&y&&Mw.set(p,!0),_===1&&p.setAttribute(t,"true"),y||p.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return h(e),o.clear(),B1++,function(){a.forEach(function(f){var p=Zh.get(f)-1,m=i.get(f)-1;Zh.set(f,p),i.set(f,m),p||(Mw.has(f)||f.removeAttribute(s),Mw.delete(f)),m||f.removeAttribute(t)}),B1--,B1||(Zh=new WeakMap,Zh=new WeakMap,Mw=new WeakMap,Ow={})}},oS=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),r=iX(n);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),oX(s,r,t,"aria-hidden")):function(){return null}},lS="Dialog",[rF,iF]=cs(lS),[lX,sa]=rF(lS),aF=n=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:r,onOpenChange:i,modal:a=!0}=n,o=v.useRef(null),l=v.useRef(null),[d,h]=Qi({prop:s,defaultProp:r??!1,onChange:i,caller:lS});return c.jsx(lX,{scope:e,triggerRef:o,contentRef:l,contentId:di(),titleId:di(),descriptionId:di(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:a,children:t})};aF.displayName=lS;var oF="DialogTrigger",lF=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=sa(oF,t),i=Ie(e,r.triggerRef);return c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":rN(r.open),...s,ref:i,onClick:te(n.onClick,r.onOpenToggle)})});lF.displayName=oF;var nN="DialogPortal",[cX,cF]=rF(nN,{forceMount:void 0}),dF=n=>{const{__scopeDialog:e,forceMount:t,children:s,container:r}=n,i=sa(nN,e);return c.jsx(cX,{scope:e,forceMount:t,children:v.Children.map(s,a=>c.jsx(Gn,{present:t||i.open,children:c.jsx($m,{asChild:!0,container:r,children:a})}))})};dF.displayName=nN;var _0="DialogOverlay",uF=v.forwardRef((n,e)=>{const t=cF(_0,n.__scopeDialog),{forceMount:s=t.forceMount,...r}=n,i=sa(_0,n.__scopeDialog);return i.modal?c.jsx(Gn,{present:s||i.open,children:c.jsx(uX,{...r,ref:e})}):null});uF.displayName=_0;var dX=ld("DialogOverlay.RemoveScroll"),uX=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=sa(_0,t);return c.jsx(Ix,{as:dX,allowPinchZoom:!0,shards:[r.contentRef],children:c.jsx(ve.div,{"data-state":rN(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),wh="DialogContent",hF=v.forwardRef((n,e)=>{const t=cF(wh,n.__scopeDialog),{forceMount:s=t.forceMount,...r}=n,i=sa(wh,n.__scopeDialog);return c.jsx(Gn,{present:s||i.open,children:i.modal?c.jsx(hX,{...r,ref:e}):c.jsx(fX,{...r,ref:e})})});hF.displayName=wh;var hX=v.forwardRef((n,e)=>{const t=sa(wh,n.__scopeDialog),s=v.useRef(null),r=Ie(e,t.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return oS(i)},[]),c.jsx(fF,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(n.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:te(n.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:te(n.onFocusOutside,i=>i.preventDefault())})}),fX=v.forwardRef((n,e)=>{const t=sa(wh,n.__scopeDialog),s=v.useRef(!1),r=v.useRef(!1);return c.jsx(fF,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,i),i.defaultPrevented||(s.current||(o=t.triggerRef.current)==null||o.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var l,d;(l=n.onInteractOutside)==null||l.call(n,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((d=t.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),fF=v.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...a}=n,o=sa(wh,t),l=v.useRef(null),d=Ie(e,l);return iS(),c.jsxs(c.Fragment,{children:[c.jsx(Ox,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:c.jsx(Oh,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":rN(o.open),...a,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(mX,{titleId:o.titleId}),c.jsx(vX,{contentRef:l,descriptionId:o.descriptionId})]})]})}),sN="DialogTitle",pF=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=sa(sN,t);return c.jsx(ve.h2,{id:r.titleId,...s,ref:e})});pF.displayName=sN;var mF="DialogDescription",gF=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=sa(mF,t);return c.jsx(ve.p,{id:r.descriptionId,...s,ref:e})});gF.displayName=mF;var vF="DialogClose",yF=v.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=sa(vF,t);return c.jsx(ve.button,{type:"button",...s,ref:e,onClick:te(n.onClick,()=>r.onOpenChange(!1))})});yF.displayName=vF;function rN(n){return n?"open":"closed"}var xF="DialogTitleWarning",[pX,wF]=o8(xF,{contentName:wh,titleName:sN,docsSlug:"dialog"}),mX=({titleId:n})=>{const e=wF(xF),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},gX="DialogDescriptionWarning",vX=({contentRef:n,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wF(gX).contentName}}.`;return v.useEffect(()=>{var i;const r=(i=n.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,n,e]),null},iN=aF,bF=lF,aN=dF,Lx=uF,Fx=hF,$x=pF,Bx=gF,cS=yF;const yX=iN,xX=aN,_F=v.forwardRef(({className:n,...e},t)=>c.jsx(Lx,{className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));_F.displayName=Lx.displayName;const wX=Bm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SF=v.forwardRef(({side:n="right",className:e,children:t,...s},r)=>c.jsxs(xX,{children:[c.jsx(_F,{}),c.jsxs(Fx,{ref:r,className:Q(wX({side:n}),e),...s,children:[t,c.jsxs(cS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(bm,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SF.displayName=Fx.displayName;const bX=v.forwardRef(({className:n,...e},t)=>c.jsx($x,{ref:t,className:Q("text-lg font-semibold text-foreground",n),...e}));bX.displayName=$x.displayName;const _X=v.forwardRef(({className:n,...e},t)=>c.jsx(Bx,{ref:t,className:Q("text-sm text-muted-foreground",n),...e}));_X.displayName=Bx.displayName;function Vs({className:n,...e}){return c.jsx("div",{className:Q("animate-pulse rounded-md bg-muted",n),...e})}const SX="sidebar:state",CX=60*60*24*7,kX="16rem",EX="18rem",AX="3rem",jX="b",CF=v.createContext(null);function dS(){const n=v.useContext(CF);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}const kF=v.forwardRef(({defaultOpen:n=!0,open:e,onOpenChange:t,className:s,style:r,children:i,...a},o)=>{const l=hK(),[d,h]=v.useState(!1),[f,p]=v.useState(n),m=e??f,y=v.useCallback(x=>{const b=typeof x=="function"?x(m):x;t?t(b):p(b),document.cookie=`${SX}=${b}; path=/; max-age=${CX}`},[t,m]),g=v.useCallback(()=>l?h(x=>!x):y(x=>!x),[l,y,h]);v.useEffect(()=>{const x=b=>{b.key===jX&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),g())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[g]);const _=m?"expanded":"collapsed",w=v.useMemo(()=>({state:_,open:m,setOpen:y,isMobile:l,openMobile:d,setOpenMobile:h,toggleSidebar:g}),[_,m,y,l,d,h,g]);return c.jsx(CF.Provider,{value:w,children:c.jsx(sL,{delayDuration:0,children:c.jsx("div",{style:{"--sidebar-width":kX,"--sidebar-width-icon":AX,...r},className:Q("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:o,...a,children:i})})})});kF.displayName="SidebarProvider";const EF=v.forwardRef(({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:s,children:r,...i},a)=>{const{isMobile:o,state:l,openMobile:d,setOpenMobile:h}=dS();return t==="none"?c.jsx("div",{className:Q("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:a,...i,children:r}):o?c.jsx(yX,{open:d,onOpenChange:h,...i,children:c.jsx(SF,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":EX},side:n,children:c.jsx("div",{className:"flex h-full w-full flex-col",children:r})})}):c.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?t:"","data-variant":e,"data-side":n,children:[c.jsx("div",{className:Q("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),c.jsx("div",{className:Q("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:c.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})})]})});EF.displayName="Sidebar";const AF=v.forwardRef(({className:n,onClick:e,...t},s)=>{const{toggleSidebar:r}=dS();return c.jsxs(be,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Q("h-7 w-7",n),onClick:i=>{e==null||e(i),r()},...t,children:[c.jsx(dH,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});AF.displayName="SidebarTrigger";const NX=v.forwardRef(({className:n,...e},t)=>{const{toggleSidebar:s}=dS();return c.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:Q("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})});NX.displayName="SidebarRail";const jF=v.forwardRef(({className:n,...e},t)=>c.jsx("main",{ref:t,className:Q("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",n),...e}));jF.displayName="SidebarInset";const TX=v.forwardRef(({className:n,...e},t)=>c.jsx(Ue,{ref:t,"data-sidebar":"input",className:Q("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",n),...e}));TX.displayName="SidebarInput";const PX=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,"data-sidebar":"header",className:Q("flex flex-col gap-2 p-2",n),...e}));PX.displayName="SidebarHeader";const RX=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,"data-sidebar":"footer",className:Q("flex flex-col gap-2 p-2",n),...e}));RX.displayName="SidebarFooter";const DX=v.forwardRef(({className:n,...e},t)=>c.jsx(tN,{ref:t,"data-sidebar":"separator",className:Q("mx-2 w-auto bg-sidebar-border",n),...e}));DX.displayName="SidebarSeparator";const NF=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,"data-sidebar":"content",className:Q("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e}));NF.displayName="SidebarContent";const TF=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,"data-sidebar":"group",className:Q("relative flex w-full min-w-0 flex-col p-2",n),...e}));TF.displayName="SidebarGroup";const PF=v.forwardRef(({className:n,asChild:e=!1,...t},s)=>{const r=e?Cd:"div";return c.jsx(r,{ref:s,"data-sidebar":"group-label",className:Q("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})});PF.displayName="SidebarGroupLabel";const MX=v.forwardRef(({className:n,asChild:e=!1,...t},s)=>{const r=e?Cd:"button";return c.jsx(r,{ref:s,"data-sidebar":"group-action",className:Q("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",n),...t})});MX.displayName="SidebarGroupAction";const RF=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,"data-sidebar":"group-content",className:Q("w-full text-sm",n),...e}));RF.displayName="SidebarGroupContent";const DF=v.forwardRef(({className:n,...e},t)=>c.jsx("ul",{ref:t,"data-sidebar":"menu",className:Q("flex w-full min-w-0 flex-col gap-1",n),...e}));DF.displayName="SidebarMenu";const MF=v.forwardRef(({className:n,...e},t)=>c.jsx("li",{ref:t,"data-sidebar":"menu-item",className:Q("group/menu-item relative",n),...e}));MF.displayName="SidebarMenuItem";const OX=Bm("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),OF=v.forwardRef(({asChild:n=!1,isActive:e=!1,variant:t="default",size:s="default",tooltip:r,className:i,...a},o)=>{const l=n?Cd:"button",{isMobile:d,state:h}=dS(),f=c.jsx(l,{ref:o,"data-sidebar":"menu-button","data-size":s,"data-active":e,className:Q(OX({variant:t,size:s}),i),...a});return r?(typeof r=="string"&&(r={children:r}),c.jsxs(gq,{children:[c.jsx(vq,{asChild:!0,children:f}),c.jsx(rL,{side:"right",align:"center",hidden:h!=="collapsed"||d,...r})]})):f});OF.displayName="SidebarMenuButton";const IX=v.forwardRef(({className:n,asChild:e=!1,showOnHover:t=!1,...s},r)=>{const i=e?Cd:"button";return c.jsx(i,{ref:r,"data-sidebar":"menu-action",className:Q("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",n),...s})});IX.displayName="SidebarMenuAction";const LX=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:Q("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n),...e}));LX.displayName="SidebarMenuBadge";const FX=v.forwardRef(({className:n,showIcon:e=!1,...t},s)=>{const r=v.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return c.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:Q("rounded-md h-8 flex gap-2 px-2 items-center",n),...t,children:[e&&c.jsx(Vs,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),c.jsx(Vs,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":r}})]})});FX.displayName="SidebarMenuSkeleton";const $X=v.forwardRef(({className:n,...e},t)=>c.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:Q("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),...e}));$X.displayName="SidebarMenuSub";const BX=v.forwardRef(({...n},e)=>c.jsx("li",{ref:e,...n}));BX.displayName="SidebarMenuSubItem";const zX=v.forwardRef(({asChild:n=!1,size:e="md",isActive:t,className:s,...r},i)=>{const a=n?Cd:"a";return c.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:Q("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...r})});zX.displayName="SidebarMenuSubButton";const UX=[{title:"Dashboard",url:"/",icon:iH},{title:"Clientes",url:"/clients",icon:Sv},{title:"Casos",url:"/cases",icon:cd},{title:"Documentos",url:"/documents",icon:yh},{title:"Agenda",url:"/calendar",icon:Ki},{title:"Agente IA",url:"/ai-assistant",icon:lH},{title:"Tarefas",url:"/tasks",icon:vI},{title:"Relatórios",url:"/reports",icon:ik},{title:"Configurações",url:"/settings",icon:lk}];function VX(){const n=Ih();return c.jsx(EF,{children:c.jsx(NF,{children:c.jsxs(TF,{children:[c.jsx(PF,{className:"text-lg font-bold text-primary",children:"LegalSaaS Pro"}),c.jsx(RF,{children:c.jsx(DF,{children:UX.map(e=>c.jsx(MF,{children:c.jsx(OF,{asChild:!0,isActive:n.pathname===e.url,className:"data-[active=true]:bg-primary data-[active=true]:text-primary-foreground",children:c.jsxs(Zg,{to:e.url,className:"flex items-center gap-3",children:[c.jsx(e.icon,{className:"h-4 w-4"}),c.jsx("span",{children:e.title})]})})},e.title))})})]})})})}const IF=v.forwardRef(({...n},e)=>c.jsx("nav",{ref:e,"aria-label":"breadcrumb",...n}));IF.displayName="Breadcrumb";const LF=v.forwardRef(({className:n,...e},t)=>c.jsx("ol",{ref:t,className:Q("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",n),...e}));LF.displayName="BreadcrumbList";const Ik=v.forwardRef(({className:n,...e},t)=>c.jsx("li",{ref:t,className:Q("inline-flex items-center gap-1.5",n),...e}));Ik.displayName="BreadcrumbItem";const FF=v.forwardRef(({asChild:n,className:e,...t},s)=>{const r=n?Cd:"a";return c.jsx(r,{ref:s,className:Q("transition-colors hover:text-foreground",e),...t})});FF.displayName="BreadcrumbLink";const Lk=v.forwardRef(({className:n,...e},t)=>c.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:Q("font-normal text-foreground",n),...e}));Lk.displayName="BreadcrumbPage";const $F=({children:n,className:e,...t})=>c.jsx("li",{role:"presentation","aria-hidden":"true",className:Q("[&>svg]:size-3.5",e),...t,children:n??c.jsx(Nj,{})});$F.displayName="BreadcrumbSeparator";var BF={exports:{}},zF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=v;function HX(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var WX=typeof Object.is=="function"?Object.is:HX,qX=km.useState,GX=km.useEffect,YX=km.useLayoutEffect,KX=km.useDebugValue;function XX(n,e){var t=e(),s=qX({inst:{value:t,getSnapshot:e}}),r=s[0].inst,i=s[1];return YX(function(){r.value=t,r.getSnapshot=e,z1(r)&&i({inst:r})},[n,t,e]),GX(function(){return z1(r)&&i({inst:r}),n(function(){z1(r)&&i({inst:r})})},[n]),KX(t),t}function z1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!WX(n,t)}catch{return!0}}function QX(n,e){return e()}var ZX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QX:XX;zF.useSyncExternalStore=km.useSyncExternalStore!==void 0?km.useSyncExternalStore:ZX;BF.exports=zF;var JX=BF.exports;function eQ(){return JX.useSyncExternalStore(tQ,()=>!0,()=>!1)}function tQ(){return()=>{}}var oN="Avatar",[nQ,vle]=cs(oN),[sQ,UF]=nQ(oN),VF=v.forwardRef((n,e)=>{const{__scopeAvatar:t,...s}=n,[r,i]=v.useState("idle");return c.jsx(sQ,{scope:t,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:c.jsx(ve.span,{...s,ref:e})})});VF.displayName=oN;var HF="AvatarImage",WF=v.forwardRef((n,e)=>{const{__scopeAvatar:t,src:s,onLoadingStatusChange:r=()=>{},...i}=n,a=UF(HF,t),o=rQ(s,i),l=on(d=>{r(d),a.onImageLoadingStatusChange(d)});return pn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?c.jsx(ve.img,{...i,ref:e,src:s}):null});WF.displayName=HF;var qF="AvatarFallback",GF=v.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:s,...r}=n,i=UF(qF,t),[a,o]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const l=window.setTimeout(()=>o(!0),s);return()=>window.clearTimeout(l)}},[s]),a&&i.imageLoadingStatus!=="loaded"?c.jsx(ve.span,{...r,ref:e}):null});GF.displayName=qF;function UR(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rQ(n,{referrerPolicy:e,crossOrigin:t}){const s=eQ(),r=v.useRef(null),i=s?(r.current||(r.current=new window.Image),r.current):null,[a,o]=v.useState(()=>UR(i,n));return pn(()=>{o(UR(i,n))},[i,n]),pn(()=>{const l=f=>()=>{o(f)};if(!i)return;const d=l("loaded"),h=l("error");return i.addEventListener("load",d),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",d),i.removeEventListener("error",h)}},[i,t,e]),a}var YF=VF,KF=WF,XF=GF;const Em=v.forwardRef(({className:n,...e},t)=>c.jsx(YF,{ref:t,className:Q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));Em.displayName=YF.displayName;const QF=v.forwardRef(({className:n,...e},t)=>c.jsx(KF,{ref:t,className:Q("aspect-square h-full w-full",n),...e}));QF.displayName=KF.displayName;const hh=v.forwardRef(({className:n,...e},t)=>c.jsx(XF,{ref:t,className:Q("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));hh.displayName=XF.displayName;var iQ=v.createContext(void 0);function zx(n){const e=v.useContext(iQ);return n||e||"ltr"}var U1="rovingFocusGroup.onEntryFocus",aQ={bubbles:!1,cancelable:!0},Ux="RovingFocusGroup",[Fk,ZF,oQ]=L_(Ux),[lQ,uS]=cs(Ux,[oQ]),[cQ,dQ]=lQ(Ux),JF=v.forwardRef((n,e)=>c.jsx(Fk.Provider,{scope:n.__scopeRovingFocusGroup,children:c.jsx(Fk.Slot,{scope:n.__scopeRovingFocusGroup,children:c.jsx(uQ,{...n,ref:e})})}));JF.displayName=Ux;var uQ=v.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:r=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=n,p=v.useRef(null),m=Ie(e,p),y=zx(i),[g,_]=Qi({prop:a,defaultProp:o??null,onChange:l,caller:Ux}),[w,x]=v.useState(!1),b=on(d),S=ZF(t),k=v.useRef(!1),[j,N]=v.useState(0);return v.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(U1,b),()=>P.removeEventListener(U1,b)},[b]),c.jsx(cQ,{scope:t,orientation:s,dir:y,loop:r,currentTabStopId:g,onItemFocus:v.useCallback(P=>_(P),[_]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>N(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>N(P=>P-1),[]),children:c.jsx(ve.div,{tabIndex:w||j===0?-1:0,"data-orientation":s,...f,ref:m,style:{outline:"none",...n.style},onMouseDown:te(n.onMouseDown,()=>{k.current=!0}),onFocus:te(n.onFocus,P=>{const D=!k.current;if(P.target===P.currentTarget&&D&&!w){const T=new CustomEvent(U1,aQ);if(P.currentTarget.dispatchEvent(T),!T.defaultPrevented){const F=S().filter(z=>z.focusable),M=F.find(z=>z.active),U=F.find(z=>z.id===g),V=[M,U,...F].filter(Boolean).map(z=>z.ref.current);n4(V,h)}}k.current=!1}),onBlur:te(n.onBlur,()=>x(!1))})})}),e4="RovingFocusGroupItem",t4=v.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:r=!1,tabStopId:i,children:a,...o}=n,l=di(),d=i||l,h=dQ(e4,t),f=h.currentTabStopId===d,p=ZF(t),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:g}=h;return v.useEffect(()=>{if(s)return m(),()=>y()},[s,m,y]),c.jsx(Fk.ItemSlot,{scope:t,id:d,focusable:s,active:r,children:c.jsx(ve.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:te(n.onMouseDown,_=>{s?h.onItemFocus(d):_.preventDefault()}),onFocus:te(n.onFocus,()=>h.onItemFocus(d)),onKeyDown:te(n.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const w=pQ(_,h.orientation,h.dir);if(w!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let b=p().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const S=b.indexOf(_.currentTarget);b=h.loop?mQ(b,S+1):b.slice(S+1)}setTimeout(()=>n4(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:g!=null}):a})})});t4.displayName=e4;var hQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fQ(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function pQ(n,e,t){const s=fQ(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return hQ[s]}function n4(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function mQ(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var s4=JF,r4=t4,$k=["Enter"," "],gQ=["ArrowDown","PageUp","Home"],i4=["ArrowUp","PageDown","End"],vQ=[...gQ,...i4],yQ={ltr:[...$k,"ArrowRight"],rtl:[...$k,"ArrowLeft"]},xQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vx="Menu",[Dv,wQ,bQ]=L_(Vx),[$h,a4]=cs(Vx,[bQ,kd,uS]),hS=kd(),o4=uS(),[_Q,Bh]=$h(Vx),[SQ,Hx]=$h(Vx),l4=n=>{const{__scopeMenu:e,open:t=!1,children:s,dir:r,onOpenChange:i,modal:a=!0}=n,o=hS(e),[l,d]=v.useState(null),h=v.useRef(!1),f=on(i),p=zx(r);return v.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),c.jsx(W_,{...o,children:c.jsx(_Q,{scope:e,open:t,onOpenChange:f,content:l,onContentChange:d,children:c.jsx(SQ,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:a,children:s})})})};l4.displayName=Vx;var CQ="MenuAnchor",lN=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,r=hS(t);return c.jsx(Tx,{...r,...s,ref:e})});lN.displayName=CQ;var cN="MenuPortal",[kQ,c4]=$h(cN,{forceMount:void 0}),d4=n=>{const{__scopeMenu:e,forceMount:t,children:s,container:r}=n,i=Bh(cN,e);return c.jsx(kQ,{scope:e,forceMount:t,children:c.jsx(Gn,{present:t||i.open,children:c.jsx($m,{asChild:!0,container:r,children:s})})})};d4.displayName=cN;var ui="MenuContent",[EQ,dN]=$h(ui),u4=v.forwardRef((n,e)=>{const t=c4(ui,n.__scopeMenu),{forceMount:s=t.forceMount,...r}=n,i=Bh(ui,n.__scopeMenu),a=Hx(ui,n.__scopeMenu);return c.jsx(Dv.Provider,{scope:n.__scopeMenu,children:c.jsx(Gn,{present:s||i.open,children:c.jsx(Dv.Slot,{scope:n.__scopeMenu,children:a.modal?c.jsx(AQ,{...r,ref:e}):c.jsx(jQ,{...r,ref:e})})})})}),AQ=v.forwardRef((n,e)=>{const t=Bh(ui,n.__scopeMenu),s=v.useRef(null),r=Ie(e,s);return v.useEffect(()=>{const i=s.current;if(i)return oS(i)},[]),c.jsx(uN,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:te(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),jQ=v.forwardRef((n,e)=>{const t=Bh(ui,n.__scopeMenu);return c.jsx(uN,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),NQ=ld("MenuContent.ScrollLock"),uN=v.forwardRef((n,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:y,...g}=n,_=Bh(ui,t),w=Hx(ui,t),x=hS(t),b=o4(t),S=wQ(t),[k,j]=v.useState(null),N=v.useRef(null),P=Ie(e,N,_.onContentChange),D=v.useRef(0),T=v.useRef(""),F=v.useRef(0),M=v.useRef(null),U=v.useRef("right"),R=v.useRef(0),V=y?Ix:v.Fragment,z=y?{as:NQ,allowPinchZoom:!0}:void 0,$=L=>{var X,He;const K=T.current+L,ie=S().filter(Be=>!Be.disabled),Z=document.activeElement,re=(X=ie.find(Be=>Be.ref.current===Z))==null?void 0:X.textValue,he=ie.map(Be=>Be.textValue),De=zQ(he,K,re),je=(He=ie.find(Be=>Be.textValue===De))==null?void 0:He.ref.current;(function Be(Re){T.current=Re,window.clearTimeout(D.current),Re!==""&&(D.current=window.setTimeout(()=>Be(""),1e3))})(K),je&&setTimeout(()=>je.focus())};v.useEffect(()=>()=>window.clearTimeout(D.current),[]),iS();const I=v.useCallback(L=>{var ie,Z;return U.current===((ie=M.current)==null?void 0:ie.side)&&VQ(L,(Z=M.current)==null?void 0:Z.area)},[]);return c.jsx(EQ,{scope:t,searchRef:T,onItemEnter:v.useCallback(L=>{I(L)&&L.preventDefault()},[I]),onItemLeave:v.useCallback(L=>{var K;I(L)||((K=N.current)==null||K.focus(),j(null))},[I]),onTriggerLeave:v.useCallback(L=>{I(L)&&L.preventDefault()},[I]),pointerGraceTimerRef:F,onPointerGraceIntentChange:v.useCallback(L=>{M.current=L},[]),children:c.jsx(V,{...z,children:c.jsx(Ox,{asChild:!0,trapped:r,onMountAutoFocus:te(i,L=>{var K;L.preventDefault(),(K=N.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(Oh,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:c.jsx(s4,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:j,onEntryFocus:te(l,L=>{w.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(q_,{role:"menu","aria-orientation":"vertical","data-state":A4(_.open),"data-radix-menu-content":"",dir:w.dir,...x,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:te(g.onKeyDown,L=>{const ie=L.target.closest("[data-radix-menu-content]")===L.currentTarget,Z=L.ctrlKey||L.altKey||L.metaKey,re=L.key.length===1;ie&&(L.key==="Tab"&&L.preventDefault(),!Z&&re&&$(L.key));const he=N.current;if(L.target!==he||!vQ.includes(L.key))return;L.preventDefault();const je=S().filter(X=>!X.disabled).map(X=>X.ref.current);i4.includes(L.key)&&je.reverse(),$Q(je)}),onBlur:te(n.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(D.current),T.current="")}),onPointerMove:te(n.onPointerMove,Mv(L=>{const K=L.target,ie=R.current!==L.clientX;if(L.currentTarget.contains(K)&&ie){const Z=L.clientX>R.current?"right":"left";U.current=Z,R.current=L.clientX}}))})})})})})})});u4.displayName=ui;var TQ="MenuGroup",hN=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return c.jsx(ve.div,{role:"group",...s,ref:e})});hN.displayName=TQ;var PQ="MenuLabel",h4=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return c.jsx(ve.div,{...s,ref:e})});h4.displayName=PQ;var S0="MenuItem",VR="menu.itemSelect",fS=v.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:s,...r}=n,i=v.useRef(null),a=Hx(S0,n.__scopeMenu),o=dN(S0,n.__scopeMenu),l=Ie(e,i),d=v.useRef(!1),h=()=>{const f=i.current;if(!t&&f){const p=new CustomEvent(VR,{bubbles:!0,cancelable:!0});f.addEventListener(VR,m=>s==null?void 0:s(m),{once:!0}),Cj(f,p),p.defaultPrevented?d.current=!1:a.onClose()}};return c.jsx(f4,{...r,ref:l,disabled:t,onClick:te(n.onClick,h),onPointerDown:f=>{var p;(p=n.onPointerDown)==null||p.call(n,f),d.current=!0},onPointerUp:te(n.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:te(n.onKeyDown,f=>{const p=o.searchRef.current!=="";t||p&&f.key===" "||$k.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});fS.displayName=S0;var f4=v.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:r,...i}=n,a=dN(S0,t),o=o4(t),l=v.useRef(null),d=Ie(e,l),[h,f]=v.useState(!1),[p,m]=v.useState("");return v.useEffect(()=>{const y=l.current;y&&m((y.textContent??"").trim())},[i.children]),c.jsx(Dv.ItemSlot,{scope:t,disabled:s,textValue:r??p,children:c.jsx(r4,{asChild:!0,...o,focusable:!s,children:c.jsx(ve.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:te(n.onPointerMove,Mv(y=>{s?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(n.onPointerLeave,Mv(y=>a.onItemLeave(y))),onFocus:te(n.onFocus,()=>f(!0)),onBlur:te(n.onBlur,()=>f(!1))})})})}),RQ="MenuCheckboxItem",p4=v.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:s,...r}=n;return c.jsx(x4,{scope:n.__scopeMenu,checked:t,children:c.jsx(fS,{role:"menuitemcheckbox","aria-checked":C0(t)?"mixed":t,...r,ref:e,"data-state":pN(t),onSelect:te(r.onSelect,()=>s==null?void 0:s(C0(t)?!0:!t),{checkForDefaultPrevented:!1})})})});p4.displayName=RQ;var m4="MenuRadioGroup",[DQ,MQ]=$h(m4,{value:void 0,onValueChange:()=>{}}),g4=v.forwardRef((n,e)=>{const{value:t,onValueChange:s,...r}=n,i=on(s);return c.jsx(DQ,{scope:n.__scopeMenu,value:t,onValueChange:i,children:c.jsx(hN,{...r,ref:e})})});g4.displayName=m4;var v4="MenuRadioItem",y4=v.forwardRef((n,e)=>{const{value:t,...s}=n,r=MQ(v4,n.__scopeMenu),i=t===r.value;return c.jsx(x4,{scope:n.__scopeMenu,checked:i,children:c.jsx(fS,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":pN(i),onSelect:te(s.onSelect,()=>{var a;return(a=r.onValueChange)==null?void 0:a.call(r,t)},{checkForDefaultPrevented:!1})})})});y4.displayName=v4;var fN="MenuItemIndicator",[x4,OQ]=$h(fN,{checked:!1}),w4=v.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:s,...r}=n,i=OQ(fN,t);return c.jsx(Gn,{present:s||C0(i.checked)||i.checked===!0,children:c.jsx(ve.span,{...r,ref:e,"data-state":pN(i.checked)})})});w4.displayName=fN;var IQ="MenuSeparator",b4=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return c.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});b4.displayName=IQ;var LQ="MenuArrow",_4=v.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,r=hS(t);return c.jsx(G_,{...r,...s,ref:e})});_4.displayName=LQ;var FQ="MenuSub",[yle,S4]=$h(FQ),xg="MenuSubTrigger",C4=v.forwardRef((n,e)=>{const t=Bh(xg,n.__scopeMenu),s=Hx(xg,n.__scopeMenu),r=S4(xg,n.__scopeMenu),i=dN(xg,n.__scopeMenu),a=v.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=i,d={__scopeMenu:n.__scopeMenu},h=v.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return v.useEffect(()=>h,[h]),v.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),c.jsx(lN,{asChild:!0,...d,children:c.jsx(f4,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":A4(t.open),...n,ref:I_(e,r.onTriggerChange),onClick:f=>{var p;(p=n.onClick)==null||p.call(n,f),!(n.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:te(n.onPointerMove,Mv(f=>{i.onItemEnter(f),!f.defaultPrevented&&!n.disabled&&!t.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{t.onOpenChange(!0),h()},100))})),onPointerLeave:te(n.onPointerLeave,Mv(f=>{var m,y;h();const p=(m=t.content)==null?void 0:m.getBoundingClientRect();if(p){const g=(y=t.content)==null?void 0:y.dataset.side,_=g==="right",w=_?-5:5,x=p[_?"left":"right"],b=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:te(n.onKeyDown,f=>{var m;const p=i.searchRef.current!=="";n.disabled||p&&f.key===" "||yQ[s.dir].includes(f.key)&&(t.onOpenChange(!0),(m=t.content)==null||m.focus(),f.preventDefault())})})})});C4.displayName=xg;var k4="MenuSubContent",E4=v.forwardRef((n,e)=>{const t=c4(ui,n.__scopeMenu),{forceMount:s=t.forceMount,...r}=n,i=Bh(ui,n.__scopeMenu),a=Hx(ui,n.__scopeMenu),o=S4(k4,n.__scopeMenu),l=v.useRef(null),d=Ie(e,l);return c.jsx(Dv.Provider,{scope:n.__scopeMenu,children:c.jsx(Gn,{present:s||i.open,children:c.jsx(Dv.Slot,{scope:n.__scopeMenu,children:c.jsx(uN,{id:o.contentId,"aria-labelledby":o.triggerId,...r,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;a.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:te(n.onFocusOutside,h=>{h.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:te(n.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:te(n.onKeyDown,h=>{var m;const f=h.currentTarget.contains(h.target),p=xQ[a.dir].includes(h.key);f&&p&&(i.onOpenChange(!1),(m=o.trigger)==null||m.focus(),h.preventDefault())})})})})})});E4.displayName=k4;function A4(n){return n?"open":"closed"}function C0(n){return n==="indeterminate"}function pN(n){return C0(n)?"indeterminate":n?"checked":"unchecked"}function $Q(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function BQ(n,e){return n.map((t,s)=>n[(e+s)%n.length])}function zQ(n,e,t){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let a=BQ(n,Math.max(i,0));r.length===1&&(a=a.filter(d=>d!==t));const l=a.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function UQ(n,e){const{x:t,y:s}=n;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],l=e[a],d=o.x,h=o.y,f=l.x,p=l.y;h>s!=p>s&&t<(f-d)*(s-h)/(p-h)+d&&(r=!r)}return r}function VQ(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return UQ(t,e)}function Mv(n){return e=>e.pointerType==="mouse"?n(e):void 0}var HQ=l4,WQ=lN,qQ=d4,GQ=u4,YQ=hN,KQ=h4,XQ=fS,QQ=p4,ZQ=g4,JQ=y4,eZ=w4,tZ=b4,nZ=_4,sZ=C4,rZ=E4,pS="DropdownMenu",[iZ,xle]=cs(pS,[a4]),Bs=a4(),[aZ,j4]=iZ(pS),N4=n=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=n,l=Bs(e),d=v.useRef(null),[h,f]=Qi({prop:r,defaultProp:i??!1,onChange:a,caller:pS});return c.jsx(aZ,{scope:e,triggerId:di(),triggerRef:d,contentId:di(),open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),modal:o,children:c.jsx(HQ,{...l,open:h,onOpenChange:f,dir:s,modal:o,children:t})})};N4.displayName=pS;var T4="DropdownMenuTrigger",P4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...r}=n,i=j4(T4,t),a=Bs(t);return c.jsx(WQ,{asChild:!0,...a,children:c.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:I_(e,i.triggerRef),onPointerDown:te(n.onPointerDown,o=>{!s&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:te(n.onKeyDown,o=>{s||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});P4.displayName=T4;var oZ="DropdownMenuPortal",R4=n=>{const{__scopeDropdownMenu:e,...t}=n,s=Bs(e);return c.jsx(qQ,{...s,...t})};R4.displayName=oZ;var D4="DropdownMenuContent",M4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=j4(D4,t),i=Bs(t),a=v.useRef(!1);return c.jsx(GQ,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:e,onCloseAutoFocus:te(n.onCloseAutoFocus,o=>{var l;a.current||(l=r.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:te(n.onInteractOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;(!r.modal||h)&&(a.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M4.displayName=D4;var lZ="DropdownMenuGroup",cZ=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(YQ,{...r,...s,ref:e})});cZ.displayName=lZ;var dZ="DropdownMenuLabel",O4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(KQ,{...r,...s,ref:e})});O4.displayName=dZ;var uZ="DropdownMenuItem",I4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(XQ,{...r,...s,ref:e})});I4.displayName=uZ;var hZ="DropdownMenuCheckboxItem",L4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(QQ,{...r,...s,ref:e})});L4.displayName=hZ;var fZ="DropdownMenuRadioGroup",pZ=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(ZQ,{...r,...s,ref:e})});pZ.displayName=fZ;var mZ="DropdownMenuRadioItem",F4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(JQ,{...r,...s,ref:e})});F4.displayName=mZ;var gZ="DropdownMenuItemIndicator",$4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(eZ,{...r,...s,ref:e})});$4.displayName=gZ;var vZ="DropdownMenuSeparator",B4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(tZ,{...r,...s,ref:e})});B4.displayName=vZ;var yZ="DropdownMenuArrow",xZ=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(nZ,{...r,...s,ref:e})});xZ.displayName=yZ;var wZ="DropdownMenuSubTrigger",z4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(sZ,{...r,...s,ref:e})});z4.displayName=wZ;var bZ="DropdownMenuSubContent",U4=v.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=Bs(t);return c.jsx(rZ,{...r,...s,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U4.displayName=bZ;var _Z=N4,SZ=P4,CZ=R4,V4=M4,H4=O4,W4=I4,q4=L4,G4=F4,Y4=$4,K4=B4,X4=z4,Q4=U4;const Z4=_Z,J4=SZ,kZ=v.forwardRef(({className:n,inset:e,children:t,...s},r)=>c.jsxs(X4,{ref:r,className:Q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...s,children:[t,c.jsx(Nj,{className:"ml-auto h-4 w-4"})]}));kZ.displayName=X4.displayName;const EZ=v.forwardRef(({className:n,...e},t)=>c.jsx(Q4,{ref:t,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));EZ.displayName=Q4.displayName;const mN=v.forwardRef(({className:n,sideOffset:e=4,...t},s)=>c.jsx(CZ,{children:c.jsx(V4,{ref:s,sideOffset:e,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));mN.displayName=V4.displayName;const Ov=v.forwardRef(({className:n,inset:e,...t},s)=>c.jsx(W4,{ref:s,className:Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));Ov.displayName=W4.displayName;const AZ=v.forwardRef(({className:n,children:e,checked:t,...s},r)=>c.jsxs(q4,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...s,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Y4,{children:c.jsx(jj,{className:"h-4 w-4"})})}),e]}));AZ.displayName=q4.displayName;const jZ=v.forwardRef(({className:n,children:e,...t},s)=>c.jsxs(G4,{ref:s,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(Y4,{children:c.jsx(tH,{className:"h-2 w-2 fill-current"})})}),e]}));jZ.displayName=G4.displayName;const NZ=v.forwardRef(({className:n,inset:e,...t},s)=>c.jsx(H4,{ref:s,className:Q("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));NZ.displayName=H4.displayName;const TZ=v.forwardRef(({className:n,...e},t)=>c.jsx(K4,{ref:t,className:Q("-mx-1 my-1 h-px bg-muted",n),...e}));TZ.displayName=K4.displayName;const Ns=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Bk=[.001,0,0,.001,0,0],V1=1.35,Pr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Wl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e$="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},st={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},PZ={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Yn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},db={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},xn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},rf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},mS={ERRORS:0,WARNINGS:1,INFOS:5},Iv={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Iw={moveTo:0,lineTo:1,curveTo:2,closePath:3},RZ={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let gS=mS.WARNINGS;function DZ(n){Number.isInteger(n)&&(gS=n)}function MZ(){return gS}function vS(n){gS>=mS.INFOS&&console.log(`Info: ${n}`)}function Le(n){gS>=mS.WARNINGS&&console.log(`Warning: ${n}`)}function Et(n){throw new Error(n)}function Cn(n,e){n||Et(e)}function OZ(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function t$(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=BZ(n)}catch{}}const s=e?URL.parse(n,e):URL.parse(n);return OZ(s)?s:null}function n$(n,e,t=!1){const s=URL.parse(n);return s?(s.hash=e,s.href):t&&t$(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ze(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const zh=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class HR extends zh{constructor(e,t){super(e,"PasswordException"),this.code=t}}class H1 extends zh{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class zk extends zh{constructor(e){super(e,"InvalidPDFException")}}class k0 extends zh{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class IZ extends zh{constructor(e){super(e,"FormatError")}}class hd extends zh{constructor(e){super(e,"AbortException")}}function s$(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Et("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let r=0;r<e;r+=t){const i=Math.min(r+t,e),a=n.subarray(r,i);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function Wx(n){typeof n!="string"&&Et("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function LZ(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function FZ(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function $Z(){try{return new Function(""),!0}catch{return!1}}class os{static get isLittleEndian(){return Ze(this,"isLittleEndian",FZ())}static get isEvalSupported(){return Ze(this,"isEvalSupported",$Z())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ze(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ze(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Ze(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const W1=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var dl,ub,Uk;class me{static makeHexColor(e,t,s){return`#${W1[e]}${W1[t]}${W1[s]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,s=0){const r=e[s],i=e[s+1];e[s]=r*t[0]+i*t[2]+t[4],e[s+1]=r*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const r=t[0],i=t[1],a=t[2],o=t[3],l=t[4],d=t[5];for(let h=0;h<6;h+=2){const f=e[s+h],p=e[s+h+1];e[s+h]=f*r+p*a+l,e[s+h+1]=f*i+p*o+d}}static applyInverseTransform(e,t){const s=e[0],r=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-s*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,s){const r=t[0],i=t[1],a=t[2],o=t[3],l=t[4],d=t[5],h=e[0],f=e[1],p=e[2],m=e[3];let y=r*h+l,g=y,_=r*p+l,w=_,x=o*f+d,b=x,S=o*m+d,k=S;if(i!==0||a!==0){const j=i*h,N=i*p,P=a*f,D=a*m;y+=P,w+=P,_+=D,g+=D,x+=j,k+=j,S+=N,b+=N}s[0]=Math.min(s[0],y,_,g,w),s[1]=Math.min(s[1],x,S,b,k),s[2]=Math.max(s[2],y,_,g,w),s[3]=Math.max(s[3],x,S,b,k)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],r=e[1],i=e[2],a=e[3],o=s**2+r**2,l=s*i+r*a,d=i**2+a**2,h=(o+d)/2,f=Math.sqrt(h**2-(o*d-l**2));t[0]=Math.sqrt(h+f||1),t[1]=Math.sqrt(h-f||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[s,i,r,a]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,r,i){i[0]=Math.min(i[0],e,s),i[1]=Math.min(i[1],t,r),i[2]=Math.max(i[2],e,s),i[3]=Math.max(i[3],t,r)}static bezierBoundingBox(e,t,s,r,i,a,o,l,d){d[0]=Math.min(d[0],e,o),d[1]=Math.min(d[1],t,l),d[2]=Math.max(d[2],e,o),d[3]=Math.max(d[3],t,l),A(this,dl,Uk).call(this,e,s,i,o,t,r,a,l,3*(-e+3*(s-i)+o),6*(e-2*s+i),3*(s-e),d),A(this,dl,Uk).call(this,e,s,i,o,t,r,a,l,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),d)}}dl=new WeakSet,ub=function(e,t,s,r,i,a,o,l,d,h){if(d<=0||d>=1)return;const f=1-d,p=d*d,m=p*d,y=f*(f*(f*e+3*d*t)+3*p*s)+m*r,g=f*(f*(f*i+3*d*a)+3*p*o)+m*l;h[0]=Math.min(h[0],y),h[1]=Math.min(h[1],g),h[2]=Math.max(h[2],y),h[3]=Math.max(h[3],g)},Uk=function(e,t,s,r,i,a,o,l,d,h,f,p){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&A(this,dl,ub).call(this,e,t,s,r,i,a,o,l,-f/h,p);return}const m=h**2-4*f*d;if(m<0)return;const y=Math.sqrt(m),g=2*d;A(this,dl,ub).call(this,e,t,s,r,i,a,o,l,(-h+y)/g,p),A(this,dl,ub).call(this,e,t,s,r,i,a,o,l,(-h-y)/g,p)},E(me,dl);function BZ(n){return decodeURIComponent(escape(n))}let q1=null,WR=null;function zZ(n){return q1||(q1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,WR=new Map([["ﬅ","ſt"]])),n.replaceAll(q1,(e,t,s)=>t?t.normalize("NFKC"):WR.get(s))}function r$(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),s$(n)}const gN="pdfjs_internal_id_";function UZ(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,r,...i]=t;if(!n(s)&&!Number.isInteger(s)||!e(r))return!1;const a=i.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of i)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Ts(n,e,t){return Math.min(Math.max(n,e),t)}function i$(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(s$(n))}function VZ(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Wx(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const uo="http://www.w3.org/2000/svg",qd=class qd{};ee(qd,"CSS",96),ee(qd,"PDF",72),ee(qd,"PDF_TO_CSS_UNITS",qd.CSS/qd.PDF);let fd=qd;async function qx(n,e="text"){if(wg(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Gx{constructor({viewBox:e,userUnit:t,scale:s,rotation:r,offsetX:i=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=r,this.offsetX=i,this.offsetY=a,s*=t;const l=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,f,p,m;switch(r%=360,r<0&&(r+=360),r){case 180:h=-1,f=0,p=0,m=1;break;case 90:h=0,f=1,p=1,m=0;break;case 270:h=0,f=-1,p=-1,m=0;break;case 0:h=1,f=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,m=-m);let y,g,_,w;h===0?(y=Math.abs(d-e[1])*s+i,g=Math.abs(l-e[0])*s+a,_=(e[3]-e[1])*s,w=(e[2]-e[0])*s):(y=Math.abs(l-e[0])*s+i,g=Math.abs(d-e[1])*s+a,_=(e[2]-e[0])*s,w=(e[3]-e[1])*s),this.transform=[h*s,f*s,p*s,m*s,y-h*s*l-p*s*d,g-f*s*l-m*s*d],this.width=_,this.height=w}get rawDims(){const e=this.viewBox;return Ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new Gx({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){const s=[e,t];return me.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];me.applyTransform(t,this.transform);const s=[e[2],e[3]];return me.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return me.applyInverseTransform(s,this.transform),s}}class vN extends zh{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function yS(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function yN(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function HZ(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function WZ(n,e="document.pdf"){if(typeof n!="string")return e;if(yS(n))return Le('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!s)return e;const r=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},i=/\.pdf$/i,a=s.pathname.split("/").at(-1);if(i.test(a))return r(a);if(s.searchParams.size>0){const o=Array.from(s.searchParams.values()).reverse();for(const d of o)if(i.test(d))return r(d);const l=Array.from(s.searchParams.keys()).reverse();for(const d of l)if(i.test(d))return r(d)}if(s.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(l)return r(l[0])}return e}class qR{constructor(){ee(this,"started",Object.create(null));ee(this,"times",[])}time(e){e in this.started&&Le(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Le(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:r,end:i}of this.times)e.push(`${s.padEnd(t)} ${i-r}ms
`);return e.join("")}}function wg(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function mi(n){n.preventDefault()}function _n(n){n.preventDefault(),n.stopPropagation()}function qZ(n){console.log("Deprecated API usage: "+n)}var qv;class E0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;u(this,qv)||C(this,qv,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=u(this,qv).exec(e);if(!t)return null;const s=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,d==="-"?(a+=h,o+=f):d==="+"&&(a-=h,o-=f),new Date(Date.UTC(s,r,i,a,o,l))}}qv=new WeakMap,E(E0,qv);function GZ(n,{scale:e=1,rotation:t=0}){const{width:s,height:r}=n.attributes.style,i=[0,0,parseInt(s),parseInt(r)];return new Gx({viewBox:i,userUnit:1,scale:e,rotation:t})}function xS(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Le(`Not a valid color format: "${n}"`),[0,0,0])}function YZ(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,xS(s))}e.remove()}function Qt(n){const{a:e,b:t,c:s,d:r,e:i,f:a}=n.getTransform();return[e,t,s,r,i,a]}function oa(n){const{a:e,b:t,c:s,d:r,e:i,f:a}=n.getTransform().invertSelf();return[e,t,s,r,i,a]}function bh(n,e,t=!1,s=!0){if(e instanceof Gx){const{pageWidth:r,pageHeight:i}=e.rawDims,{style:a}=n,o=os.isCSSRoundSupported,l=`var(--total-scale-factor) * ${r}px`,d=`var(--total-scale-factor) * ${i}px`,h=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,f=o?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!t||e.rotation%180===0?(a.width=h,a.height=f):(a.width=f,a.height=h)}s&&n.setAttribute("data-main-rotation",e.rotation)}class Za{constructor(){const{pixelRatio:e}=Za;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,r,i=-1){let a=1/0,o=1/0,l=1/0;s=Za.capPixels(s,i),s>0&&(a=Math.sqrt(s/(e*t))),r!==-1&&(o=r/e,l=r/t);const d=Math.min(a,o,l);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const Vk=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var ec,tc,Kr,wo,Gv,Qf,Zf,Yv,t_,a$,is,o$,l$,af,bg;const go=class go{constructor(e){E(this,is);E(this,ec,null);E(this,tc,null);E(this,Kr);E(this,wo,null);E(this,Gv,null);E(this,Qf,null);E(this,Zf,null);C(this,Kr,e),u(go,Yv)||C(go,Yv,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=C(this,ec,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=u(this,Kr)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",mi,{signal:t}),e.addEventListener("pointerdown",A(go,t_,a$),{signal:t}));const s=C(this,wo,document.createElement("div"));s.className="buttons",e.append(s);const r=u(this,Kr).toolbarPosition;if(r){const{style:i}=e,a=u(this,Kr)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return u(this,ec)}hide(){var e;u(this,ec).classList.add("hidden"),(e=u(this,tc))==null||e.hideDropdown()}show(){var e,t;u(this,ec).classList.remove("hidden"),(e=u(this,Gv))==null||e.shown(),(t=u(this,Qf))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=u(this,Kr),s=document.createElement("button");s.classList.add("basic","deleteButton"),s.tabIndex=0,s.setAttribute("data-l10n-id",u(go,Yv)[e]),A(this,is,af).call(this,s)&&s.addEventListener("click",r=>{t.delete()},{signal:t._signal}),u(this,wo).append(s)}async addAltText(e){const t=await e.render();A(this,is,af).call(this,t),u(this,wo).append(t,u(this,is,bg)),C(this,Gv,e)}addComment(e){if(u(this,Qf))return;const t=e.render();t&&(A(this,is,af).call(this,t),u(this,wo).append(t,u(this,is,bg)),C(this,Qf,e),e.toolbar=this)}addColorPicker(e){if(u(this,tc))return;C(this,tc,e);const t=e.renderButton();A(this,is,af).call(this,t),u(this,wo).append(t,u(this,is,bg))}async addEditSignatureButton(e){const t=C(this,Zf,await e.renderEditButton(u(this,Kr)));A(this,is,af).call(this,t),u(this,wo).append(t,u(this,is,bg))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}updateEditSignatureButton(e){u(this,Zf)&&(u(this,Zf).title=e)}remove(){var e;u(this,ec).remove(),(e=u(this,tc))==null||e.destroy(),C(this,tc,null)}};ec=new WeakMap,tc=new WeakMap,Kr=new WeakMap,wo=new WeakMap,Gv=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,Yv=new WeakMap,t_=new WeakSet,a$=function(e){e.stopPropagation()},is=new WeakSet,o$=function(e){u(this,Kr)._focusEventsAllowed=!1,_n(e)},l$=function(e){u(this,Kr)._focusEventsAllowed=!0,_n(e)},af=function(e){const t=u(this,Kr)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",A(this,is,o$).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,is,l$).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",mi,{signal:t}),!0)},bg=function(){const e=document.createElement("div");return e.className="divider",e},E(go,t_),E(go,Yv,null);let Hk=go;var Kv,iu,bo,xl,c$,d$,Wk;class KZ{constructor(e){E(this,xl);E(this,Kv,null);E(this,iu,null);E(this,bo);C(this,bo,e)}show(e,t,s){const[r,i]=A(this,xl,d$).call(this,t,s),{style:a}=u(this,iu)||C(this,iu,A(this,xl,c$).call(this));e.append(u(this,iu)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,iu).remove()}}Kv=new WeakMap,iu=new WeakMap,bo=new WeakMap,xl=new WeakSet,c$=function(){const e=C(this,iu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=u(this,bo)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",mi,{signal:t});const s=C(this,Kv,document.createElement("div"));return s.className="buttons",e.append(s),u(this,bo).hasCommentManager()&&A(this,xl,Wk).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{u(this,bo).commentSelection("floating_button")}),A(this,xl,Wk).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{u(this,bo).highlightSelection("floating_button")}),e},d$=function(e,t){let s=0,r=0;for(const i of e){const a=i.y+i.height;if(a<s)continue;const o=i.x+(t?i.width:0);if(a>s){r=o,s=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,s]},Wk=function(e,t,s,r){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",t);const a=document.createElement("span");i.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",s);const o=u(this,bo)._signal;o instanceof AbortSignal&&!o.aborted&&(i.addEventListener("contextmenu",mi,{signal:o}),i.addEventListener("click",r,{signal:o})),u(this,Kv).append(i)};function u$(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}var n_;class XZ{constructor(){E(this,n_,0)}get id(){return`${e$}${nn(this,n_)._++}`}}n_=new WeakMap;var Jf,Xv,ms,ep,hb;const hT=class hT{constructor(){E(this,ep);E(this,Jf,r$());E(this,Xv,0);E(this,ms,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const i=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:s,size:r,type:i}=e;return A(this,ep,hb).call(this,`${t}_${s}_${r}_${i}`,e)}async getFromUrl(e){return A(this,ep,hb).call(this,e,e)}async getFromBlob(e,t){const s=await t;return A(this,ep,hb).call(this,e,s)}async getFromId(e){u(this,ms)||C(this,ms,new Map);const t=u(this,ms).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){u(this,ms)||C(this,ms,new Map);let s=u(this,ms).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${u(this,Jf)}_${nn(this,Xv)._++}`,refCounter:1,isSvg:!1},u(this,ms).set(e,s),u(this,ms).set(s.id,s),s}getSvgUrl(e){const t=u(this,ms).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;u(this,ms)||C(this,ms,new Map);const t=u(this,ms).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(s.width,s.height);i.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=i.convertToBlob()}(r=s.close)==null||r.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,Jf)}_`)}};Jf=new WeakMap,Xv=new WeakMap,ms=new WeakMap,ep=new WeakSet,hb=async function(e,t){u(this,ms)||C(this,ms,new Map);let s=u(this,ms).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${u(this,Jf)}_${nn(this,Xv)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(s.url=t,r=await qx(t,"blob")):t instanceof File?r=s.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const i=hT._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((d,h)=>{o.onload=()=>{s.bitmap=o,s.isSvg=!0,d()},a.onload=async()=>{const f=s.svgUrl=a.result;o.src=await i?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=h});a.readAsDataURL(r),await l}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){Le(r),s=null}return u(this,ms).set(e,s),s&&u(this,ms).set(s.id,s),s};let qk=hT;var ln,nc,Qv,Kt;class QZ{constructor(e=128){E(this,ln,[]);E(this,nc,!1);E(this,Qv);E(this,Kt,-1);C(this,Qv,e)}add({cmd:e,undo:t,post:s,mustExec:r,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),u(this,nc))return;const l={cmd:e,undo:t,post:s,type:i};if(u(this,Kt)===-1){u(this,ln).length>0&&(u(this,ln).length=0),C(this,Kt,0),u(this,ln).push(l);return}if(a&&u(this,ln)[u(this,Kt)].type===i){o&&(l.undo=u(this,ln)[u(this,Kt)].undo),u(this,ln)[u(this,Kt)]=l;return}const d=u(this,Kt)+1;d===u(this,Qv)?u(this,ln).splice(0,1):(C(this,Kt,d),d<u(this,ln).length&&u(this,ln).splice(d)),u(this,ln).push(l)}undo(){if(u(this,Kt)===-1)return;C(this,nc,!0);const{undo:e,post:t}=u(this,ln)[u(this,Kt)];e(),t==null||t(),C(this,nc,!1),C(this,Kt,u(this,Kt)-1)}redo(){if(u(this,Kt)<u(this,ln).length-1){C(this,Kt,u(this,Kt)+1),C(this,nc,!0);const{cmd:e,post:t}=u(this,ln)[u(this,Kt)];e(),t==null||t(),C(this,nc,!1)}}hasSomethingToUndo(){return u(this,Kt)!==-1}hasSomethingToRedo(){return u(this,Kt)<u(this,ln).length-1}cleanType(e){if(u(this,Kt)!==-1){for(let t=u(this,Kt);t>=0;t--)if(u(this,ln)[t].type!==e){u(this,ln).splice(t+1,u(this,Kt)-t),C(this,Kt,t);return}u(this,ln).length=0,C(this,Kt,-1)}}destroy(){C(this,ln,null)}}ln=new WeakMap,nc=new WeakMap,Qv=new WeakMap,Kt=new WeakMap;var s_,h$;class Yx{constructor(e){E(this,s_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=os.platform;for(const[s,r,i={}]of e)for(const a of s){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:i}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:i}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(A(this,s_,h$).call(this,t));if(!s)return;const{callback:r,options:{bubbles:i=!1,args:a=[],checker:o=null}}=s;o&&!o(e,t)||(r.bind(e,...a,t)(),i||_n(t))}}s_=new WeakSet,h$=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const r_=class r_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return YZ(e),Ze(this,"_colors",e)}convert(e){const t=xS(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,r]of this._colors)if(r.every((i,a)=>i===t[a]))return r_._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?me.makeHexColor(...t):e}};ee(r_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Gk=r_;var tp,pr,np,Tn,Kn,sp,_o,rp,Xr,So,sc,rc,ip,au,va,Qr,ou,Zv,Jv,ap,ey,ya,ic,op,ac,xa,i_,oc,lp,ty,lc,lu,cp,cc,ny,Pn,mt,Co,dc,uc,sy,dp,ry,hc,wa,ko,iy,ay,Zr,oe,fb,Yk,f$,p$,_g,m$,g$,v$,Kk,y$,Xk,Qk,x$,_s,ho,w$,b$,Zk,_$,Sg,Jk;const Af=class Af{constructor(e,t,s,r,i,a,o,l,d,h,f,p,m,y,g,_){E(this,oe);E(this,tp,new AbortController);E(this,pr,null);E(this,np,null);E(this,Tn,new Map);E(this,Kn,new Map);E(this,sp,null);E(this,_o,null);E(this,rp,null);E(this,Xr,new QZ);E(this,So,null);E(this,sc,null);E(this,rc,null);E(this,ip,0);E(this,au,new Set);E(this,va,null);E(this,Qr,null);E(this,ou,new Set);ee(this,"_editorUndoBar",null);E(this,Zv,!1);E(this,Jv,!1);E(this,ap,!1);E(this,ey,null);E(this,ya,null);E(this,ic,null);E(this,op,null);E(this,ac,!1);E(this,xa,null);E(this,i_,new XZ);E(this,oc,!1);E(this,lp,!1);E(this,ty,!1);E(this,lc,null);E(this,lu,null);E(this,cp,null);E(this,cc,null);E(this,ny,null);E(this,Pn,Me.NONE);E(this,mt,new Set);E(this,Co,null);E(this,dc,null);E(this,uc,null);E(this,sy,null);E(this,dp,null);E(this,ry,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,hc,[0,0]);E(this,wa,null);E(this,ko,null);E(this,iy,null);E(this,ay,null);E(this,Zr,null);const w=this._signal=u(this,tp).signal;C(this,ko,e),C(this,iy,t),C(this,ay,s),C(this,sp,r),C(this,So,i),C(this,dc,a),C(this,dp,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:w}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),o._on("setpreference",this.onSetPreference.bind(this),{signal:w}),o._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:w}),window.addEventListener("pointerdown",()=>{C(this,lp,!0)},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{C(this,lp,!1)},{capture:!0,signal:w}),A(this,oe,m$).call(this),A(this,oe,x$).call(this),A(this,oe,Kk).call(this),C(this,_o,l.annotationStorage),C(this,ey,l.filterFactory),C(this,uc,d),C(this,op,h||null),C(this,Zv,f),C(this,Jv,p),C(this,ap,m),C(this,ny,y||null),this.viewParameters={realScale:fd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=_!==!1}static get _keyboardManager(){const e=Af.prototype,t=a=>u(a,ko).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),s=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new Yx([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,ko).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,ko).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,s,r,i,a,o,l,d;(e=u(this,Zr))==null||e.resolve(),C(this,Zr,null),(t=u(this,tp))==null||t.abort(),C(this,tp,null),this._signal=null;for(const h of u(this,Kn).values())h.destroy();u(this,Kn).clear(),u(this,Tn).clear(),u(this,ou).clear(),(s=u(this,cc))==null||s.clear(),C(this,pr,null),u(this,mt).clear(),u(this,Xr).destroy(),(r=u(this,sp))==null||r.destroy(),(i=u(this,So))==null||i.destroy(),(a=u(this,dc))==null||a.destroy(),(o=u(this,xa))==null||o.hide(),C(this,xa,null),(l=u(this,cp))==null||l.destroy(),C(this,cp,null),C(this,np,null),u(this,ya)&&(clearTimeout(u(this,ya)),C(this,ya,null)),u(this,wa)&&(clearTimeout(u(this,wa)),C(this,wa,null)),(d=this._editorUndoBar)==null||d.destroy(),C(this,dp,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,ny)}get useNewAltTextFlow(){return u(this,Jv)}get useNewAltTextWhenAddingImage(){return u(this,ap)}get hcmFilter(){return Ze(this,"hcmFilter",u(this,uc)?u(this,ey).addHCMFilter(u(this,uc).foreground,u(this,uc).background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(u(this,ko)).direction)}get _highlightColors(){return Ze(this,"_highlightColors",u(this,op)?new Map(u(this,op).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ze(this,"highlightColors",null);const t=new Map,s=!!u(this,uc);for(const[r,i]of e){const a=r.endsWith("_HCM");if(s&&a){t.set(r.replace("_HCM",""),i);continue}!s&&!a&&t.set(r,i)}return Ze(this,"highlightColors",t)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),C(this,rc,e)}setMainHighlightColorPicker(e){C(this,cp,e)}editAltText(e,t=!1){var s;(s=u(this,sp))==null||s.editAltText(this,e,t)}hasCommentManager(){return!!u(this,So)}editComment(e,t){var s;(s=u(this,So))==null||s.open(this,e,t)}getSignature(e){var t;(t=u(this,dc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return u(this,dc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":C(this,ap,t);break}}onPageChanging({pageNumber:e}){C(this,ip,e-1)}focusMainContainer(){u(this,ko).focus()}findParent(e,t){for(const s of u(this,Kn).values()){const{x:r,y:i,width:a,height:o}=s.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=i&&t<=i+o)return s}return null}disableUserSelect(e=!1){u(this,iy).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,ou).add(e)}removeShouldRescale(e){u(this,ou).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*fd.PDF_TO_CSS_UNITS;for(const s of u(this,ou))s.onScaleChanging();(t=u(this,rc))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:o}=s,l=s.toString(),h=A(this,oe,fb).call(this,s).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;s.empty();const p=A(this,oe,Yk).call(this,h),m=u(this,Pn)===Me.NONE,y=()=>{const g=p==null?void 0:p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:o,text:l});m&&this.showAllEditors("highlight",!0,!0),t&&(g==null||g.editComment())};if(m){this.switchToMode(Me.HIGHLIGHT,y);return}y()}commentSelection(e=""){this.highlightSelection(e,!0)}addToAnnotationStorage(e){!e.isEmpty()&&u(this,_o)&&!u(this,_o).has(e.id)&&u(this,_o).setValue(e.id,e)}a11yAlert(e,t=null){const s=u(this,ay);s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,u(this,ac)&&(C(this,ac,!1),A(this,oe,_g).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of u(this,mt))if(t.div.contains(e)){C(this,lu,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!u(this,lu))return;const[e,t]=u(this,lu);C(this,lu,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,oe,Kk).call(this),A(this,oe,Xk).call(this)}removeEditListeners(){A(this,oe,y$).call(this),A(this,oe,Qk).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of u(this,Qr))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of u(this,Qr))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=u(this,pr))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of u(this,mt)){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const a of u(this,Qr))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(i){Le(`paste: "${i.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const i=[];for(const l of s){const d=await r.deserialize(l);if(!d)return;i.push(d)}const a=()=>{for(const l of i)A(this,oe,Zk).call(this,l);A(this,oe,Jk).call(this,i)},o=()=>{for(const l of i)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(i){Le(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Pn)!==Me.NONE&&!this.isEditorHandlingKeyboard&&Af._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,ac)&&(C(this,ac,!1),A(this,oe,_g).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(A(this,oe,g$).call(this),A(this,oe,Xk).call(this),A(this,oe,_s).call(this,{isEditing:u(this,Pn)!==Me.NONE,isEmpty:A(this,oe,Sg).call(this),hasSomethingToUndo:u(this,Xr).hasSomethingToUndo(),hasSomethingToRedo:u(this,Xr).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,oe,v$).call(this),A(this,oe,Qk).call(this),A(this,oe,_s).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Qr)){C(this,Qr,e);for(const t of u(this,Qr))A(this,oe,ho).call(this,t.defaultPropertiesToUpdate)}}getId(){return u(this,i_).id}get currentLayer(){return u(this,Kn).get(u(this,ip))}getLayer(e){return u(this,Kn).get(e)}get currentPageIndex(){return u(this,ip)}addLayer(e){u(this,Kn).set(e.pageIndex,e),u(this,oc)?e.enable():e.disable()}removeLayer(e){u(this,Kn).delete(e.pageIndex)}async updateMode(e,t=null,s=!1,r=!1,i=!1){var a,o,l,d,h;if(u(this,Pn)!==e&&!(u(this,Zr)&&(await u(this,Zr).promise,!u(this,Zr)))){if(C(this,Zr,Promise.withResolvers()),(a=u(this,rc))==null||a.commitOrRemove(),u(this,Pn)===Me.POPUP&&((o=u(this,So))==null||o.hideSidebar()),C(this,Pn,e),e===Me.NONE){this.setEditingState(!1),A(this,oe,b$).call(this),(l=this._editorUndoBar)==null||l.hide(),u(this,Zr).resolve();return}e===Me.SIGNATURE&&await((d=u(this,dc))==null?void 0:d.loadSignatures()),e===Me.POPUP&&(u(this,np)||C(this,np,await u(this,dp).getAnnotationsByType(new Set(u(this,Qr).map(f=>f._editorType)))),(h=u(this,So))==null||h.showSidebar(u(this,np))),this.setEditingState(!0),await A(this,oe,w$).call(this),this.unselectAll();for(const f of u(this,Kn).values())f.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),u(this,Zr).resolve();return}for(const f of u(this,Tn).values())f.annotationElementId===t||f.id===t?(this.setSelected(f),i?f.editComment():r&&f.enterInEditMode()):f.unselect();u(this,Zr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==u(this,Pn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(u(this,Qr)){switch(e){case st.CREATE:this.currentLayer.addNewEditor(t);return;case st.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,sy)||C(this,sy,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const s of u(this,mt))s.updateParams(e,t);else for(const s of u(this,Qr))s.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var i;for(const a of u(this,Tn).values())a.editorType===e&&a.show(t);(((i=u(this,sy))==null?void 0:i.get(st.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,oe,ho).call(this,[[st.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(u(this,ty)!==e){C(this,ty,e);for(const t of u(this,Kn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of u(this,Tn).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return u(this,Tn).get(e)}addEditor(e){u(this,Tn).set(e.id,e)}removeEditor(e){var t,s;e.div.contains(document.activeElement)&&(u(this,ya)&&clearTimeout(u(this,ya)),C(this,ya,setTimeout(()=>{this.focusMainContainer(),C(this,ya,null)},0))),u(this,Tn).delete(e.id),e.annotationElementId&&((t=u(this,cc))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!u(this,au).has(e.annotationElementId))&&((s=u(this,_o))==null||s.remove(e.id))}addDeletedAnnotationElement(e){u(this,au).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,au).has(e)}removeDeletedAnnotationElement(e){u(this,au).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,pr)!==e&&(C(this,pr,e),e&&A(this,oe,ho).call(this,e.propertiesToUpdate))}updateUI(e){u(this,oe,_$)===e&&A(this,oe,ho).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){A(this,oe,ho).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,mt).has(e)){u(this,mt).delete(e),e.unselect(),A(this,oe,_s).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,mt).add(e),e.select(),A(this,oe,ho).call(this,e.propertiesToUpdate),A(this,oe,_s).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=u(this,rc))==null||t.commitOrRemove();for(const s of u(this,mt))s!==e&&s.unselect();u(this,mt).clear(),u(this,mt).add(e),e.select(),A(this,oe,ho).call(this,e.propertiesToUpdate),A(this,oe,_s).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,mt).has(e)}get firstSelectedEditor(){return u(this,mt).values().next().value}unselect(e){e.unselect(),u(this,mt).delete(e),A(this,oe,_s).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,mt).size!==0}get isEnterHandled(){return u(this,mt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,Xr).undo(),A(this,oe,_s).call(this,{hasSomethingToUndo:u(this,Xr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,oe,Sg).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,Xr).redo(),A(this,oe,_s).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Xr).hasSomethingToRedo(),isEmpty:A(this,oe,Sg).call(this)})}addCommands(e){u(this,Xr).add(e),A(this,oe,_s).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,oe,Sg).call(this)})}cleanUndoStack(e){u(this,Xr).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...u(this,mt)],s=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},r=()=>{for(const a of t)A(this,oe,Zk).call(this,a)};this.addCommands({cmd:s,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=u(this,pr))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,pr)||this.hasSelection}selectAll(){for(const e of u(this,mt))e.commit();A(this,oe,Jk).call(this,u(this,Tn).values())}unselectAll(){var e;if(!(u(this,pr)&&(u(this,pr).commitOrRemove(),u(this,Pn)!==Me.NONE))&&!((e=u(this,rc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of u(this,mt))t.unselect();u(this,mt).clear(),A(this,oe,_s).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;u(this,hc)[0]+=e,u(this,hc)[1]+=t;const[r,i]=u(this,hc),a=[...u(this,mt)],o=1e3;u(this,wa)&&clearTimeout(u(this,wa)),C(this,wa,setTimeout(()=>{C(this,wa,null),u(this,hc)[0]=u(this,hc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)u(this,Tn).has(l.id)&&(l.translateInPage(r,i),l.translationDone())},undo:()=>{for(const l of a)u(this,Tn).has(l.id)&&(l.translateInPage(-r,-i),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),C(this,va,new Map);for(const e of u(this,mt))u(this,va).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,va))return!1;this.disableUserSelect(!1);const e=u(this,va);C(this,va,null);let t=!1;for(const[{x:r,y:i,pageIndex:a},o]of e)o.newX=r,o.newY=i,o.newPageIndex=a,t||(t=r!==o.savedX||i!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const s=(r,i,a,o)=>{if(u(this,Tn).has(r.id)){const l=u(this,Kn).get(o);l?r._setParentAndPosition(l,i,a):(r.pageIndex=o,r.x=i,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:i,newY:a,newPageIndex:o}]of e)s(r,i,a,o)},undo:()=>{for(const[r,{savedX:i,savedY:a,savedPageIndex:o}]of e)s(r,i,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(u(this,va))for(const s of u(this,va).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,mt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,pr)===e}getActive(){return u(this,pr)}getMode(){return u(this,Pn)}get imageManager(){return Ze(this,"imageManager",new qk)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:s,y:r,width:i,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(d,h,f,p)=>({x:(h-r)/a,y:1-(d+f-s)/i,width:p/a,height:f/i});break;case"180":o=(d,h,f,p)=>({x:1-(d+f-s)/i,y:1-(h+p-r)/a,width:f/i,height:p/a});break;case"270":o=(d,h,f,p)=>({x:1-(h+p-r)/a,y:(d-s)/i,width:p/a,height:f/i});break;default:o=(d,h,f,p)=>({x:(d-s)/i,y:(h-r)/a,width:f/i,height:p/a});break}const l=[];for(let d=0,h=t.rangeCount;d<h;d++){const f=t.getRangeAt(d);if(!f.collapsed)for(const{x:p,y:m,width:y,height:g}of f.getClientRects())y===0||g===0||l.push(o(p,m,y,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(u(this,rp)||C(this,rp,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=u(this,rp))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=u(this,rp))==null?void 0:r.get(e.data.id);if(!t)return;const s=u(this,_o).getRawValue(t);s&&(u(this,Pn)===Me.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){var i;const r=(i=u(this,cc))==null?void 0:i.get(e);r&&(r.setCanvas(t,s),u(this,cc).delete(e))}addMissingCanvas(e,t){(u(this,cc)||C(this,cc,new Map)).set(e,t)}};tp=new WeakMap,pr=new WeakMap,np=new WeakMap,Tn=new WeakMap,Kn=new WeakMap,sp=new WeakMap,_o=new WeakMap,rp=new WeakMap,Xr=new WeakMap,So=new WeakMap,sc=new WeakMap,rc=new WeakMap,ip=new WeakMap,au=new WeakMap,va=new WeakMap,Qr=new WeakMap,ou=new WeakMap,Zv=new WeakMap,Jv=new WeakMap,ap=new WeakMap,ey=new WeakMap,ya=new WeakMap,ic=new WeakMap,op=new WeakMap,ac=new WeakMap,xa=new WeakMap,i_=new WeakMap,oc=new WeakMap,lp=new WeakMap,ty=new WeakMap,lc=new WeakMap,lu=new WeakMap,cp=new WeakMap,cc=new WeakMap,ny=new WeakMap,Pn=new WeakMap,mt=new WeakMap,Co=new WeakMap,dc=new WeakMap,uc=new WeakMap,sy=new WeakMap,dp=new WeakMap,ry=new WeakMap,hc=new WeakMap,wa=new WeakMap,ko=new WeakMap,iy=new WeakMap,ay=new WeakMap,Zr=new WeakMap,oe=new WeakSet,fb=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Yk=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of u(this,Kn).values())if(s.hasTextLayer(e))return s;return null},f$=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=A(this,oe,fb).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(u(this,xa)||C(this,xa,new KZ(this)),u(this,xa).show(s,r,this.direction==="ltr"))},p$=function(){var i,a,o;const e=document.getSelection();if(!e||e.isCollapsed){u(this,Co)&&((i=u(this,xa))==null||i.hide(),C(this,Co,null),A(this,oe,_s).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===u(this,Co))return;const r=A(this,oe,fb).call(this,e).closest(".textLayer");if(!r){u(this,Co)&&((a=u(this,xa))==null||a.hide(),C(this,Co,null),A(this,oe,_s).call(this,{hasSelectedText:!1}));return}if((o=u(this,xa))==null||o.hide(),C(this,Co,t),A(this,oe,_s).call(this,{hasSelectedText:!0}),!(u(this,Pn)!==Me.HIGHLIGHT&&u(this,Pn)!==Me.NONE)&&(u(this,Pn)===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),C(this,ac,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,Pn)===Me.HIGHLIGHT?A(this,oe,Yk).call(this,r):null;if(l==null||l.toggleDrawing(),u(this,lp)){const d=new AbortController,h=this.combinedSignal(d),f=p=>{p.type==="pointerup"&&p.button!==0||(d.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&A(this,oe,_g).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("blur",f,{signal:h})}else l==null||l.toggleDrawing(!0),A(this,oe,_g).call(this,"main_toolbar")}},_g=function(e=""){u(this,Pn)===Me.HIGHLIGHT?this.highlightSelection(e):u(this,Zv)&&A(this,oe,f$).call(this)},m$=function(){document.addEventListener("selectionchange",A(this,oe,p$).bind(this),{signal:this._signal})},g$=function(){if(u(this,ic))return;C(this,ic,new AbortController);const e=this.combinedSignal(u(this,ic));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},v$=function(){var e;(e=u(this,ic))==null||e.abort(),C(this,ic,null)},Kk=function(){if(u(this,lc))return;C(this,lc,new AbortController);const e=this.combinedSignal(u(this,lc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},y$=function(){var e;(e=u(this,lc))==null||e.abort(),C(this,lc,null)},Xk=function(){if(u(this,sc))return;C(this,sc,new AbortController);const e=this.combinedSignal(u(this,sc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Qk=function(){var e;(e=u(this,sc))==null||e.abort(),C(this,sc,null)},x$=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},_s=function(e){Object.entries(e).some(([s,r])=>u(this,ry)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,ry),e)}),u(this,Pn)===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,oe,ho).call(this,[[st.HIGHLIGHT_FREE,!0]]))},ho=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},w$=async function(){if(!u(this,oc)){C(this,oc,!0);const e=[];for(const t of u(this,Kn).values())e.push(t.enable());await Promise.all(e);for(const t of u(this,Tn).values())t.enable()}},b$=function(){if(this.unselectAll(),u(this,oc)){C(this,oc,!1);for(const e of u(this,Kn).values())e.disable();for(const e of u(this,Tn).values())e.disable()}},Zk=function(e){const t=u(this,Kn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},_$=function(){let e=null;for(e of u(this,mt));return e},Sg=function(){if(u(this,Tn).size===0)return!0;if(u(this,Tn).size===1)for(const e of u(this,Tn).values())return e.isEmpty();return!1},Jk=function(e){for(const t of u(this,mt))t.unselect();u(this,mt).clear();for(const t of e)t.isEmpty()||(u(this,mt).add(t),t.select());A(this,oe,_s).call(this,{hasSelectedEditor:this.hasSelection})},ee(Af,"TRANSLATE_SMALL",1),ee(Af,"TRANSLATE_BIG",10);let _h=Af;var $n,ba,Pi,up,_a,mr,hp,Sa,qs,Eo,cu,Ca,fc,qi,Cg,pb;const Ss=class Ss{constructor(e){E(this,qi);E(this,$n,null);E(this,ba,!1);E(this,Pi,null);E(this,up,null);E(this,_a,null);E(this,mr,null);E(this,hp,!1);E(this,Sa,null);E(this,qs,null);E(this,Eo,null);E(this,cu,null);E(this,Ca,!1);C(this,qs,e),C(this,Ca,e._uiManager.useNewAltTextFlow),u(Ss,fc)||C(Ss,fc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ss._l10n??(Ss._l10n=e)}async render(){const e=C(this,Pi,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=C(this,up,document.createElement("span"));e.append(t),u(this,Ca)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(Ss,fc).missing),t.setAttribute("data-l10n-id",u(Ss,fc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=u(this,qs)._uiManager._signal;e.addEventListener("contextmenu",mi,{signal:s}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:s});const r=i=>{i.preventDefault(),u(this,qs)._uiManager.editAltText(u(this,qs)),u(this,Ca)&&u(this,qs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,qi,Cg)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(C(this,hp,!0),r(i))},{signal:s}),await A(this,qi,pb).call(this),e}finish(){u(this,Pi)&&(u(this,Pi).focus({focusVisible:u(this,hp)}),C(this,hp,!1))}isEmpty(){return u(this,Ca)?u(this,$n)===null:!u(this,$n)&&!u(this,ba)}hasData(){return u(this,Ca)?u(this,$n)!==null||!!u(this,Eo):this.isEmpty()}get guessedText(){return u(this,Eo)}async setGuessedText(e){u(this,$n)===null&&(C(this,Eo,e),C(this,cu,await Ss._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),A(this,qi,pb).call(this))}toggleAltTextBadge(e=!1){var t;if(!u(this,Ca)||u(this,$n)){(t=u(this,Sa))==null||t.remove(),C(this,Sa,null);return}if(!u(this,Sa)){const s=C(this,Sa,document.createElement("div"));s.className="noAltTextBadge",u(this,qs).div.append(s)}u(this,Sa).classList.toggle("hidden",!e)}serialize(e){let t=u(this,$n);return!e&&u(this,Eo)===t&&(t=u(this,cu)),{altText:t,decorative:u(this,ba),guessedText:u(this,Eo),textWithDisclaimer:u(this,cu)}}get data(){return{altText:u(this,$n),decorative:u(this,ba)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:r,cancel:i=!1}){s&&(C(this,Eo,s),C(this,cu,r)),!(u(this,$n)===e&&u(this,ba)===t)&&(i||(C(this,$n,e),C(this,ba,t)),A(this,qi,pb).call(this))}toggle(e=!1){u(this,Pi)&&(!e&&u(this,mr)&&(clearTimeout(u(this,mr)),C(this,mr,null)),u(this,Pi).disabled=!e)}shown(){u(this,qs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,qi,Cg)}})}destroy(){var e,t;(e=u(this,Pi))==null||e.remove(),C(this,Pi,null),C(this,up,null),C(this,_a,null),(t=u(this,Sa))==null||t.remove(),C(this,Sa,null)}};$n=new WeakMap,ba=new WeakMap,Pi=new WeakMap,up=new WeakMap,_a=new WeakMap,mr=new WeakMap,hp=new WeakMap,Sa=new WeakMap,qs=new WeakMap,Eo=new WeakMap,cu=new WeakMap,Ca=new WeakMap,fc=new WeakMap,qi=new WeakSet,Cg=function(){return u(this,$n)&&"added"||u(this,$n)===null&&this.guessedText&&"review"||"missing"},pb=async function(){var r,i,a;const e=u(this,Pi);if(!e)return;if(u(this,Ca)){if(e.classList.toggle("done",!!u(this,$n)),e.setAttribute("data-l10n-id",u(Ss,fc)[u(this,qi,Cg)]),(r=u(this,up))==null||r.setAttribute("data-l10n-id",u(Ss,fc)[`${u(this,qi,Cg)}-label`]),!u(this,$n)){(i=u(this,_a))==null||i.remove();return}}else{if(!u(this,$n)&&!u(this,ba)){e.classList.remove("done"),(a=u(this,_a))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=u(this,_a);if(!t){C(this,_a,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${u(this,qs).id}`;const o=100,l=u(this,qs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,mr)),C(this,mr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{C(this,mr,setTimeout(()=>{C(this,mr,null),u(this,_a).classList.add("show"),u(this,qs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var d;u(this,mr)&&(clearTimeout(u(this,mr)),C(this,mr,null)),(d=u(this,_a))==null||d.classList.remove("show")},{signal:l})}u(this,ba)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=u(this,$n)),t.parentNode||e.append(t);const s=u(this,qs).getElementForAltText();s==null||s.setAttribute("aria-describedby",t.id)},E(Ss,fc,null),ee(Ss,"_l10n",null);let A0=Ss;var ka,du,Ri,oy,Ao,fp,pc;class Lw{constructor(e){E(this,ka,null);E(this,du,!1);E(this,Ri,null);E(this,oy,null);E(this,Ao,null);E(this,fp,null);E(this,pc,!1);C(this,Ri,e),this.toolbar=null}render(){if(!u(this,Ri)._uiManager.hasCommentManager())return null;const e=C(this,ka,document.createElement("button"));e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=u(this,Ri)._uiManager._signal;if(!(t instanceof AbortSignal)||t.aborted)return e;e.addEventListener("contextmenu",mi,{signal:t}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:t});const s=r=>{r.preventDefault(),this.edit()};return e.addEventListener("click",s,{capture:!0,signal:t}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(C(this,du,!0),s(r))},{signal:t}),e}edit(){const{bottom:e,left:t,right:s}=u(this,Ri).getClientDimensions(),r={top:e};u(this,Ri)._uiManager.direction==="ltr"?r.right=s:r.left=t,u(this,Ri)._uiManager.editComment(u(this,Ri),r)}finish(){u(this,ka)&&(u(this,ka).focus({focusVisible:u(this,du)}),C(this,du,!1))}isDeleted(){return u(this,pc)||u(this,Ao)===""}hasBeenEdited(){return this.isDeleted()||u(this,Ao)!==u(this,oy)}serialize(){return this.data}get data(){return{text:u(this,Ao),date:u(this,fp),deleted:u(this,pc)}}set data(e){if(e===null){C(this,Ao,""),C(this,pc,!0);return}C(this,Ao,e),C(this,fp,new Date),C(this,pc,!1)}setInitialText(e){C(this,oy,e),this.data=e}toggle(e=!1){u(this,ka)&&(u(this,ka).disabled=!e)}shown(){}destroy(){var e;(e=u(this,ka))==null||e.remove(),C(this,ka,null),C(this,Ao,""),C(this,fp,null),C(this,Ri,null),C(this,du,!1),C(this,pc,!1)}}ka=new WeakMap,du=new WeakMap,Ri=new WeakMap,oy=new WeakMap,Ao=new WeakMap,fp=new WeakMap,pc=new WeakMap;var pp,uu,ly,cy,dy,uy,hy,jo,hu,No,fu,To,xd,S$,C$,k$;const fT=class fT{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:r=null,onPinching:i=null,onPinchEnd:a=null,signal:o}){E(this,xd);E(this,pp);E(this,uu,!1);E(this,ly,null);E(this,cy);E(this,dy);E(this,uy);E(this,hy);E(this,jo,null);E(this,hu);E(this,No,null);E(this,fu);E(this,To,null);C(this,pp,e),C(this,ly,s),C(this,cy,t),C(this,dy,r),C(this,uy,i),C(this,hy,a),C(this,fu,new AbortController),C(this,hu,AbortSignal.any([o,u(this,fu).signal])),e.addEventListener("touchstart",A(this,xd,S$).bind(this),{passive:!1,signal:u(this,hu)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Za.pixelRatio}destroy(){var e,t;(e=u(this,fu))==null||e.abort(),C(this,fu,null),(t=u(this,jo))==null||t.abort(),C(this,jo,null)}};pp=new WeakMap,uu=new WeakMap,ly=new WeakMap,cy=new WeakMap,dy=new WeakMap,uy=new WeakMap,hy=new WeakMap,jo=new WeakMap,hu=new WeakMap,No=new WeakMap,fu=new WeakMap,To=new WeakMap,xd=new WeakSet,S$=function(e){var r,i,a;if((r=u(this,cy))!=null&&r.call(this))return;if(e.touches.length===1){if(u(this,jo))return;const o=C(this,jo,new AbortController),l=AbortSignal.any([u(this,hu),o.signal]),d=u(this,pp),h={capture:!0,signal:l,passive:!1},f=p=>{var m;p.pointerType==="touch"&&((m=u(this,jo))==null||m.abort(),C(this,jo,null))};d.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(_n(p),f(p))},h),d.addEventListener("pointerup",f,h),d.addEventListener("pointercancel",f,h);return}if(!u(this,To)){C(this,To,new AbortController);const o=AbortSignal.any([u(this,hu),u(this,To).signal]),l=u(this,pp),d={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",A(this,xd,C$).bind(this),d);const h=A(this,xd,k$).bind(this);l.addEventListener("touchend",h,d),l.addEventListener("touchcancel",h,d),d.capture=!0,l.addEventListener("pointerdown",_n,d),l.addEventListener("pointermove",_n,d),l.addEventListener("pointercancel",_n,d),l.addEventListener("pointerup",_n,d),(i=u(this,dy))==null||i.call(this)}if(_n(e),e.touches.length!==2||(a=u(this,ly))!=null&&a.call(this)){C(this,No,null);return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),C(this,No,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY})},C$=function(e){var S;if(!u(this,No)||e.touches.length!==2)return;_n(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:r,screenY:i}=t,{screenX:a,screenY:o}=s,l=u(this,No),{touch0X:d,touch0Y:h,touch1X:f,touch1Y:p}=l,m=f-d,y=p-h,g=a-r,_=o-i,w=Math.hypot(g,_)||1,x=Math.hypot(m,y)||1;if(!u(this,uu)&&Math.abs(x-w)<=fT.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=i,l.touch1X=a,l.touch1Y=o,!u(this,uu)){C(this,uu,!0);return}const b=[(r+a)/2,(i+o)/2];(S=u(this,uy))==null||S.call(this,b,x,w)},k$=function(e){var t;e.touches.length>=2||(u(this,To)&&(u(this,To).abort(),C(this,To,null),(t=u(this,hy))==null||t.call(this)),u(this,No)&&(_n(e),C(this,No,null),C(this,uu,!1)))};let j0=fT;var pu,Di,Ht,Xn,mp,mc,fy,mu,Qn,gu,Po,gc,py,vu,gr,my,yu,Ro,Ea,gp,vp,Jr,xu,gy,a_,Ae,eE,vy,tE,mb,E$,A$,nE,gb,sE,j$,N$,T$,rE,P$,iE,R$,D$,M$,aE,kg;const Xe=class Xe{constructor(e){E(this,Ae);E(this,pu,null);E(this,Di,null);E(this,Ht,null);E(this,Xn,null);E(this,mp,!1);E(this,mc,null);E(this,fy,"");E(this,mu,!1);E(this,Qn,null);E(this,gu,null);E(this,Po,null);E(this,gc,null);E(this,py,"");E(this,vu,!1);E(this,gr,null);E(this,my,!1);E(this,yu,!1);E(this,Ro,!1);E(this,Ea,null);E(this,gp,0);E(this,vp,0);E(this,Jr,null);E(this,xu,null);ee(this,"isSelected",!1);ee(this,"_isCopy",!1);ee(this,"_editToolbar",null);ee(this,"_initialOptions",Object.create(null));ee(this,"_initialData",null);ee(this,"_isVisible",!0);ee(this,"_uiManager",null);ee(this,"_focusEventsAllowed",!0);E(this,gy,!1);E(this,a_,Xe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:r,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[i,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Xe.prototype._resizeWithKeyboard,t=_h.TRANSLATE_SMALL,s=_h.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new Yx([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],Xe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new ZZ({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Xe._l10n??(Xe._l10n=e),Xe._l10nResizer||(Xe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Xe._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Xe._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Et("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,gy)}set _isDraggable(e){var t;C(this,gy,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,a_)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,Ae,kg).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,vu)?C(this,vu,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,r){const[i,a]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/i,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,r]=this.parentDimensions;this.setAt(e*s,t*r,this.width*s,this.height*r),this._onTranslated()}translate(e,t){A(this,Ae,eE).call(this,this.parentDimensions,e,t)}translateInPage(e,t){u(this,gr)||C(this,gr,[this.x,this.y,this.width,this.height]),A(this,Ae,eE).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){u(this,gr)||C(this,gr,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[r,i]}=this;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,d]=this.getBaseTranslation();a+=l,o+=d;const{style:h}=s;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!u(this,gr)&&(u(this,gr)[0]!==this.x||u(this,gr)[1]!==this.y)}get _hasBeenResized(){return!!u(this,gr)&&(u(this,gr)[2]!==this.width||u(this,gr)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=Xe,r=s/e,i=s/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,r]}=this;let{x:i,y:a,width:o,height:l}=this;if(o*=s,l*=r,i*=s,a*=r,this._mustFixPosition)switch(e){case 0:i=Ts(i,0,s-o),a=Ts(a,0,r-l);break;case 90:i=Ts(i,0,s-l),a=Ts(a,o,r);break;case 180:i=Ts(i,o,s),a=Ts(a,l,r);break;case 270:i=Ts(i,l,s),a=Ts(a,0,r-o);break}this.x=i/=s,this.y=a/=r;const[d,h]=this.getBaseTranslation();i+=d,a+=h,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return A(s=Xe,vy,tE).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return A(s=Xe,vy,tE).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,r]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/s).toFixed(2)}%`,u(this,mu)||(i.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,r=s.endsWith("%"),i=!u(this,mu)&&t.endsWith("%");if(r&&i)return;const[a,o]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/a).toFixed(2)}%`),!u(this,mu)&&!i&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,Ht))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||u(this,yu))return this._editToolbar;this._editToolbar=new Hk(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,Ht))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return u(this,Ht)||(A0.initialize(Xe._l10n),C(this,Ht,new A0(this)),u(this,pu)&&(u(this,Ht).data=u(this,pu),C(this,pu,null))),u(this,Ht)}get altTextData(){var e;return(e=u(this,Ht))==null?void 0:e.data}set altTextData(e){u(this,Ht)&&(u(this,Ht).data=e)}get guessedAltText(){var e;return(e=u(this,Ht))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=u(this,Ht))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=u(this,Ht))==null?void 0:t.serialize(e)}hasAltText(){return!!u(this,Ht)&&!u(this,Ht).isEmpty()}hasAltTextData(){var e;return((e=u(this,Ht))==null?void 0:e.hasData())??!1}addCommentButton(){return u(this,Xn)?u(this,Xn):C(this,Xn,new Lw(this))}get commentColor(){return null}get comment(){const e=u(this,Xn);return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){u(this,Xn)||C(this,Xn,new Lw(this)),u(this,Xn).data=e}setCommentData(e){u(this,Xn)||C(this,Xn,new Lw(this)),u(this,Xn).setInitialText(e)}get hasEditedComment(){var e;return(e=u(this,Xn))==null?void 0:e.hasBeenEdited()}async editComment(){u(this,Xn)||C(this,Xn,new Lw(this)),u(this,Xn).edit()}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[i]=this.pageDimensions,[a]=this.pageTranslation,o=a+i+1,l=r-100,d=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,d,r]}}}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=u(this,mp)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),A(this,Ae,iE).call(this);const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),u$(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,xu)||C(this,xu,new j0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:A(this,Ae,j$).bind(this),onPinching:A(this,Ae,N$).bind(this),onPinchEnd:A(this,Ae,T$).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=os.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(C(this,vu,!0),this._isDraggable){A(this,Ae,P$).call(this,e);return}A(this,Ae,rE).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,Ea)&&clearTimeout(u(this,Ea)),C(this,Ea,setTimeout(()=>{var e;C(this,Ea,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const r=this.parentScale,[i,a]=this.pageDimensions,[o,l]=this.pageTranslation,d=e/r,h=t/r,f=this.x*i,p=this.y*a,m=this.width*i,y=this.height*a;switch(s){case 0:return[f+d+o,a-p-h-y+l,f+d+m+o,a-p-h+l];case 90:return[f+h+o,a-p+d+l,f+h+y+o,a-p+d+m+l];case 180:return[f-d-m+o,a-p+h+l,f-d+o,a-p+h+y+l];case 270:return[f-h-y+o,a-p-d-m+l,f-h+o,a-p-d+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,r,i,a]=e,o=i-s,l=a-r;switch(this.rotation){case 0:return[s,t-a,o,l];case 90:return[s,t-r,l,o];case 180:return[i,t-r,o,l];case 270:return[i,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),C(this,yu,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),C(this,yu,!1),!0):!1}isInEditMode(){return u(this,yu)}shouldGetKeyboardEvents(){return u(this,Ro)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:r}=this.getClientDimensions(),{innerHeight:i,innerWidth:a}=window;return t<a&&r>0&&e<i&&s>0}rebuild(){A(this,Ae,iE).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Et("An editor must be serializable")}static async deserialize(e,t,s){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId});r.rotation=e.rotation,C(r,pu,e.accessibilityData),r._isCopy=e.isCopy||!1;const[i,a]=r.pageDimensions,[o,l,d,h]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/i,r.y=l/a,r.width=d/i,r.height=h/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=u(this,gc))==null||e.abort(),C(this,gc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,Ea)&&(clearTimeout(u(this,Ea)),C(this,Ea,null)),A(this,Ae,kg).call(this),this.removeEditToolbar(),u(this,Jr)){for(const s of u(this,Jr).values())clearTimeout(s);C(this,Jr,null)}this.parent=null,(t=u(this,xu))==null||t.destroy(),C(this,xu,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,Ae,E$).call(this),u(this,Qn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),C(this,Po,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=u(this,Qn).children;if(!u(this,Di)){C(this,Di,Array.from(t));const a=A(this,Ae,R$).bind(this),o=A(this,Ae,D$).bind(this),l=this._uiManager._signal;for(const d of u(this,Di)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:l}),d.addEventListener("blur",o,{signal:l}),d.addEventListener("focus",A(this,Ae,M$).bind(this,h),{signal:l}),d.setAttribute("data-l10n-id",Xe._l10nResizer[h])}}const s=u(this,Di)[0];let r=0;for(const a of t){if(a===s)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(u(this,Di).length/4);if(i!==r){if(i<r)for(let o=0;o<r-i;o++)u(this,Qn).append(u(this,Qn).firstChild);else if(i>r)for(let o=0;o<i-r;o++)u(this,Qn).firstChild.before(u(this,Qn).lastChild);let a=0;for(const o of t){const d=u(this,Di)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Xe._l10nResizer[d])}}A(this,Ae,aE).call(this,0),C(this,Ro,!0),u(this,Qn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){u(this,Ro)&&A(this,Ae,sE).call(this,u(this,py),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){A(this,Ae,kg).call(this),this.div.focus()}select(){var e,t,s;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(s=u(this,Ht))==null||s.toggleAltTextBadge(!1)}}unselect(){var e,t,s,r,i;this.isSelected&&(this.isSelected=!1,(e=u(this,Qn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(i=u(this,Ht))==null||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,my)}set isEditing(e){C(this,my,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){C(this,mu,!0);const s=e/t,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){u(this,Jr)||C(this,Jr,new Map);const{action:s}=e;let r=u(this,Jr).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),u(this,Jr).delete(s),u(this,Jr).size===0&&C(this,Jr,null)},Xe._telemetryTimeout),u(this,Jr).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),C(this,mp,!1)}disable(){this.div&&(this.div.tabIndex=-1),C(this,mp,!0)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};pu=new WeakMap,Di=new WeakMap,Ht=new WeakMap,Xn=new WeakMap,mp=new WeakMap,mc=new WeakMap,fy=new WeakMap,mu=new WeakMap,Qn=new WeakMap,gu=new WeakMap,Po=new WeakMap,gc=new WeakMap,py=new WeakMap,vu=new WeakMap,gr=new WeakMap,my=new WeakMap,yu=new WeakMap,Ro=new WeakMap,Ea=new WeakMap,gp=new WeakMap,vp=new WeakMap,Jr=new WeakMap,xu=new WeakMap,gy=new WeakMap,a_=new WeakMap,Ae=new WeakSet,eE=function([e,t],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},vy=new WeakSet,tE=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},mb=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},E$=function(){if(u(this,Qn))return;C(this,Qn,document.createElement("div")),u(this,Qn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const r=document.createElement("div");u(this,Qn).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",A(this,Ae,A$).bind(this,s),{signal:t}),r.addEventListener("contextmenu",mi,{signal:t}),r.tabIndex=-1}this.div.prepend(u(this,Qn))},A$=function(e,t){var h;t.preventDefault();const{isMac:s}=os.platform;if(t.button!==0||t.ctrlKey&&s)return;(h=u(this,Ht))==null||h.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,C(this,gu,[t.screenX,t.screenY]);const i=new AbortController,a=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,Ae,sE).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",_n,{passive:!1,signal:a}),window.addEventListener("contextmenu",mi,{signal:a}),C(this,Po,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{var f;i.abort(),this.parent.togglePointerEvents(!0),(f=u(this,Ht))==null||f.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=l,A(this,Ae,gb).call(this)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})},nE=function(e,t,s,r){this.width=s,this.height=r,this.x=e,this.y=t;const[i,a]=this.parentDimensions;this.setDims(i*s,a*r),this.fixAndSetPosition(),this._onResized()},gb=function(){if(!u(this,Po))return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:r}=u(this,Po);C(this,Po,null);const i=this.x,a=this.y,o=this.width,l=this.height;i===e&&a===t&&o===s&&l===r||this.addCommands({cmd:A(this,Ae,nE).bind(this,i,a,o,l),undo:A(this,Ae,nE).bind(this,e,t,s,r),mustExec:!0})},sE=function(e,t){const[s,r]=this.parentDimensions,i=this.x,a=this.y,o=this.width,l=this.height,d=Xe.MIN_SIZE/s,h=Xe.MIN_SIZE/r,f=A(this,Ae,mb).call(this,this.rotation),p=(z,$)=>[f[0]*z+f[2]*$,f[1]*z+f[3]*$],m=A(this,Ae,mb).call(this,360-this.rotation),y=(z,$)=>[m[0]*z+m[2]*$,m[1]*z+m[3]*$];let g,_,w=!1,x=!1;switch(e){case"topLeft":w=!0,g=(z,$)=>[0,0],_=(z,$)=>[z,$];break;case"topMiddle":g=(z,$)=>[z/2,0],_=(z,$)=>[z/2,$];break;case"topRight":w=!0,g=(z,$)=>[z,0],_=(z,$)=>[0,$];break;case"middleRight":x=!0,g=(z,$)=>[z,$/2],_=(z,$)=>[0,$/2];break;case"bottomRight":w=!0,g=(z,$)=>[z,$],_=(z,$)=>[0,0];break;case"bottomMiddle":g=(z,$)=>[z/2,$],_=(z,$)=>[z/2,0];break;case"bottomLeft":w=!0,g=(z,$)=>[0,$],_=(z,$)=>[z,0];break;case"middleLeft":x=!0,g=(z,$)=>[0,$/2],_=(z,$)=>[z,$/2];break}const b=g(o,l),S=_(o,l);let k=p(...S);const j=Xe._round(i+k[0]),N=Xe._round(a+k[1]);let P=1,D=1,T,F;if(t.fromKeyboard)({deltaX:T,deltaY:F}=t);else{const{screenX:z,screenY:$}=t,[I,L]=u(this,gu);[T,F]=this.screenToPageTranslation(z-I,$-L),u(this,gu)[0]=z,u(this,gu)[1]=$}if([T,F]=y(T/s,F/r),w){const z=Math.hypot(o,l);P=D=Math.max(Math.min(Math.hypot(S[0]-b[0]-T,S[1]-b[1]-F)/z,1/o,1/l),d/o,h/l)}else x?P=Ts(Math.abs(S[0]-b[0]-T),d,1)/o:D=Ts(Math.abs(S[1]-b[1]-F),h,1)/l;const M=Xe._round(o*P),U=Xe._round(l*D);k=p(..._(M,U));const R=j-k[0],V=N-k[1];u(this,gr)||C(this,gr,[this.x,this.y,this.width,this.height]),this.width=M,this.height=U,this.x=R,this.y=V,this.setDims(s*M,r*U),this.fixAndSetPosition(),this._onResizing()},j$=function(){var e;C(this,Po,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,Ht))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},N$=function(e,t,s){let i=.7*(s/t)+1-.7;if(i===1)return;const a=A(this,Ae,mb).call(this,this.rotation),o=(j,N)=>[a[0]*j+a[2]*N,a[1]*j+a[3]*N],[l,d]=this.parentDimensions,h=this.x,f=this.y,p=this.width,m=this.height,y=Xe.MIN_SIZE/l,g=Xe.MIN_SIZE/d;i=Math.max(Math.min(i,1/p,1/m),y/p,g/m);const _=Xe._round(p*i),w=Xe._round(m*i);if(_===p&&w===m)return;u(this,gr)||C(this,gr,[h,f,p,m]);const x=o(p/2,m/2),b=Xe._round(h+x[0]),S=Xe._round(f+x[1]),k=o(_/2,w/2);this.x=b-k[0],this.y=S-k[1],this.width=_,this.height=w,this.setDims(l*_,d*w),this.fixAndSetPosition(),this._onResizing()},T$=function(){var e;(e=u(this,Ht))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),A(this,Ae,gb).call(this)},rE=function(e){const{isMac:t}=os.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},P$=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const r=new AbortController,i=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:i},o=d=>{r.abort(),C(this,mc,null),C(this,vu,!1),this._uiManager.endDragSession()||A(this,Ae,rE).call(this,d),s&&this._onStopDragging()};t&&(C(this,gp,e.clientX),C(this,vp,e.clientY),C(this,mc,e.pointerId),C(this,fy,e.pointerType),window.addEventListener("pointermove",d=>{s||(s=!0,this._onStartDragging());const{clientX:h,clientY:f,pointerId:p}=d;if(p!==u(this,mc)){_n(d);return}const[m,y]=this.screenToPageTranslation(h-u(this,gp),f-u(this,vp));C(this,gp,h),C(this,vp,f),this._uiManager.dragSelectedEditors(m,y)},a),window.addEventListener("touchmove",_n,a),window.addEventListener("pointerdown",d=>{d.pointerType===u(this,fy)&&(u(this,xu)||d.isPrimary)&&o(d),_n(d)},a));const l=d=>{if(!u(this,mc)||u(this,mc)===d.pointerId){o(d);return}_n(d)};window.addEventListener("pointerup",l,{signal:i}),window.addEventListener("blur",l,{signal:i})},iE=function(){if(u(this,gc)||!this.div)return;C(this,gc,new AbortController);const e=this._uiManager.combinedSignal(u(this,gc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},R$=function(e){Xe._resizerKeyboardManager.exec(this,e)},D$=function(e){var t;u(this,Ro)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==u(this,Qn)&&A(this,Ae,kg).call(this)},M$=function(e){C(this,py,u(this,Ro)?e:"")},aE=function(e){if(u(this,Di))for(const t of u(this,Di))t.tabIndex=e},kg=function(){C(this,Ro,!1),A(this,Ae,aE).call(this,-1),A(this,Ae,gb).call(this)},E(Xe,vy),ee(Xe,"_l10n",null),ee(Xe,"_l10nResizer",null),ee(Xe,"_borderLineWidth",-1),ee(Xe,"_colorManager",new Gk),ee(Xe,"_zIndex",1),ee(Xe,"_telemetryTimeout",1e3);let Pt=Xe;class ZZ extends Pt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const GR=3285377520,qr=4294901760,la=65535;class O${constructor(e){this.h1=e?e&4294967295:GR,this.h2=e?e&4294967295:GR}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let g=0,_=e.length;g<_;g++){const w=e.charCodeAt(g);w<=255?t[s++]=w:(t[s++]=w>>>8,t[s++]=w&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,i=s-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,l=0,d=this.h1,h=this.h2;const f=3432918353,p=461845907,m=f&la,y=p&la;for(let g=0;g<r;g++)g&1?(o=a[g],o=o*f&qr|o*m&la,o=o<<15|o>>>17,o=o*p&qr|o*y&la,d^=o,d=d<<13|d>>>19,d=d*5+3864292196):(l=a[g],l=l*f&qr|l*m&la,l=l<<15|l>>>17,l=l*p&qr|l*y&la,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,i){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*f&qr|o*m&la,o=o<<15|o>>>17,o=o*p&qr|o*y&la,r&1?d^=o:h^=o}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&qr|e*36045&la,t=t*4283543511&qr|((t<<16|e>>>16)*2950163797&qr)>>>16,e^=t>>>1,e=e*444984403&qr|e*60499&la,t=t*3301882366&qr|((t<<16|e>>>16)*3120437893&qr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const oE=Object.freeze({map:null,hash:"",transfer:void 0});var wu,bu,Zn,o_,I$;class xN{constructor(){E(this,o_);E(this,wu,!1);E(this,bu,null);E(this,Zn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=u(this,Zn).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return u(this,Zn).get(e)}remove(e){if(u(this,Zn).delete(e),u(this,Zn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of u(this,Zn).values())if(t instanceof Pt)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=u(this,Zn).get(e);let r=!1;if(s!==void 0)for(const[i,a]of Object.entries(t))s[i]!==a&&(r=!0,s[i]=a);else r=!0,u(this,Zn).set(e,t);r&&A(this,o_,I$).call(this),t instanceof Pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return u(this,Zn).has(e)}get size(){return u(this,Zn).size}resetModified(){u(this,wu)&&(C(this,wu,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new L$(this)}get serializable(){if(u(this,Zn).size===0)return oE;const e=new Map,t=new O$,s=[],r=Object.create(null);let i=!1;for(const[a,o]of u(this,Zn)){const l=o instanceof Pt?o.serialize(!1,r):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),i||(i=!!l.bitmap))}if(i)for(const a of e.values())a.bitmap&&s.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:oE}get editorStats(){let e=null;const t=new Map;for(const s of u(this,Zn).values()){if(!(s instanceof Pt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:i}=r;t.has(i)||t.set(i,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const a=e[i]||(e[i]=new Map);for(const[o,l]of Object.entries(r)){if(o==="type")continue;let d=a.get(o);d||(d=new Map,a.set(o,d));const h=d.get(l)??0;d.set(l,h+1)}}for(const[s,r]of t)e[s]=r.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){C(this,bu,null)}get modifiedIds(){if(u(this,bu))return u(this,bu);const e=[];for(const t of u(this,Zn).values())!(t instanceof Pt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return C(this,bu,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return u(this,Zn).entries()}}wu=new WeakMap,bu=new WeakMap,Zn=new WeakMap,o_=new WeakSet,I$=function(){u(this,wu)||(C(this,wu,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var yy;class L$ extends xN{constructor(t){super();E(this,yy);const{map:s,hash:r,transfer:i}=t.serializable,a=structuredClone(s,i?{transfer:i}:null);C(this,yy,{map:a,hash:r,transfer:i})}get print(){Et("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,yy)}get modifiedIds(){return Ze(this,"modifiedIds",{ids:new Set,hash:""})}}yy=new WeakMap;var yp;class JZ{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,yp,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,yp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||u(this,yp).has(e.loadedName))){if(Cn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:a}=e,o=new FontFace(r,i,a);this.addNativeFontFace(o);try{await o.load(),u(this,yp).add(r),s==null||s(e)}catch{Le(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Et("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Le(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ze(this,"isSyncFontLoadingSupported",Ns||os.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Cn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const i=s.shift();setTimeout(i.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:t,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(S,k){return S.charCodeAt(k)<<24|S.charCodeAt(k+1)<<16|S.charCodeAt(k+2)<<8|S.charCodeAt(k+3)&255}function r(S,k,j,N){const P=S.substring(0,k),D=S.substring(k+j);return P+N+D}let i,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let d=0;function h(S,k){if(++d>30){Le("Load test font never loaded."),k();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,S,k))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=r(p,976,f.length,f);const y=16,g=1482184792;let _=s(p,y);for(i=0,a=f.length-3;i<a;i+=4)_=_-g+s(f,i)|0;i<f.length&&(_=_-g+s(f+"XXX",i)|0),p=r(p,y,4,LZ(_));const w=`url(data:font/opentype;base64,${btoa(p)});`,x=`@font-face {font-family:"${f}";src:${w}}`;this.insertRule(x);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const S of[e.loadedName,f]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=S,b.append(k)}this._document.body.append(b),h(f,()=>{b.remove(),t.complete()})}}yp=new WeakMap;class eJ{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${i$(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let r;try{r=e.get(s)}catch(a){Le(`getPathGenerator - ignoring character: "${a}".`)}const i=new Path2D(r||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=i}}function tJ(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ns)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function nJ(n){if(Ns&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Wx(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Fw(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const lE=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,sJ=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",rJ=UZ.bind(null,lE,sJ);var Do,l_;class iJ{constructor(){E(this,Do,new Map);E(this,l_,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};u(this,l_).then(()=>{for(const[r]of u(this,Do))r.call(this,s)})}addEventListener(e,t,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:i}=s;if(i.aborted){Le("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}u(this,Do).set(t,r)}removeEventListener(e,t){const s=u(this,Do).get(t);s==null||s(),u(this,Do).delete(t)}terminate(){for(const[,e]of u(this,Do))e==null||e();u(this,Do).clear()}}Do=new WeakMap,l_=new WeakMap;const $w={DATA:1,ERROR:2},yn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function YR(){}function Hs(n){if(n instanceof hd||n instanceof zk||n instanceof HR||n instanceof k0||n instanceof H1)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Et('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new hd(n.message);case"InvalidPDFException":return new zk(n.message);case"PasswordException":return new HR(n.message,n.code);case"ResponseException":return new k0(n.message,n.status,n.missing);case"UnknownErrorException":return new H1(n.message,n.details)}return new H1(n.message,n.toString())}var xp,hi,F$,$$,B$,vb;class Eg{constructor(e,t,s){E(this,hi);E(this,xp,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",A(this,hi,F$).bind(this),{signal:u(this,xp).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},s)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,s,r){const i=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[i]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:i,data:t,desiredSize:d.desiredSize},r),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[i].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:yn.PULL,streamId:i,desiredSize:d.desiredSize}),h.promise},cancel:d=>{Cn(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[i].cancelCall=h,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:yn.CANCEL,streamId:i,reason:Hs(d)}),h.promise}},s)}destroy(){var e;(e=u(this,xp))==null||e.abort(),C(this,xp,null)}}xp=new WeakMap,hi=new WeakSet,F$=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){A(this,hi,B$).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===$w.DATA)r.resolve(e.data);else if(e.callback===$w.ERROR)r.reject(Hs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(a){i.postMessage({sourceName:s,targetName:r,callback:$w.DATA,callbackId:e.callbackId,data:a})},function(a){i.postMessage({sourceName:s,targetName:r,callback:$w.ERROR,callbackId:e.callbackId,reason:Hs(a)})});return}if(e.streamId){A(this,hi,$$).call(this,e);return}t(e.data)},$$=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(d,h=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=h,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:s,targetName:r,stream:yn.ENQUEUE,streamId:t,chunk:d},f)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:yn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(d){Cn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:yn.ERROR,streamId:t,reason:Hs(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){i.postMessage({sourceName:s,targetName:r,stream:yn.START_COMPLETE,streamId:t,success:!0})},function(d){i.postMessage({sourceName:s,targetName:r,stream:yn.START_COMPLETE,streamId:t,reason:Hs(d)})})},B$=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case yn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Hs(e.reason));break;case yn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Hs(e.reason));break;case yn.PULL:if(!o){i.postMessage({sourceName:s,targetName:r,stream:yn.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||YR).then(function(){i.postMessage({sourceName:s,targetName:r,stream:yn.PULL_COMPLETE,streamId:t,success:!0})},function(d){i.postMessage({sourceName:s,targetName:r,stream:yn.PULL_COMPLETE,streamId:t,reason:Hs(d)})});break;case yn.ENQUEUE:if(Cn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case yn.CLOSE:if(Cn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),A(this,hi,vb).call(this,a,t);break;case yn.ERROR:Cn(a,"error should have stream controller"),a.controller.error(Hs(e.reason)),A(this,hi,vb).call(this,a,t);break;case yn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Hs(e.reason)),A(this,hi,vb).call(this,a,t);break;case yn.CANCEL:if(!o)break;const l=Hs(e.reason);Promise.try(o.onCancel||YR,l).then(function(){i.postMessage({sourceName:s,targetName:r,stream:yn.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){i.postMessage({sourceName:s,targetName:r,stream:yn.CANCEL_COMPLETE,streamId:t,reason:Hs(d)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},vb=async function(e,t){var s,r,i;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var xy;class z${constructor({enableHWA:e=!1}){E(this,xy,!1);C(this,xy,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!u(this,xy)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Et("Abstract method `_createCanvas` called.")}}xy=new WeakMap;class aJ extends z${constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class U${constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class KR extends U${async _fetch(e){const t=await qx(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Wx(t)}}class V${addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,r,i){return"none"}destroy(e=!1){}}var _u,wp,Mo,Oo,gs,Su,Cu,de,ps,Ag,of,yb,lf,H$,cE,cf,jg,Ng,dE,Tg;class oJ extends V${constructor({docId:t,ownerDocument:s=globalThis.document}){super();E(this,de);E(this,_u);E(this,wp);E(this,Mo);E(this,Oo);E(this,gs);E(this,Su);E(this,Cu,0);C(this,Oo,t),C(this,gs,s)}addFilter(t){if(!t)return"none";let s=u(this,de,ps).get(t);if(s)return s;const[r,i,a]=A(this,de,yb).call(this,t),o=t.length===1?r:`${r}${i}${a}`;if(s=u(this,de,ps).get(o),s)return u(this,de,ps).set(t,s),s;const l=`g_${u(this,Oo)}_transfer_map_${nn(this,Cu)._++}`,d=A(this,de,lf).call(this,l);u(this,de,ps).set(t,d),u(this,de,ps).set(o,d);const h=A(this,de,cf).call(this,l);return A(this,de,Ng).call(this,r,i,a,h),d}addHCMFilter(t,s){var y;const r=`${t}-${s}`,i="base";let a=u(this,de,Ag).get(i);if((a==null?void 0:a.key)===r||(a?((y=a.filter)==null||y.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},u(this,de,Ag).set(i,a)),!t||!s))return a.url;const o=A(this,de,Tg).call(this,t);t=me.makeHexColor(...o);const l=A(this,de,Tg).call(this,s);if(s=me.makeHexColor(...l),u(this,de,of).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return a.url;const d=new Array(256);for(let g=0;g<=255;g++){const _=g/255;d[g]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const h=d.join(","),f=`g_${u(this,Oo)}_hcm_filter`,p=a.filter=A(this,de,cf).call(this,f);A(this,de,Ng).call(this,h,h,h,p),A(this,de,cE).call(this,p);const m=(g,_)=>{const w=o[g]/255,x=l[g]/255,b=new Array(_+1);for(let S=0;S<=_;S++)b[S]=w+S/_*(x-w);return b.join(",")};return A(this,de,Ng).call(this,m(0,5),m(1,5),m(2,5),p),a.url=A(this,de,lf).call(this,f),a.url}addAlphaFilter(t){let s=u(this,de,ps).get(t);if(s)return s;const[r]=A(this,de,yb).call(this,[t]),i=`alpha_${r}`;if(s=u(this,de,ps).get(i),s)return u(this,de,ps).set(t,s),s;const a=`g_${u(this,Oo)}_alpha_map_${nn(this,Cu)._++}`,o=A(this,de,lf).call(this,a);u(this,de,ps).set(t,o),u(this,de,ps).set(i,o);const l=A(this,de,cf).call(this,a);return A(this,de,dE).call(this,r,l),o}addLuminosityFilter(t){let s=u(this,de,ps).get(t||"luminosity");if(s)return s;let r,i;if(t?([r]=A(this,de,yb).call(this,[t]),i=`luminosity_${r}`):i="luminosity",s=u(this,de,ps).get(i),s)return u(this,de,ps).set(t,s),s;const a=`g_${u(this,Oo)}_luminosity_map_${nn(this,Cu)._++}`,o=A(this,de,lf).call(this,a);u(this,de,ps).set(t,o),u(this,de,ps).set(i,o);const l=A(this,de,cf).call(this,a);return A(this,de,H$).call(this,l),t&&A(this,de,dE).call(this,r,l),o}addHighlightHCMFilter(t,s,r,i,a){var x;const o=`${s}-${r}-${i}-${a}`;let l=u(this,de,Ag).get(t);if((l==null?void 0:l.key)===o||(l?((x=l.filter)==null||x.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,de,Ag).set(t,l)),!s||!r))return l.url;const[d,h]=[s,r].map(A(this,de,Tg).bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,y]=[i,a].map(A(this,de,Tg).bind(this));p<f&&([f,p,m,y]=[p,f,y,m]),u(this,de,of).style.color="";const g=(b,S,k)=>{const j=new Array(256),N=(p-f)/k,P=b/255,D=(S-b)/(255*k);let T=0;for(let F=0;F<=k;F++){const M=Math.round(f+F*N),U=P+F*D;for(let R=T;R<=M;R++)j[R]=U;T=M+1}for(let F=T;F<256;F++)j[F]=j[T-1];return j.join(",")},_=`g_${u(this,Oo)}_hcm_${t}_filter`,w=l.filter=A(this,de,cf).call(this,_);return A(this,de,cE).call(this,w),A(this,de,Ng).call(this,g(m[0],y[0],5),g(m[1],y[1],5),g(m[2],y[2],5),w),l.url=A(this,de,lf).call(this,_),l.url}destroy(t=!1){var s,r,i,a;t&&((s=u(this,Su))!=null&&s.size)||((r=u(this,Mo))==null||r.parentNode.parentNode.remove(),C(this,Mo,null),(i=u(this,wp))==null||i.clear(),C(this,wp,null),(a=u(this,Su))==null||a.clear(),C(this,Su,null),C(this,Cu,0))}}_u=new WeakMap,wp=new WeakMap,Mo=new WeakMap,Oo=new WeakMap,gs=new WeakMap,Su=new WeakMap,Cu=new WeakMap,de=new WeakSet,ps=function(){return u(this,wp)||C(this,wp,new Map)},Ag=function(){return u(this,Su)||C(this,Su,new Map)},of=function(){if(!u(this,Mo)){const t=u(this,gs).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=u(this,gs).createElementNS(uo,"svg");r.setAttribute("width",0),r.setAttribute("height",0),C(this,Mo,u(this,gs).createElementNS(uo,"defs")),t.append(r),r.append(u(this,Mo)),u(this,gs).body.append(t)}return u(this,Mo)},yb=function(t){if(t.length===1){const d=t[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=d[p]/255;const f=h.join(",");return[f,f,f]}const[s,r,i]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let d=0;d<256;d++)a[d]=s[d]/255,o[d]=r[d]/255,l[d]=i[d]/255;return[a.join(","),o.join(","),l.join(",")]},lf=function(t){if(u(this,_u)===void 0){C(this,_u,"");const s=u(this,gs).URL;s!==u(this,gs).baseURI&&(yS(s)?Le('#createUrl: ignore "data:"-URL for performance reasons.'):C(this,_u,n$(s,"")))}return`url(${u(this,_u)}#${t})`},H$=function(t){const s=u(this,gs).createElementNS(uo,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},cE=function(t){const s=u(this,gs).createElementNS(uo,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},cf=function(t){const s=u(this,gs).createElementNS(uo,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),u(this,de,of).append(s),s},jg=function(t,s,r){const i=u(this,gs).createElementNS(uo,s);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)},Ng=function(t,s,r,i){const a=u(this,gs).createElementNS(uo,"feComponentTransfer");i.append(a),A(this,de,jg).call(this,a,"feFuncR",t),A(this,de,jg).call(this,a,"feFuncG",s),A(this,de,jg).call(this,a,"feFuncB",r)},dE=function(t,s){const r=u(this,gs).createElementNS(uo,"feComponentTransfer");s.append(r),A(this,de,jg).call(this,r,"feFuncA",t)},Tg=function(t){return u(this,de,of).style.color=t,xS(getComputedStyle(u(this,de,of)).getPropertyValue("color"))};class W${constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class XR extends W${async _fetch(e){const t=await qx(e,"arraybuffer");return new Uint8Array(t)}}class q${constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class QR extends q${async _fetch(e){const t=await qx(e,"arraybuffer");return new Uint8Array(t)}}Ns&&Le("Please use the `legacy` build in Node.js environments.");async function wN(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class lJ extends V${}class cJ extends z${_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class dJ extends U${async _fetch(e){return wN(e)}}class uJ extends W${async _fetch(e){return wN(e)}}class hJ extends q${async _fetch(e){return wN(e)}}const Jh="__forcedDependency";var vr,ks,bp,Aa,_p,Io,gt,St,Lo,yr,vc,Sp,yc,xc;class fJ{constructor(e){E(this,vr,{__proto__:null});E(this,ks,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Jh]:[]});E(this,bp,new Map);E(this,Aa,[]);E(this,_p,[]);E(this,Io,[[1,0,0,1,0,0]]);E(this,gt,[-1/0,-1/0,1/0,1/0]);E(this,St,new Float64Array([1/0,1/0,-1/0,-1/0]));E(this,Lo,-1);E(this,yr,new Set);E(this,vc,new Map);E(this,Sp,new Map);E(this,yc);E(this,xc);C(this,yc,e.width),C(this,xc,e.height)}save(e){return C(this,vr,{__proto__:u(this,vr)}),C(this,ks,{__proto__:u(this,ks),transform:{__proto__:u(this,ks).transform},moveText:{__proto__:u(this,ks).moveText},sameLineText:{__proto__:u(this,ks).sameLineText},[Jh]:{__proto__:u(this,ks)[Jh]}}),C(this,gt,{__proto__:u(this,gt)}),u(this,Aa).push([e,null]),this}restore(e){const t=Object.getPrototypeOf(u(this,vr));if(t===null)return this;C(this,vr,t),C(this,ks,Object.getPrototypeOf(u(this,ks))),C(this,gt,Object.getPrototypeOf(u(this,gt)));const s=u(this,Aa).pop();return s!==void 0&&(s[1]=e),this}recordOpenMarker(e){return u(this,Aa).push([e,null]),this}getOpenMarker(){return u(this,Aa).length===0?null:u(this,Aa).at(-1)[0]}recordCloseMarker(e){const t=u(this,Aa).pop();return t!==void 0&&(t[1]=e),this}beginMarkedContent(e){return u(this,_p).push([e,null]),this}endMarkedContent(e){const t=u(this,_p).pop();return t!==void 0&&(t[1]=e),this}pushBaseTransform(e){return u(this,Io).push(me.multiplyByDOMMatrix(u(this,Io).at(-1),e.getTransform())),this}popBaseTransform(){return u(this,Io).length>1&&u(this,Io).pop(),this}recordSimpleData(e,t){return u(this,vr)[e]=t,this}recordIncrementalData(e,t){return u(this,ks)[e].push(t),this}resetIncrementalData(e,t){return u(this,ks)[e].length=0,this}recordNamedData(e,t){return u(this,bp).set(e,t),this}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Jh,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in u(this,vr)&&this.recordFutureForcedDependency(t,u(this,vr)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of u(this,yr))this.recordFutureForcedDependency(Jh,e);return this}resetBBox(e){return C(this,Lo,e),u(this,St)[0]=1/0,u(this,St)[1]=1/0,u(this,St)[2]=-1/0,u(this,St)[3]=-1/0,this}get hasPendingBBox(){return u(this,Lo)!==-1}recordClipBox(e,t,s,r,i,a){const o=me.multiplyByDOMMatrix(u(this,Io).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];me.axialAlignedBoundingBox([s,i,r,a],o,l);const d=me.intersect(u(this,gt),l);return d?(u(this,gt)[0]=d[0],u(this,gt)[1]=d[1],u(this,gt)[2]=d[2],u(this,gt)[3]=d[3]):(u(this,gt)[0]=u(this,gt)[1]=1/0,u(this,gt)[2]=u(this,gt)[3]=-1/0),this}recordBBox(e,t,s,r,i,a){const o=u(this,gt);if(o[0]===1/0)return this;const l=me.multiplyByDOMMatrix(u(this,Io).at(-1),t.getTransform());if(o[0]===-1/0)return me.axialAlignedBoundingBox([s,i,r,a],l,u(this,St)),this;const d=[1/0,1/0,-1/0,-1/0];return me.axialAlignedBoundingBox([s,i,r,a],l,d),u(this,St)[0]=Math.min(u(this,St)[0],Math.max(d[0],o[0])),u(this,St)[1]=Math.min(u(this,St)[1],Math.max(d[1],o[1])),u(this,St)[2]=Math.max(u(this,St)[2],Math.min(d[2],o[2])),u(this,St)[3]=Math.max(u(this,St)[3],Math.min(d[3],o[3])),this}recordCharacterBBox(e,t,s,r=1,i=0,a=0,o){const l=s.bbox;let d,h;if(l&&(d=l[2]!==l[0]&&l[3]!==l[1]&&u(this,Sp).get(s),d!==!1&&(h=[0,0,0,0],me.axialAlignedBoundingBox(l,s.fontMatrix,h),(r!==1||i!==0||a!==0)&&me.scaleMinMax([r,0,0,-r,i,a],h),d)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!o)return this.recordFullPageBBox(e);const f=o();return l&&h&&d===void 0&&(d=h[0]<=i-f.actualBoundingBoxLeft&&h[2]>=i+f.actualBoundingBoxRight&&h[1]<=a-f.actualBoundingBoxAscent&&h[3]>=a+f.actualBoundingBoxDescent,u(this,Sp).set(s,d),d)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,i-f.actualBoundingBoxLeft,i+f.actualBoundingBoxRight,a-f.actualBoundingBoxAscent,a+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return u(this,St)[0]=Math.max(0,u(this,gt)[0]),u(this,St)[1]=Math.max(0,u(this,gt)[1]),u(this,St)[2]=Math.min(u(this,yc),u(this,gt)[2]),u(this,St)[3]=Math.min(u(this,xc),u(this,gt)[3]),this}getSimpleIndex(e){return u(this,vr)[e]}recordDependencies(e,t){const s=u(this,yr),r=u(this,vr),i=u(this,ks);for(const a of t)a in u(this,vr)?s.add(r[a]):a in i&&i[a].forEach(s.add,s);return this}copyDependenciesFromIncrementalOperation(e,t){const s=u(this,vc),r=u(this,yr);for(const i of u(this,ks)[t])s.get(i).dependencies.forEach(r.add,r.add(i));return this}recordNamedDependency(e,t){return u(this,bp).has(t)&&u(this,yr).add(u(this,bp).get(t)),this}recordOperation(e,t=!1){this.recordDependencies(e,[Jh]);const s=new Set(u(this,yr)),r=u(this,Aa).concat(u(this,_p)),i=u(this,Lo)===e?{minX:u(this,St)[0],minY:u(this,St)[1],maxX:u(this,St)[2],maxY:u(this,St)[3]}:null;return u(this,vc).set(e,{bbox:i,pairs:r,dependencies:s}),t||C(this,Lo,-1),u(this,yr).clear(),this}bboxToClipBoxDropOperation(e){return u(this,Lo)!==-1&&(C(this,Lo,-1),u(this,gt)[0]=Math.max(u(this,gt)[0],u(this,St)[0]),u(this,gt)[1]=Math.max(u(this,gt)[1],u(this,St)[1]),u(this,gt)[2]=Math.min(u(this,gt)[2],u(this,St)[2]),u(this,gt)[3]=Math.min(u(this,gt)[3],u(this,St)[3])),u(this,yr).clear(),this}_takePendingDependencies(){const e=u(this,yr);return C(this,yr,new Set),e}_extractOperation(e){const t=u(this,vc).get(e);return u(this,vc).delete(e),t}_pushPendingDependencies(e){for(const t of e)u(this,yr).add(t)}take(){return u(this,Sp).clear(),Array.from(u(this,vc),([e,{bbox:t,pairs:s,dependencies:r}])=>(s.forEach(i=>i.forEach(r.add,r)),r.delete(e),{minX:((t==null?void 0:t.minX)??0)/u(this,yc),maxX:((t==null?void 0:t.maxX)??u(this,yc))/u(this,yc),minY:((t==null?void 0:t.minY)??0)/u(this,xc),maxY:((t==null?void 0:t.maxY)??u(this,xc))/u(this,xc),dependencies:Array.from(r).sort((i,a)=>i-a),idx:e}))}}vr=new WeakMap,ks=new WeakMap,bp=new WeakMap,Aa=new WeakMap,_p=new WeakMap,Io=new WeakMap,gt=new WeakMap,St=new WeakMap,Lo=new WeakMap,yr=new WeakMap,vc=new WeakMap,Sp=new WeakMap,yc=new WeakMap,xc=new WeakMap;var ut,Xt,Cp,wc,kp;const pT=class pT{constructor(e,t){E(this,ut);E(this,Xt);E(this,Cp,0);E(this,wc);E(this,kp,0);if(e instanceof pT)return e;C(this,ut,e),C(this,wc,e._takePendingDependencies()),C(this,Xt,t)}save(e){return nn(this,kp)._++,u(this,ut).save(u(this,Xt)),this}restore(e){return u(this,kp)>0&&(u(this,ut).restore(u(this,Xt)),nn(this,kp)._--),this}recordOpenMarker(e){return nn(this,Cp)._++,this}getOpenMarker(){return u(this,Cp)>0?u(this,Xt):u(this,ut).getOpenMarker()}recordCloseMarker(e){return nn(this,Cp)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return u(this,ut).pushBaseTransform(e),this}popBaseTransform(){return u(this,ut).popBaseTransform(),this}recordSimpleData(e,t){return u(this,ut).recordSimpleData(e,u(this,Xt)),this}recordIncrementalData(e,t){return u(this,ut).recordIncrementalData(e,u(this,Xt)),this}resetIncrementalData(e,t){return u(this,ut).resetIncrementalData(e,u(this,Xt)),this}recordNamedData(e,t){return this}recordFutureForcedDependency(e,t){return u(this,ut).recordFutureForcedDependency(e,u(this,Xt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return u(this,ut).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return u(this,ut).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return u(this,ut).hasPendingBBox||u(this,ut).resetBBox(u(this,Xt)),this}get hasPendingBBox(){return u(this,ut).hasPendingBBox}recordClipBox(e,t,s,r,i,a){return u(this,ut).recordClipBox(u(this,Xt),t,s,r,i,a),this}recordBBox(e,t,s,r,i,a){return u(this,ut).recordBBox(u(this,Xt),t,s,r,i,a),this}recordCharacterBBox(e,t,s,r,i,a,o){return u(this,ut).recordCharacterBBox(u(this,Xt),t,s,r,i,a,o),this}recordFullPageBBox(e){return u(this,ut).recordFullPageBBox(u(this,Xt)),this}getSimpleIndex(e){return u(this,ut).getSimpleIndex(e)}recordDependencies(e,t){return u(this,ut).recordDependencies(u(this,Xt),t),this}copyDependenciesFromIncrementalOperation(e,t){return u(this,ut).copyDependenciesFromIncrementalOperation(u(this,Xt),t),this}recordNamedDependency(e,t){return u(this,ut).recordNamedDependency(u(this,Xt),t),this}recordOperation(e){u(this,ut).recordOperation(u(this,Xt),!0);const t=u(this,ut)._extractOperation(u(this,Xt));for(const s of t.dependencies)u(this,wc).add(s);return u(this,wc).delete(u(this,Xt)),u(this,wc).delete(null),this}bboxToClipBoxDropOperation(e){return u(this,ut).bboxToClipBoxDropOperation(u(this,Xt)),this}recordNestedDependencies(){u(this,ut)._pushPendingDependencies(u(this,wc))}take(){throw new Error("Unreachable")}};ut=new WeakMap,Xt=new WeakMap,Cp=new WeakMap,wc=new WeakMap,kp=new WeakMap;let N0=pT;const Gr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],transform:["transform"],transformAndFill:["transform","fillColor"]},ns={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function uE(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,s),n.clip(r)}class bN{isModifyingCurrentTransform(){return!1}getPattern(){Et("Abstract method `getPattern` called.")}}class pJ extends bN{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,r){let i;if(r===ns.STROKE||r===ns.FILL){const a=t.current.getClippedPathBoundingBox(r,Qt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,d=t.cachedCanvases.getCanvas("pattern",o,l),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),s=me.transform(s,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),uE(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),i=e.createPattern(d.canvas,"no-repeat");const f=new DOMMatrix(s);i.setTransform(f)}else uE(e,this._bbox),i=this._createGradient(e);return i}}function G1(n,e,t,s,r,i,a,o){const l=e.coords,d=e.colors,h=n.data,f=n.width*4;let p;l[t+1]>l[s+1]&&(p=t,t=s,s=p,p=i,i=a,a=p),l[s+1]>l[r+1]&&(p=s,s=r,r=p,p=a,a=o,o=p),l[t+1]>l[s+1]&&(p=t,t=s,s=p,p=i,i=a,a=p);const m=(l[t]+e.offsetX)*e.scaleX,y=(l[t+1]+e.offsetY)*e.scaleY,g=(l[s]+e.offsetX)*e.scaleX,_=(l[s+1]+e.offsetY)*e.scaleY,w=(l[r]+e.offsetX)*e.scaleX,x=(l[r+1]+e.offsetY)*e.scaleY;if(y>=x)return;const b=d[i],S=d[i+1],k=d[i+2],j=d[a],N=d[a+1],P=d[a+2],D=d[o],T=d[o+1],F=d[o+2],M=Math.round(y),U=Math.round(x);let R,V,z,$,I,L,K,ie;for(let Z=M;Z<=U;Z++){if(Z<_){const X=Z<y?0:(y-Z)/(y-_);R=m-(m-g)*X,V=b-(b-j)*X,z=S-(S-N)*X,$=k-(k-P)*X}else{let X;Z>x?X=1:_===x?X=0:X=(_-Z)/(_-x),R=g-(g-w)*X,V=j-(j-D)*X,z=N-(N-T)*X,$=P-(P-F)*X}let re;Z<y?re=0:Z>x?re=1:re=(y-Z)/(y-x),I=m-(m-w)*re,L=b-(b-D)*re,K=S-(S-T)*re,ie=k-(k-F)*re;const he=Math.round(Math.min(R,I)),De=Math.round(Math.max(R,I));let je=f*Z+he*4;for(let X=he;X<=De;X++)re=(R-X)/(R-I),re<0?re=0:re>1&&(re=1),h[je++]=V-(V-L)*re|0,h[je++]=z-(z-K)*re|0,h[je++]=$-($-ie)*re|0,h[je++]=255}}function mJ(n,e,t){const s=e.coords,r=e.colors;let i,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(s.length/o)-1,d=o-1;for(i=0;i<l;i++){let h=i*o;for(let f=0;f<d;f++,h++)G1(n,t,s[h],s[h+1],s[h+o],r[h],r[h+1],r[h+o]),G1(n,t,s[h+o+1],s[h+1],s[h+o],r[h+o+1],r[h+1],r[h+o])}break;case"triangles":for(i=0,a=s.length;i<a;i+=3)G1(n,t,s[i],s[i+1],s[i+2],r[i],r[i+1],r[i+2]);break;default:throw new Error("illegal figure")}}class gJ extends bN{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),m=d/f,y=h/p,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/m,scaleY:1/y},_=f+2*2,w=p+2*2,x=s.getCanvas("mesh",_,w),b=x.context,S=b.createImageData(f,p);if(t){const j=S.data;for(let N=0,P=j.length;N<P;N+=4)j[N]=t[0],j[N+1]=t[1],j[N+2]=t[2],j[N+3]=255}for(const j of this._figures)mJ(S,j,g);return b.putImageData(S,2,2),{canvas:x.canvas,offsetX:o-2*m,offsetY:l-2*y,scaleX:m,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,r){uE(e,this._bbox);const i=new Float32Array(2);if(r===ns.SHADING)me.singularValueDecompose2dScale(Qt(e),i);else if(this.matrix){me.singularValueDecompose2dScale(this.matrix,i);const[o,l]=i;me.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=o,i[1]*=l}else me.singularValueDecompose2dScale(t.baseTransform,i);const a=this._createMeshCanvas(i,r===ns.SHADING?null:this._background,t.cachedCanvases);return r!==ns.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class vJ extends bN{getPattern(){return"hotpink"}}function yJ(n){switch(n[0]){case"RadialAxial":return new pJ(n);case"Mesh":return new gJ(n);case"Dummy":return new vJ}throw new Error(`Unknown IR type: ${n[0]}`)}const ZR={COLORED:1,UNCOLORED:2},c_=class c_{constructor(e,t,s,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(e){var I,L,K,ie;const{bbox:t,operatorList:s,paintType:r,tilingType:i,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:d}=this;l=Math.abs(l),d=Math.abs(d),vS("TilingType: "+i);const h=t[0],f=t[1],p=t[2],m=t[3],y=p-h,g=m-f,_=new Float32Array(2);me.singularValueDecompose2dScale(this.matrix,_);const[w,x]=_;me.singularValueDecompose2dScale(this.baseTransform,_);const b=w*_[0],S=x*_[1];let k=y,j=g,N=!1,P=!1;const D=Math.ceil(l*b),T=Math.ceil(d*S),F=Math.ceil(y*b),M=Math.ceil(g*S);D>=F?k=l:N=!0,T>=M?j=d:P=!0;const U=this.getSizeAndScale(k,this.ctx.canvas.width,b),R=this.getSizeAndScale(j,this.ctx.canvas.height,S),V=e.cachedCanvases.getCanvas("pattern",U.size,R.size),z=V.context,$=o.createCanvasGraphics(z);if($.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext($,r,a),z.translate(-U.scale*h,-R.scale*f),$.transform(0,U.scale,0,0,R.scale,0,0),z.save(),(I=$.dependencyTracker)==null||I.save(),this.clipBbox($,h,f,p,m),$.baseTransform=Qt($.ctx),$.executeOperatorList(s),$.endDrawing(),(ie=(L=$.dependencyTracker)==null?void 0:(K=L.restore()).recordNestedDependencies)==null||ie.call(K),z.restore(),N||P){const Z=V.canvas;N&&(k=l),P&&(j=d);const re=this.getSizeAndScale(k,this.ctx.canvas.width,b),he=this.getSizeAndScale(j,this.ctx.canvas.height,S),De=re.size,je=he.size,X=e.cachedCanvases.getCanvas("pattern-workaround",De,je),He=X.context,Be=N?Math.floor(y/l):0,Re=P?Math.floor(g/d):0;for(let Te=0;Te<=Be;Te++)for(let Ne=0;Ne<=Re;Ne++)He.drawImage(Z,De*Te,je*Ne,De,je,0,0,De,je);return{canvas:X.canvas,scaleX:re.scale,scaleY:he.scale,offsetX:h,offsetY:f}}return{canvas:V.canvas,scaleX:U.scale,scaleY:R.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,s){const r=Math.max(c_.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*s);return i>=r?i=r:s=i/e,{scale:s,size:i}}clipBbox(e,t,s,r,i){const a=r-t,o=i-s;e.ctx.rect(t,s,a,o),me.axialAlignedBoundingBox([t,s,r,i],Qt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const r=e.ctx,i=e.current;switch(t){case ZR.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=i.fillColor=a,r.strokeStyle=i.strokeColor=o;break;case ZR.UNCOLORED:r.fillStyle=r.strokeStyle=s,i.fillColor=i.strokeColor=s;break;default:throw new IZ(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,r){let i=s;r!==ns.SHADING&&(i=me.transform(i,t.baseTransform),this.matrix&&(i=me.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(i);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};ee(c_,"MAX_PATTERN_SIZE",3e3);let hE=c_;function xJ({src:n,srcPos:e=0,dest:t,width:s,height:r,nonBlackColor:i=4294967295,inverseDecode:a=!1}){const o=os.isLittleEndian?4278190080:255,[l,d]=a?[i,o]:[o,i],h=s>>3,f=s&7,p=n.length;t=new Uint32Array(t.buffer);let m=0;for(let y=0;y<r;y++){for(const _=e+h;e<_;e++){const w=e<p?n[e]:255;t[m++]=w&128?d:l,t[m++]=w&64?d:l,t[m++]=w&32?d:l,t[m++]=w&16?d:l,t[m++]=w&8?d:l,t[m++]=w&4?d:l,t[m++]=w&2?d:l,t[m++]=w&1?d:l}if(f===0)continue;const g=e<p?n[e++]:255;for(let _=0;_<f;_++)t[m++]=g&1<<7-_?d:l}return{srcPos:e,destPos:m}}const JR=16,e2=100,wJ=15,t2=10,Qs=16,Y1=new DOMMatrix,Dr=new Float32Array(2),Ef=new Float32Array([1/0,1/0,-1/0,-1/0]);function bJ(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},n.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},n.transform=function(t,s,r,i,a,o){e.transform(t,s,r,i,a,o),this.__originalTransform(t,s,r,i,a,o)},n.setTransform=function(t,s,r,i,a,o){e.setTransform(t,s,r,i,a,o),this.__originalSetTransform(t,s,r,i,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,r,i,a,o){e.bezierCurveTo(t,s,r,i,a,o),this.__originalBezierCurveTo(t,s,r,i,a,o)},n.rect=function(t,s,r,i){e.rect(t,s,r,i),this.__originalRect(t,s,r,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class _J{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,s)):(r=this.canvasFactory.create(t,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Bw(n,e,t,s,r,i,a,o,l,d){const[h,f,p,m,y,g]=Qt(n);if(f===0&&p===0){const x=a*h+y,b=Math.round(x),S=o*m+g,k=Math.round(S),j=(a+l)*h+y,N=Math.abs(Math.round(j)-b)||1,P=(o+d)*m+g,D=Math.abs(Math.round(P)-k)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(m),b,k),n.drawImage(e,t,s,r,i,0,0,N,D),n.setTransform(h,f,p,m,y,g),[N,D]}if(h===0&&m===0){const x=o*p+y,b=Math.round(x),S=a*f+g,k=Math.round(S),j=(o+d)*p+y,N=Math.abs(Math.round(j)-b)||1,P=(a+l)*f+g,D=Math.abs(Math.round(P)-k)||1;return n.setTransform(0,Math.sign(f),Math.sign(p),0,b,k),n.drawImage(e,t,s,r,i,0,0,D,N),n.setTransform(h,f,p,m,y,g),[D,N]}n.drawImage(e,t,s,r,i,a,o,l,d);const _=Math.hypot(h,f),w=Math.hypot(p,m);return[_*l,w*d]}class n2{constructor(e,t,s){ee(this,"alphaIsShape",!1);ee(this,"fontSize",0);ee(this,"fontSizeScale",1);ee(this,"textMatrix",null);ee(this,"textMatrixScale",1);ee(this,"fontMatrix",Bk);ee(this,"leading",0);ee(this,"x",0);ee(this,"y",0);ee(this,"lineX",0);ee(this,"lineY",0);ee(this,"charSpacing",0);ee(this,"wordSpacing",0);ee(this,"textHScale",1);ee(this,"textRenderingMode",Yn.FILL);ee(this,"textRise",0);ee(this,"fillColor","#000000");ee(this,"strokeColor","#000000");ee(this,"patternFill",!1);ee(this,"patternStroke",!1);ee(this,"fillAlpha",1);ee(this,"strokeAlpha",1);ee(this,"lineWidth",1);ee(this,"activeSMask",null);ee(this,"transferMaps","none");s==null||s(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Ef.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ns.FILL,t=null){const s=this.minMax.slice();if(e===ns.STROKE){t||Et("Stroke bounding box must include transform."),me.singularValueDecompose2dScale(t,Dr);const r=Dr[0]*this.lineWidth/2,i=Dr[1]*this.lineWidth/2;s[0]-=r,s[1]-=i,s[2]+=r,s[3]+=i}return s}updateClipFromPath(){const e=me.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Ef,0)}getClippedPathBoundingBox(e=ns.FILL,t=null){return me.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function s2(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,r=t%Qs,i=(t-r)/Qs,a=r===0?i:i+1,o=n.createImageData(s,Qs);let l=0,d;const h=e.data,f=o.data;let p,m,y,g;if(e.kind===db.GRAYSCALE_1BPP){const _=h.byteLength,w=new Uint32Array(f.buffer,0,f.byteLength>>2),x=w.length,b=s+7>>3,S=4294967295,k=os.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(y=p<i?Qs:r,d=0,m=0;m<y;m++){const j=_-l;let N=0;const P=j>b?s:j*8-7,D=P&-8;let T=0,F=0;for(;N<D;N+=8)F=h[l++],w[d++]=F&128?S:k,w[d++]=F&64?S:k,w[d++]=F&32?S:k,w[d++]=F&16?S:k,w[d++]=F&8?S:k,w[d++]=F&4?S:k,w[d++]=F&2?S:k,w[d++]=F&1?S:k;for(;N<P;N++)T===0&&(F=h[l++],T=128),w[d++]=F&T?S:k,T>>=1}for(;d<x;)w[d++]=0;n.putImageData(o,0,p*Qs)}}else if(e.kind===db.RGBA_32BPP){for(m=0,g=s*Qs*4,p=0;p<i;p++)f.set(h.subarray(l,l+g)),l+=g,n.putImageData(o,0,m),m+=Qs;p<a&&(g=s*r*4,f.set(h.subarray(l,l+g)),n.putImageData(o,0,m))}else if(e.kind===db.RGB_24BPP)for(y=Qs,g=s*y,p=0;p<a;p++){for(p>=i&&(y=r,g=s*y),d=0,m=g;m--;)f[d++]=h[l++],f[d++]=h[l++],f[d++]=h[l++],f[d++]=255;n.putImageData(o,0,p*Qs)}else throw new Error(`bad image kind: ${e.kind}`)}function r2(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,r=t%Qs,i=(t-r)/Qs,a=r===0?i:i+1,o=n.createImageData(s,Qs);let l=0;const d=e.data,h=o.data;for(let f=0;f<a;f++){const p=f<i?Qs:r;({srcPos:l}=xJ({src:d,srcPos:l,dest:h,width:s,height:p,nonBlackColor:0})),n.putImageData(o,0,f*Qs)}}function og(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function zw(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function i2(n,e){if(e)return!0;me.singularValueDecompose2dScale(n,Dr);const t=Math.fround(Za.pixelRatio*fd.PDF_TO_CSS_UNITS);return Dr[0]<=t&&Dr[1]<=t}const SJ=["butt","round","square"],CJ=["miter","round","bevel"],kJ={},a2={};var na,fE,pE,mE;const mT=class mT{constructor(e,t,s,r,i,{optionalContentConfig:a,markedContentStack:o=null},l,d,h){E(this,na);this.ctx=e,this.current=new n2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new _J(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,s=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):s}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:r=null}){const i=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,a),this.ctx.fillStyle=o,s){const l=this.cachedCanvases.getCanvas("transparent",i,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Qt(this.compositeCtx))}this.ctx.save(),zw(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Qt(this.ctx)}executeOperatorList(e,t,s,r,i){var w;const a=e.argsArray,o=e.fnArray;let l=t||0;const d=a.length;if(d===l)return l;const h=d-l>t2&&typeof s=="function",f=h?Date.now()+wJ:0;let p=0;const m=this.commonObjs,y=this.objs;let g,_;for(;;){if(r!==void 0&&l===r.nextBreakPoint)return r.breakIt(l,s),l;if(!i||i.has(l))if(g=o[l],_=a[l]??null,g!==Iv.dependency)_===null?this[g](l):this[g](l,..._);else for(const x of _){(w=this.dependencyTracker)==null||w.recordNamedData(x,l);const b=x.startsWith("g_")?m:y;if(!b.has(x))return b.get(x,s),l}if(l++,l===d)return l;if(h&&++p>t2){if(Date.now()>f)return s(),l;p=0}}}endDrawing(){A(this,na,fE).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,na,pE).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=s,l=r,d="prescale1",h,f;for(;i>2&&o>1||a>2&&l>1;){let p=o,m=l;i>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),i/=o/p),a>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/m),h=this.cachedCanvases.getCanvas(d,p,m),f=h.context,f.clearRect(0,0,p,m),f.drawImage(e,0,0,o,l,0,0,p,m),e=h.canvas,o=p,l=m,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var T,F;const s=this.ctx,{width:r,height:i}=t,a=this.current.fillColor,o=this.current.patternFill,l=Qt(s);let d,h,f,p;if((t.bitmap||t.data)&&t.count>1){const M=t.bitmap||t.data.buffer;h=JSON.stringify(o?l:[l.slice(0,4),a]),d=this._cachedBitmapsMap.get(M),d||(d=new Map,this._cachedBitmapsMap.set(M,d));const U=d.get(h);if(U&&!o){const R=Math.round(Math.min(l[0],l[2])+l[4]),V=Math.round(Math.min(l[1],l[3])+l[5]);return(T=this.dependencyTracker)==null||T.recordDependencies(e,Gr.transformAndFill),{canvas:U,offsetX:R,offsetY:V}}f=U}f||(p=this.cachedCanvases.getCanvas("maskCanvas",r,i),r2(p.context,t));let m=me.transform(l,[1/r,0,0,-1/i,0,0]);m=me.transform(m,[1,0,0,1,0,-i]);const y=Ef.slice();me.axialAlignedBoundingBox([0,0,r,i],m,y);const[g,_,w,x]=y,b=Math.round(w-g)||1,S=Math.round(x-_)||1,k=this.cachedCanvases.getCanvas("fillCanvas",b,S),j=k.context,N=g,P=_;j.translate(-N,-P),j.transform(...m),f||(f=this._scaleImage(p.canvas,oa(j)),f=f.img,d&&o&&d.set(h,f)),j.imageSmoothingEnabled=i2(Qt(j),t.interpolate),Bw(j,f,0,0,f.width,f.height,0,0,r,i),j.globalCompositeOperation="source-in";const D=me.transform(oa(j),[1,0,0,1,-N,-P]);return j.fillStyle=o?a.getPattern(s,this,D,ns.FILL):a,j.fillRect(0,0,r,i),d&&!o&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,k.canvas)),(F=this.dependencyTracker)==null||F.recordDependencies(e,Gr.transformAndFill),{canvas:k.canvas,offsetX:Math.round(N),offsetY:Math.round(P)}}setLineWidth(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineCap",e),this.ctx.lineCap=SJ[t]}setLineJoin(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("lineJoin",e),this.ctx.lineJoin=CJ[t]}setMiterLimit(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,s){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=s)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var s,r,i,a,o;for(const[l,d]of t)switch(l){case"LW":this.setLineWidth(e,d);break;case"LC":this.setLineCap(e,d);break;case"LJ":this.setLineJoin(e,d);break;case"ML":this.setMiterLimit(e,d);break;case"D":this.setDash(e,d[0],d[1]);break;case"RI":this.setRenderingIntent(e,d);break;case"FL":this.setFlatness(e,d);break;case"Font":this.setFont(e,d[0],d[1]);break;case"CA":(s=this.dependencyTracker)==null||s.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=d;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":(i=this.dependencyTracker)==null||i.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=d;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,s);this.suspendedCtx=this.ctx;const a=this.ctx=i.context;a.setTransform(this.suspendedCtx.getTransform()),og(this.suspendedCtx,a),bJ(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),og(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,r){const i=r[0],a=r[1],o=r[2]-i,l=r[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,s,o,l,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,r,i,a,o,l,d,h,f){let p=e.canvas,m=l-h,y=d-f;if(a)if(m<0||y<0||m+s>p.width||y+r>p.height){const _=this.cachedCanvases.getCanvas("maskExtension",s,r),w=_.context;w.drawImage(p,-m,-y),w.globalCompositeOperation="destination-atop",w.fillStyle=a,w.fillRect(0,0,s,r),w.globalCompositeOperation="source-over",p=_.canvas,m=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(m,y,s,r),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(m,y,s,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(l,d,s,r),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(p,m,y,s,r,l,d,s,r),t.restore()}save(e){var s;this.inSMaskMode&&og(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(s=this.dependencyTracker)==null||s.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&og(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,r,i,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,s,r,i,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s,r){let[i]=s;if(!r){i||(i=s[0]=new Path2D),this[t](e,i);return}if(this.dependencyTracker!==null){const a=t===Iv.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}if(!(i instanceof Path2D)){const a=s[0]=new Path2D;for(let o=0,l=i.length;o<l;)switch(i[o++]){case Iw.moveTo:a.moveTo(i[o++],i[o++]);break;case Iw.lineTo:a.lineTo(i[o++],i[o++]);break;case Iw.curveTo:a.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case Iw.closePath:a.closePath();break;default:Le(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=a}me.axialAlignedBoundingBox(r,Qt(this.ctx),this.current.minMax),this[t](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,s=!0){var a;const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const o=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,oa(r),ns.STROKE),o){const l=new Path2D;l.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Gr.stroke),s&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(ns.STROKE,Qt(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,s=!0){var d,h,f;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const p=i.isModifyingCurrentTransform()?r.getTransform():null;if((d=this.dependencyTracker)==null||d.save(e),r.save(),r.fillStyle=i.getPattern(r,this,oa(r),ns.FILL),p){const m=new Path2D;m.addPath(t,r.getTransform().invertSelf().multiplySelf(p)),t=m}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(h=this.dependencyTracker)==null||h.recordDependencies(e,Gr.fill),o&&(r.restore(),(f=this.dependencyTracker)==null||f.restore(e)),s&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var s;this.ctx.fill(t),(s=this.dependencyTracker)==null||s.recordDependencies(e,Gr.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=kJ}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=a2}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,s=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,i=s.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:d,path:h}of t)h&&r.addPath(h,new DOMMatrix(a).preMultiplySelf(i).translate(o,l).scale(d,-d));s.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,s){var f,p;(f=this.dependencyTracker)==null||f.recordSimpleData("font",e).recordNamedDependency(e,t);const r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=r.fontMatrix||Bk,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Le("Invalid font matrix for font "+t),s<0?(s=-s,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=s,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((p=r.systemFontInfo)==null?void 0:p.css)||`"${a}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const d=r.italic?"italic":"normal";let h=s;s<JR?h=JR:s>e2&&(h=e2),this.current.fontSizeScale=s/h,this.ctx.font=`${d} ${l} ${h}px ${o}`}setTextRenderingMode(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,s){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,t,s){this.setLeading(e,-s),this.moveText(e,t,s)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textMatrix",e);const{current:s}=this;s.textMatrix=t,s.textMatrixScale=Math.hypot(t[0],t[1]),s.x=s.lineX=0,s.y=s.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,s,r,i,a){var w,x,b,S;const o=this.ctx,l=this.current,d=l.font,h=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,p=h&Yn.FILL_STROKE_MASK,m=!!(h&Yn.ADD_TO_PATH_FLAG),y=l.patternFill&&!d.missingFile,g=l.patternStroke&&!d.missingFile;let _;if((d.disableFontFace||m||y||g)&&!d.missingFile&&(_=d.getPathGenerator(this.commonObjs,t)),_&&(d.disableFontFace||y||g)){o.save(),o.translate(s,r),o.scale(f,-f),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,d);let k;if(p===Yn.FILL||p===Yn.FILL_STROKE)if(i){k=o.getTransform(),o.setTransform(...i);const j=A(this,na,mE).call(this,_,k,i);o.fill(j)}else o.fill(_);if(p===Yn.STROKE||p===Yn.FILL_STROKE)if(a){k||(k=o.getTransform()),o.setTransform(...a);const{a:j,b:N,c:P,d:D}=k,T=me.inverseTransform(a),F=me.transform([j,N,P,D,0,0],T);me.singularValueDecompose2dScale(F,Dr),o.lineWidth*=Math.max(Dr[0],Dr[1])/f,o.stroke(A(this,na,mE).call(this,_,k,a))}else o.lineWidth/=f,o.stroke(_);o.restore()}else(p===Yn.FILL||p===Yn.FILL_STROKE)&&(o.fillText(t,s,r),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,d,f,s,r,()=>o.measureText(t))),(p===Yn.STROKE||p===Yn.FILL_STROKE)&&(this.dependencyTracker&&((b=this.dependencyTracker)==null||b.recordCharacterBBox(e,o,d,f,s,r,()=>o.measureText(t)).recordDependencies(e,Gr.stroke)),o.strokeText(t,s,r));m&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Qt(o),x:s,y:r,fontSize:f,path:_}),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,d,f,s,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){s=!0;break}return Ze(this,"isFontSubpixelAAEnabled",s)}showText(e,t){var P,D,T,F;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Gr.showText).copyDependenciesFromIncrementalOperation(e,"sameLineText").resetBBox(e),this.current.textRenderingMode&Yn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const s=this.current,r=s.font;if(r.isType3Font){this.showType3Text(e,t),(P=this.dependencyTracker)==null||P.recordOperation(e).recordIncrementalData("sameLineText",e);return}const i=s.fontSize;if(i===0){(D=this.dependencyTracker)==null||D.recordOperation(e);return}const a=this.ctx,o=s.fontSizeScale,l=s.charSpacing,d=s.wordSpacing,h=s.fontDirection,f=s.textHScale*h,p=t.length,m=r.vertical,y=m?1:-1,g=r.defaultVMetrics,_=i*s.fontMatrix[0],w=s.textRenderingMode===Yn.FILL&&!r.disableFontFace&&!s.patternFill;a.save(),s.textMatrix&&a.transform(...s.textMatrix),a.translate(s.x,s.y+s.textRise),h>0?a.scale(f,-1):a.scale(f,1);let x,b;if(s.patternFill){a.save();const M=s.fillColor.getPattern(a,this,oa(a),ns.FILL);x=Qt(a),a.restore(),a.fillStyle=M}if(s.patternStroke){a.save();const M=s.strokeColor.getPattern(a,this,oa(a),ns.STROKE);b=Qt(a),a.restore(),a.strokeStyle=M}let S=s.lineWidth;const k=s.textMatrixScale;if(k===0||S===0){const M=s.textRenderingMode&Yn.FILL_STROKE_MASK;(M===Yn.STROKE||M===Yn.FILL_STROKE)&&(S=this.getSinglePixelWidth())}else S/=k;if(o!==1&&(a.scale(o,o),S/=o),a.lineWidth=S,r.isInvalidPDFjsFont){const M=[];let U=0;for(const V of t)M.push(V.unicode),U+=V.width;const R=M.join("");if(a.fillText(R,0,0),this.dependencyTracker!==null){const V=a.measureText(R);this.dependencyTracker.recordBBox(e,this.ctx,-V.actualBoundingBoxLeft,V.actualBoundingBoxRight,-V.actualBoundingBoxAscent,V.actualBoundingBoxDescent).recordOperation(e).recordIncrementalData("sameLineText",e)}s.x+=U*_*f,a.restore(),this.compose();return}let j=0,N;for(N=0;N<p;++N){const M=t[N];if(typeof M=="number"){j+=y*M*i/1e3;continue}let U=!1;const R=(M.isSpace?d:0)+l,V=M.fontChar,z=M.accent;let $,I,L=M.width;if(m){const Z=M.vmetric||g,re=-(M.vmetric?Z[1]:L*.5)*_,he=Z[2]*_;L=Z?-Z[0]:L,$=re/o,I=(j+he)/o}else $=j/o,I=0;let K;if(r.remeasure&&L>0){K=a.measureText(V);const Z=K.width*1e3/i*o;if(L<Z&&this.isFontSubpixelAAEnabled){const re=L/Z;U=!0,a.save(),a.scale(re,1),$/=re}else L!==Z&&($+=(L-Z)/2e3*i/o)}if(this.contentVisible&&(M.isInFont||r.missingFile)){if(w&&!z)a.fillText(V,$,I),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,a,K?{bbox:null}:r,i/o,$,I,()=>K??a.measureText(V));else if(this.paintChar(e,V,$,I,x,b),z){const Z=$+i*z.offset.x/o,re=I-i*z.offset.y/o;this.paintChar(e,z.fontChar,Z,re,x,b)}}const ie=m?L*_-R*h:L*_+R*h;j+=ie,U&&a.restore()}m?s.y-=j:s.x+=j*f,a.restore(),this.compose(),(F=this.dependencyTracker)==null||F.recordOperation(e).recordIncrementalData("sameLineText",e)}showType3Text(e,t){const s=this.ctx,r=this.current,i=r.font,a=r.fontSize,o=r.fontDirection,l=i.vertical?1:-1,d=r.charSpacing,h=r.wordSpacing,f=r.textHScale*o,p=r.fontMatrix||Bk,m=t.length,y=r.textRenderingMode===Yn.INVISIBLE;let g,_,w,x;if(y||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),s.scale(f,o);const b=this.dependencyTracker;for(this.dependencyTracker=b?new N0(b,e):null,g=0;g<m;++g){if(_=t[g],typeof _=="number"){x=l*_*a/1e3,this.ctx.translate(x,0),r.x+=x*f;continue}const S=(_.isSpace?h:0)+d,k=i.charProcOperatorList[_.operatorListId];k?this.contentVisible&&(this.save(),s.scale(a,a),s.transform(...p),this.executeOperatorList(k),this.restore()):Le(`Type3 character "${_.operatorListId}" is not available.`);const j=[_.width,0];me.applyTransform(j,p),w=j[0]*a+S,s.translate(w,0),r.x+=w*f}s.restore(),b&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=b)}setCharWidth(e,t,s){}setCharWidthAndBounds(e,t,s,r,i,a,o){var d;const l=new Path2D;l.rect(r,i,a-r,o-i),this.ctx.clip(l),(d=this.dependencyTracker)==null||d.recordBBox(e,this.ctx,r,a,i,o).recordClipBox(e,this.ctx,r,a,i,o),this.endPath(e)}getColorN_Pattern(e,t){let s;if(t[0]==="TilingPattern"){const r=this.baseTransform||Qt(this.ctx),i={createCanvasGraphics:a=>new mT(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new N0(this.dependencyTracker,e):null)};s=new hE(t,this.ctx,i,r)}else s=this._getPattern(e,t[1],t[2]);return s}setStrokeColorN(e,...t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,s=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=yJ(this.getObject(e,t)),this.cachedPatterns.set(t,r)),s&&(r.matrix=s),r}shadingFill(e,t){var a;if(!this.contentVisible)return;const s=this.ctx;this.save(e);const r=this._getPattern(e,t);s.fillStyle=r.getPattern(s,this,oa(s),ns.SHADING);const i=oa(s);if(i){const{width:o,height:l}=s.canvas,d=Ef.slice();me.axialAlignedBoundingBox([0,0,o,l],i,d);const[h,f,p,m]=d;this.ctx.fillRect(h,f,p-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Gr.transform).recordDependencies(e,Gr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Et("Should not call beginInlineImage")}beginImageData(){Et("Should not call beginImageData")}paintFormXObjectBegin(e,t,s){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Qt(this.ctx),s)){me.axialAlignedBoundingBox(s,this.baseTransform,this.current.minMax);const[i,a,o,l]=s,d=new Path2D;d.rect(i,a,o-i,l-a),this.ctx.clip(d),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,i,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var b;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||vS("TODO: Support non-isolated groups."),t.knockout&&Le("Knockout groups not supported.");const r=Qt(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=Ef.slice();me.axialAlignedBoundingBox(t.bbox,Qt(s),i);const a=[0,0,s.canvas.width,s.canvas.height];i=me.intersect(i,a)||[0,0,0,0];const o=Math.floor(i[0]),l=Math.floor(i[1]),d=Math.max(Math.ceil(i[2])-o,1),h=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,d,h]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,d,h),m=p.context;m.translate(-o,-l),m.transform(...r);let y=new Path2D;const[g,_,w,x]=t.bbox;if(y.rect(g,_,w-g,x-_),t.matrix){const S=new Path2D;S.addPath(y,new DOMMatrix(t.matrix)),y=S}m.clip(y),t.smask&&this.smaskStack.push({canvas:p.canvas,context:m,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(s.setTransform(1,0,0,1,0,0),s.translate(o,l),s.save()),og(s,m),this.ctx=m,(b=this.dependencyTracker)==null||b.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(s),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e,t){var i;if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(i=this.dependencyTracker)==null||i.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Qt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Ef.slice();me.axialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],a,o),this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,s,r,i,a){if(A(this,na,fE).call(this),zw(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const o=s[2]-s[0],l=s[3]-s[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=s[0],r[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=o,s[3]=l,me.singularValueDecompose2dScale(Qt(this.ctx),Dr);const{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(l*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(Dr[0],0,0,-Dr[1],0,l*Dr[1]),zw(this.ctx)}else{zw(this.ctx),this.endPath(e);const d=new Path2D;d.rect(s[0],s[1],o,l),this.ctx.clip(d)}}this.current=new n2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),A(this,na,pE).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const s=t.count;t=this.getObject(e,t.data,t),t.count=s;const r=this.ctx,i=this._createMaskCanvas(e,t),a=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,i.offsetX,i.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,i.offsetX,i.offsetX+a.width,i.offsetY,i.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s,r=0,i=0,a,o){var f,p,m;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const d=Qt(l);l.transform(s,r,i,a,0,0);const h=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),(f=this.dependencyTracker)==null||f.resetBBox(e);for(let y=0,g=o.length;y<g;y+=2){const _=me.transform(d,[s,r,i,a,o[y],o[y+1]]);l.drawImage(h.canvas,_[4],_[5]),(p=this.dependencyTracker)==null||p.recordBBox(e,this.ctx,_[4],_[4]+h.canvas.width,_[5],_[5]+h.canvas.height)}l.restore(),this.compose(),(m=this.dependencyTracker)==null||m.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const s=this.ctx,r=this.current.fillColor,i=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Gr.transformAndFill);for(const d of t){const{data:h,width:f,height:p,transform:m}=d,y=this.cachedCanvases.getCanvas("maskCanvas",f,p),g=y.context;g.save();const _=this.getObject(e,h,d);r2(g,_),g.globalCompositeOperation="source-in",g.fillStyle=i?r.getPattern(g,this,oa(s),ns.FILL):r,g.fillRect(0,0,f,p),g.restore(),s.save(),s.transform(...m),s.scale(1,-1),Bw(s,y.canvas,0,0,f,p,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,s,0,f,0,p),s.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){Le("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,s)}paintImageXObjectRepeat(e,t,s,r,i){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){Le("Dependent image isn't ready yet");return}const o=a.width,l=a.height,d=[];for(let h=0,f=i.length;h<f;h+=2)d.push({transform:[s,0,0,r,i[h],i[h+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",s,r),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e,t){var d;if(!this.contentVisible)return;const s=t.width,r=t.height,i=this.ctx;this.save(e);const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none"),i.scale(1/s,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",s,r).context;s2(f,t),o=this.applyTransferMapsToCanvas(f)}const l=this._scaleImage(o,oa(i));i.imageSmoothingEnabled=i2(Qt(i),t.interpolate),(d=this.dependencyTracker)==null||d.resetBBox(e).recordBBox(e,i,0,s,-r,0).recordDependencies(e,Gr.imageXObject).recordOperation(e),Bw(i,l.img,0,0,l.paintWidth,l.paintHeight,0,-r,s,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,s){var a,o,l;if(!this.contentVisible)return;const r=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const d=t.width,h=t.height,p=this.cachedCanvases.getCanvas("inlineImage",d,h).context;s2(p,t),i=this.applyTransferMapsToCanvas(p)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const d of s)r.save(),r.transform(...d.transform),r.scale(1,-1),Bw(r,i,d.x,d.y,d.w,d.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Gr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,s){}beginMarkedContent(e,t){var s;(s=this.dependencyTracker)==null||s.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,s){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,s){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const i=this.ctx;this.pendingClip?(r||(this.pendingClip===a2?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Qt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:r,d:i}=this.ctx.getTransform();let a,o;if(s===0&&r===0){const l=Math.abs(t),d=Math.abs(i);if(l===d)if(e===0)a=o=1/l;else{const h=l*e;a=o=h<1?1/h:1}else if(e===0)a=1/l,o=1/d;else{const h=l*e,f=d*e;a=h<1?1/h:1,o=f<1?1/f:1}}else{const l=Math.abs(t*i-s*r),d=Math.hypot(t,s),h=Math.hypot(r,i);if(e===0)a=h/l,o=d/l;else{const f=e*l;a=h>f?h/f:1,o=d>f?d/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:r}}=this,[i,a]=this.getScaleForStroking();if(i===a){s.lineWidth=(r||1)*i,s.stroke(e);return}const o=s.getLineDash();t&&s.save(),s.scale(i,a),Y1.a=1/i,Y1.d=1/a;const l=new Path2D;if(l.addPath(e,Y1),o.length>0){const d=Math.max(i,a);s.setLineDash(o.map(h=>h/d)),s.lineDashOffset/=d}s.lineWidth=r||1,s.stroke(l),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};na=new WeakSet,fE=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},pE=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},mE=function(e,t,s){const r=new Path2D;return r.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),r};let Bf=mT;for(const n in Iv)Bf.prototype[n]!==void 0&&(Bf.prototype[Iv[n]]=Bf.prototype[n]);var wy,by;class Ba{static get workerPort(){return u(this,wy)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");C(this,wy,e)}static get workerSrc(){return u(this,by)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");C(this,by,e)}}wy=new WeakMap,by=new WeakMap,E(Ba,wy,null),E(Ba,by,"");var Ep,_y;class EJ{constructor({parsedData:e,rawData:t}){E(this,Ep);E(this,_y);C(this,Ep,e),C(this,_y,t)}getRaw(){return u(this,_y)}get(e){return u(this,Ep).get(e)??null}[Symbol.iterator](){return u(this,Ep).entries()}}Ep=new WeakMap,_y=new WeakMap;const df=Symbol("INTERNAL");var Sy,Cy,ky,Ap;class AJ{constructor(e,{name:t,intent:s,usage:r,rbGroups:i}){E(this,Sy,!1);E(this,Cy,!1);E(this,ky,!1);E(this,Ap,!0);C(this,Sy,!!(e&Pr.DISPLAY)),C(this,Cy,!!(e&Pr.PRINT)),this.name=t,this.intent=s,this.usage=r,this.rbGroups=i}get visible(){if(u(this,ky))return u(this,Ap);if(!u(this,Ap))return!1;const{print:e,view:t}=this.usage;return u(this,Sy)?(t==null?void 0:t.viewState)!=="OFF":u(this,Cy)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==df&&Et("Internal method `_setVisible` called."),C(this,ky,s),C(this,Ap,t)}}Sy=new WeakMap,Cy=new WeakMap,ky=new WeakMap,Ap=new WeakMap;var bc,Ct,jp,Np,Ey,gE;class jJ{constructor(e,t=Pr.DISPLAY){E(this,Ey);E(this,bc,null);E(this,Ct,new Map);E(this,jp,null);E(this,Np,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,C(this,Np,e.order);for(const s of e.groups)u(this,Ct).set(s.id,new AJ(t,s));if(e.baseState==="OFF")for(const s of u(this,Ct).values())s._setVisible(df,!1);for(const s of e.on)u(this,Ct).get(s)._setVisible(df,!0);for(const s of e.off)u(this,Ct).get(s)._setVisible(df,!1);C(this,jp,this.getHash())}}isVisible(e){if(u(this,Ct).size===0)return!0;if(!e)return vS("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,Ct).has(e.id)?u(this,Ct).get(e.id).visible:(Le(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,Ey,gE).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!u(this,Ct).has(t))return Le(`Optional content group not found: ${t}`),!0;if(u(this,Ct).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!u(this,Ct).has(t))return Le(`Optional content group not found: ${t}`),!0;if(!u(this,Ct).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!u(this,Ct).has(t))return Le(`Optional content group not found: ${t}`),!0;if(!u(this,Ct).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!u(this,Ct).has(t))return Le(`Optional content group not found: ${t}`),!0;if(u(this,Ct).get(t).visible)return!1}return!0}return Le(`Unknown optional content policy ${e.policy}.`),!0}return Le(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var i;const r=u(this,Ct).get(e);if(!r){Le(`Optional content group not found: ${e}`);return}if(s&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((i=u(this,Ct).get(o))==null||i._setVisible(df,!1,!0));r._setVisible(df,!!t,!0),C(this,bc,null)}setOCGState({state:e,preserveRB:t}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const i=u(this,Ct).get(r);if(i)switch(s){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!i.visible,t);break}}C(this,bc,null)}get hasInitialVisibility(){return u(this,jp)===null||this.getHash()===u(this,jp)}getOrder(){return u(this,Ct).size?u(this,Np)?u(this,Np).slice():[...u(this,Ct).keys()]:null}getGroup(e){return u(this,Ct).get(e)||null}getHash(){if(u(this,bc)!==null)return u(this,bc);const e=new O$;for(const[t,s]of u(this,Ct))e.update(`${t}:${s.visible}`);return C(this,bc,e.hexdigest())}[Symbol.iterator](){return u(this,Ct).entries()}}bc=new WeakMap,Ct=new WeakMap,jp=new WeakMap,Np=new WeakMap,Ey=new WeakSet,gE=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let r=1;r<t;r++){const i=e[r];let a;if(Array.isArray(i))a=A(this,Ey,gE).call(this,i);else if(u(this,Ct).has(i))a=u(this,Ct).get(i).visible;else return Le(`Optional content group not found: ${i}`),!0;switch(s){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return s==="And"};class NJ{constructor(e,{disableRange:t=!1,disableStream:s=!1}){Cn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:i,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(i==null?void 0:i.length)>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,d)=>{this._onReceiveData({begin:l,chunk:d})}),e.addProgressListener((l,d)=>{this._onProgress({loaded:l,total:d})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(s),!0)});Cn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,r,i;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(i=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Cn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new TJ(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new PJ(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class TJ{constructor(e,t,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=yN(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PJ{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function RJ(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let h=o(t);return h=unescape(h),h=l(h),h=d(h),i(h)}if(t=a(n),t){const h=d(t);return i(h)}if(t=s("filename","i").exec(n),t){t=t[1];let h=o(t);return h=d(h),i(h)}function s(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function r(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(h,{fatal:!0}),m=Wx(f);f=p.decode(m),e=!1}catch{}}return f}function i(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function a(h){const f=[];let p;const m=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=m.exec(h))!==null;){let[,g,_,w]=p;if(g=parseInt(g,10),g in f){if(g===0)break;continue}f[g]=[_,w]}const y=[];for(let g=0;g<f.length&&g in f;++g){let[_,w]=f[g];w=o(w),_&&(w=unescape(w),g===0&&(w=l(w))),y.push(w)}return y.join("")}function o(h){if(h.startsWith('"')){const f=h.slice(1).split('\\"');for(let p=0;p<f.length;++p){const m=f[p].indexOf('"');m!==-1&&(f[p]=f[p].slice(0,m),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function l(h){const f=h.indexOf("'");if(f===-1)return h;const p=h.slice(0,f),y=h.slice(f+1).replace(/^[^']*'/,"");return r(p,y)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,m,y){if(m==="q"||m==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,_){return String.fromCharCode(parseInt(_,16))}),r(p,y);try{y=atob(y)}catch{}return r(p,y)})}return""}function G$(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const r=e[s];r!==void 0&&t.append(s,r)}return t}function wS(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function Y$({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(r.suggestedLength=i,i<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function K$(n){const e=n.get("Content-Disposition");if(e){let t=RJ(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(yN(t))return t}return null}function Kx(n,e){return new k0(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function X$(n){return n===200||n===206}function Q$(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Z$(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Le(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class DJ{constructor(e){ee(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=G$(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Cn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new MJ(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new OJ(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class MJ{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),r=t.url;fetch(r,Q$(s,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=wS(i.url),!X$(i.status))throw Kx(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const a=i.headers,{allowRangeRequests:o,suggestedLength:l}=Y$({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=K$(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new hd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Z$(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class OJ{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${s-1}`);const a=r.url;fetch(a,Q$(i,this._withCredentials,this._abortController)).then(o=>{const l=wS(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!X$(o.status))throw Kx(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:Z$(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const K1=200,X1=206;function IJ(n){const e=n.response;return typeof e!="string"?e:Wx(e).buffer}class LJ{constructor({url:e,httpHeaders:t,withCredentials:s}){ee(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=G$(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=X1):r.expectedStatus=K1,t.responseType="arraybuffer",Cn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,t))}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){s.onError(r.status);return}const i=r.status||K1;if(!(i===K1&&s.expectedStatus===X1)&&i!==s.expectedStatus){s.onError(r.status);return}const o=IJ(r);if(i===X1){const l=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);d?s.onDone({begin:parseInt(d[1],10),chunk:o}):(Le('Missing or invalid "Content-Range" header.'),s.onError(0))}else o?s.onDone({begin:0,chunk:o}):s.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class FJ{constructor(e){this._source=e,this._manager=new LJ(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Cn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $J(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new BJ(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class $J{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=wS(t.responseURL);const s=t.getAllResponseHeaders(),r=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...d]=o.split(": ");return[l,d.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:a}=Y$({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=K$(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Kx(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class BJ{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=wS((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Kx(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zJ=/^[a-z][a-z0-9\-+.]+:/i;function UJ(n){if(zJ.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class VJ{constructor(e){this.source=e,this.url=UJ(e.url),Cn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Cn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new HJ(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new WJ(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class HJ{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Kx(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new hd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class WJ{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const lg=Symbol("INITIAL_DATA");var xr,Ay,vE;class J${constructor(){E(this,Ay);E(this,xr,Object.create(null))}get(e,t=null){if(t){const r=A(this,Ay,vE).call(this,e);return r.promise.then(()=>t(r.data)),null}const s=u(this,xr)[e];if(!s||s.data===lg)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=u(this,xr)[e];return!!t&&t.data!==lg}delete(e){const t=u(this,xr)[e];return!t||t.data===lg?!1:(delete u(this,xr)[e],!0)}resolve(e,t=null){const s=A(this,Ay,vE).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in u(this,xr)){const{data:s}=u(this,xr)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}C(this,xr,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,xr)){const{data:t}=u(this,xr)[e];t!==lg&&(yield[e,t])}}}xr=new WeakMap,Ay=new WeakSet,vE=function(e){var t;return(t=u(this,xr))[e]||(t[e]={...Promise.withResolvers(),data:lg})};const qJ=1e5,o2=30;var CD,_c,Gs,jy,Ny,ku,Fo,Ty,Py,Eu,Tp,Pp,Sc,Rp,Ry,Dp,Au,Dy,My,Mp,ju,Oy,Cc,Op,wl,e3,t3,yE,Br,xb,xE,n3,s3;const jn=class jn{constructor({textContentSource:e,container:t,viewport:s}){E(this,wl);E(this,_c,Promise.withResolvers());E(this,Gs,null);E(this,jy,!1);E(this,Ny,!!((CD=globalThis.FontInspector)!=null&&CD.enabled));E(this,ku,null);E(this,Fo,null);E(this,Ty,0);E(this,Py,0);E(this,Eu,null);E(this,Tp,null);E(this,Pp,0);E(this,Sc,0);E(this,Rp,Object.create(null));E(this,Ry,[]);E(this,Dp,null);E(this,Au,[]);E(this,Dy,new WeakMap);E(this,My,null);var l;if(e instanceof ReadableStream)C(this,Dp,e);else if(typeof e=="object")C(this,Dp,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');C(this,Gs,C(this,Tp,t)),C(this,Sc,s.scale*Za.pixelRatio),C(this,Pp,s.rotation),C(this,Fo,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:a,pageY:o}=s.rawDims;C(this,My,[1,0,0,-1,-a,o+i]),C(this,Py,r),C(this,Ty,i),A(l=jn,Br,n3).call(l),bh(t,s),u(this,_c).promise.finally(()=>{u(jn,Op).delete(this),C(this,Fo,null),C(this,Rp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=os.platform;return Ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,Eu).read().then(({value:t,done:s})=>{if(s){u(this,_c).resolve();return}u(this,ku)??C(this,ku,t.lang),Object.assign(u(this,Rp),t.styles),A(this,wl,e3).call(this,t.items),e()},u(this,_c).reject)};return C(this,Eu,u(this,Dp).getReader()),u(jn,Op).add(this),e(),u(this,_c).promise}update({viewport:e,onBefore:t=null}){var i;const s=e.scale*Za.pixelRatio,r=e.rotation;if(r!==u(this,Pp)&&(t==null||t(),C(this,Pp,r),bh(u(this,Tp),{rotation:r})),s!==u(this,Sc)){t==null||t(),C(this,Sc,s);const a={div:null,properties:null,ctx:A(i=jn,Br,xb).call(i,u(this,ku))};for(const o of u(this,Au))a.properties=u(this,Dy).get(o),a.div=o,A(this,wl,yE).call(this,a)}}cancel(){var t;const e=new hd("TextLayer task cancelled.");(t=u(this,Eu))==null||t.cancel(e).catch(()=>{}),C(this,Eu,null),u(this,_c).reject(e)}get textDivs(){return u(this,Au)}get textContentItemsStr(){return u(this,Ry)}static cleanup(){if(!(u(this,Op).size>0)){u(this,Mp).clear();for(const{canvas:e}of u(this,ju).values())e.remove();u(this,ju).clear()}}};_c=new WeakMap,Gs=new WeakMap,jy=new WeakMap,Ny=new WeakMap,ku=new WeakMap,Fo=new WeakMap,Ty=new WeakMap,Py=new WeakMap,Eu=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,Sc=new WeakMap,Rp=new WeakMap,Ry=new WeakMap,Dp=new WeakMap,Au=new WeakMap,Dy=new WeakMap,My=new WeakMap,Mp=new WeakMap,ju=new WeakMap,Oy=new WeakMap,Cc=new WeakMap,Op=new WeakMap,wl=new WeakSet,e3=function(e){var r,i;if(u(this,jy))return;(i=u(this,Fo)).ctx??(i.ctx=A(r=jn,Br,xb).call(r,u(this,ku)));const t=u(this,Au),s=u(this,Ry);for(const a of e){if(t.length>qJ){Le("Ignoring additional textDivs for performance reasons."),C(this,jy,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=u(this,Gs);C(this,Gs,document.createElement("span")),u(this,Gs).classList.add("markedContent"),a.id&&u(this,Gs).setAttribute("id",`${a.id}`),o.append(u(this,Gs))}else a.type==="endMarkedContent"&&C(this,Gs,u(this,Gs).parentNode);continue}s.push(a.str),A(this,wl,t3).call(this,a)}},t3=function(e){var g;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,Au).push(t);const r=me.transform(u(this,My),e.transform);let i=Math.atan2(r[1],r[0]);const a=u(this,Rp)[e.fontName];a.vertical&&(i+=Math.PI/2);let o=u(this,Ny)&&a.fontSubstitution||a.fontFamily;o=jn.fontFamilyMap.get(o)||o;const l=Math.hypot(r[2],r[3]),d=l*A(g=jn,Br,s3).call(g,o,a,u(this,ku));let h,f;i===0?(h=r[4],f=r[5]-d):(h=r[4]+d*Math.sin(i),f=r[5]-d*Math.cos(i));const p="calc(var(--total-scale-factor) *",m=t.style;u(this,Gs)===u(this,Tp)?(m.left=`${(100*h/u(this,Py)).toFixed(2)}%`,m.top=`${(100*f/u(this,Ty)).toFixed(2)}%`):(m.left=`${p}${h.toFixed(2)}px)`,m.top=`${p}${f.toFixed(2)}px)`),m.fontSize=`${p}${(u(jn,Cc)*l).toFixed(2)}px)`,m.fontFamily=o,s.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,u(this,Ny)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),i!==0&&(s.angle=i*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);_!==w&&Math.max(_,w)/Math.min(_,w)>1.5&&(y=!0)}if(y&&(s.canvasWidth=a.vertical?e.height:e.width),u(this,Dy).set(t,s),u(this,Fo).div=t,u(this,Fo).properties=s,A(this,wl,yE).call(this,u(this,Fo)),s.hasText&&u(this,Gs).append(t),s.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),u(this,Gs).append(_)}},yE=function(e){var o;const{div:t,properties:s,ctx:r}=e,{style:i}=t;let a="";if(u(jn,Cc)>1&&(a=`scale(${1/u(jn,Cc)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:l}=i,{canvasWidth:d,fontSize:h}=s;A(o=jn,Br,xE).call(o,r,h*u(this,Sc),l);const{width:f}=r.measureText(t.textContent);f>0&&(a=`scaleX(${d*u(this,Sc)/f}) ${a}`)}s.angle!==0&&(a=`rotate(${s.angle}deg) ${a}`),a.length>0&&(i.transform=a)},Br=new WeakSet,xb=function(e=null){let t=u(this,ju).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,ju).set(e,t),u(this,Oy).set(t,{size:0,family:""})}return t},xE=function(e,t,s){const r=u(this,Oy).get(e);t===r.size&&s===r.family||(e.font=`${t}px ${s}`,r.size=t,r.family=s)},n3=function(){if(u(this,Cc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),C(this,Cc,e.getBoundingClientRect().height),e.remove()},s3=function(e,t,s){const r=u(this,Mp).get(e);if(r)return r;const i=A(this,Br,xb).call(this,s);i.canvas.width=i.canvas.height=o2,A(this,Br,xE).call(this,i,o2,e);const a=i.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let d=.8;return o?d=o/(o+l):(os.platform.isFirefox&&Le("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?d=t.ascent:t.descent&&(d=1+t.descent)),u(this,Mp).set(e,d),d},E(jn,Br),E(jn,Mp,new Map),E(jn,ju,new Map),E(jn,Oy,new WeakMap),E(jn,Cc,null),E(jn,Op,new Set);let Lv=jn;class Fv{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function r(i){var l;if(!i)return;let a=null;const o=i.name;if(o==="#text")a=i.value;else if(Fv.shouldBuildText(o))(l=i==null?void 0:i.attributes)!=null&&l.textContent?a=i.attributes.textContent:i.value&&(a=i.value);else return;if(a!==null&&t.push({str:a}),!!i.children)for(const d of i.children)r(d)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const GJ=100;function YJ(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new wE,{docId:t}=e,s=n.url?tJ(n.url):null,r=n.data?nJ(n.data):null,i=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof r3?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof $v?n.worker:null;const f=n.verbosity,p=typeof n.docBaseUrl=="string"&&!yS(n.docBaseUrl)?n.docBaseUrl:null,m=Fw(n.cMapUrl),y=n.cMapPacked!==!1,g=n.CMapReaderFactory||(Ns?dJ:KR),_=Fw(n.iccUrl),w=Fw(n.standardFontDataUrl),x=n.StandardFontDataFactory||(Ns?uJ:XR),b=Fw(n.wasmUrl),S=n.WasmFactory||(Ns?hJ:QR),k=n.stopAtErrors!==!0,j=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,N=n.isEvalSupported!==!1,P=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ns,D=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ns&&(os.platform.isFirefox||!globalThis.chrome),T=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,F=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ns,M=n.fontExtraProperties===!0,U=n.enableXfa===!0,R=n.ownerDocument||globalThis.document,V=n.disableRange===!0,z=n.disableStream===!0,$=n.disableAutoFetch===!0,I=n.pdfBug===!0,L=n.CanvasFactory||(Ns?cJ:aJ),K=n.FilterFactory||(Ns?lJ:oJ),ie=n.enableHWA===!0,Z=n.useWasm!==!1,re=l?l.length:n.length??NaN,he=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ns&&!F,De=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===KR&&x===XR&&S===QR&&m&&w&&b&&wg(m,document.baseURI)&&wg(w,document.baseURI)&&wg(b,document.baseURI)),je=null;DZ(f);const X={canvasFactory:new L({ownerDocument:R,enableHWA:ie}),filterFactory:new K({docId:t,ownerDocument:R}),cMapReaderFactory:De?null:new g({baseUrl:m,isCompressed:y}),standardFontDataFactory:De?null:new x({baseUrl:w}),wasmFactory:De?null:new S({baseUrl:b})};h||(h=$v.create({verbosity:f,port:Ba.workerPort}),e._worker=h);const He={docId:t,apiVersion:"5.4.149",data:r,password:o,disableAutoFetch:$,rangeChunkSize:d,length:re,docBaseUrl:p,enableXfa:U,evaluatorOptions:{maxImageSize:j,disableFontFace:F,ignoreErrors:k,isEvalSupported:N,isOffscreenCanvasSupported:P,isImageDecoderSupported:D,canvasMaxAreaInBytes:T,fontExtraProperties:M,useSystemFonts:he,useWasm:Z,useWorkerFetch:De,cMapUrl:m,iccUrl:_,standardFontDataUrl:w,wasmUrl:b}},Be={ownerDocument:R,pdfBug:I,styleElement:je,loadingParams:{disableAutoFetch:$,enableXfa:U}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Re=h.messageHandler.sendWithPromise("GetDocRequest",He,r?[r.buffer]:null);let Te;if(l)Te=new NJ(l,{disableRange:V,disableStream:z});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");const Ne=wg(s)?DJ:Ns?VJ:FJ;Te=new Ne({url:s,length:re,httpHeaders:i,withCredentials:a,rangeChunkSize:d,disableRange:V,disableStream:z})}return Re.then(Ne=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const zt=new Eg(t,Ne,h.port),gn=new QJ(zt,e,Te,Be,X,ie);e._transport=gn,zt.send("Ready",null)})}).catch(e._capability.reject),e}var d_;const u_=class u_{constructor(){ee(this,"_capability",Promise.withResolvers());ee(this,"_transport",null);ee(this,"_worker",null);ee(this,"docId",`d${nn(u_,d_)._++}`);ee(this,"destroyed",!1);ee(this,"onPassword",null);ee(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,s,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};d_=new WeakMap,E(u_,d_,0);let wE=u_;var Nu,Iy,Ly,Fy,$y;class r3{constructor(e,t,s=!1,r=null){E(this,Nu,Promise.withResolvers());E(this,Iy,[]);E(this,Ly,[]);E(this,Fy,[]);E(this,$y,[]);this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=r}addRangeListener(e){u(this,$y).push(e)}addProgressListener(e){u(this,Fy).push(e)}addProgressiveReadListener(e){u(this,Ly).push(e)}addProgressiveDoneListener(e){u(this,Iy).push(e)}onDataRange(e,t){for(const s of u(this,$y))s(e,t)}onDataProgress(e,t){u(this,Nu).promise.then(()=>{for(const s of u(this,Fy))s(e,t)})}onDataProgressiveRead(e){u(this,Nu).promise.then(()=>{for(const t of u(this,Ly))t(e)})}onDataProgressiveDone(){u(this,Nu).promise.then(()=>{for(const e of u(this,Iy))e()})}transportReady(){u(this,Nu).resolve()}requestDataRange(e,t){Et("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Nu=new WeakMap,Iy=new WeakMap,Ly=new WeakMap,Fy=new WeakMap,$y=new WeakMap;class KJ{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var $o,Tu,Pg;class XJ{constructor(e,t,s,r=!1){E(this,Tu);E(this,$o,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=r?new qR:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new J$,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:i=!1}={}){return new Gx({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:s,intent:r="display",annotationMode:i=Wl.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:f=null,isEditing:p=!1,recordOperations:m=!1,filteredOperationIndexes:y=null}){var P,D,T;(P=this._stats)==null||P.time("Overall");const g=this._transport.getRenderingIntent(r,i,f,p),{renderingIntent:_,cacheKey:w}=g;C(this,$o,!1),l||(l=this._transport.getOptionalContentConfig(_));let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const b=!!(_&Pr.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(g));const S=!this.recordedGroups&&(m||this._pdfBug&&((T=globalThis.StepperManager)==null?void 0:T.enabled)),k=F=>{var M,U,R;if(x.renderTasks.delete(j),S){const V=(M=j.gfx)==null?void 0:M.dependencyTracker.take();V?((U=j.stepper)==null||U.setOperatorGroups(V),m&&(this.recordedGroups=V)):m&&(this.recordedGroups=[])}b&&C(this,$o,!0),A(this,Tu,Pg).call(this),F?(j.capability.reject(F),this._abortOperatorList({intentState:x,reason:F instanceof Error?F:new Error(F)})):j.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(R=globalThis.Stats)!=null&&R.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},j=new bE({callback:k,params:{canvas:t,canvasContext:e,dependencyTracker:S?new fJ(t):null,viewport:s,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,filteredOperationIndexes:y});(x.renderTasks||(x.renderTasks=new Set)).add(j);const N=j.task;return Promise.all([x.displayReadyCapability.promise,l]).then(([F,M])=>{var U;if(this.destroyed){k();return}if((U=this._stats)==null||U.time("Rendering"),!(M.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");j.initializeGraphics({transparency:F,optionalContentConfig:M}),j.operatorListChanged()}).catch(k),N}getOperatorList({intent:e="display",annotationMode:t=Wl.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var d;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,s,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Fv.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,r){function i(){a.read().then(function({value:l,done:d}){if(d){s(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),i()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),C(this,$o,!1),Promise.all(e)}cleanup(e=!1){C(this,$o,!0);const t=A(this,Tu,Pg).call(this);return e&&t&&this._stats&&(this._stats=new qR),t}_startRenderPage(e,t){var r,i;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=s.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let s=0,r=e.length;s<r;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&A(this,Tu,Pg).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:r}){const{map:i,transfer:a}=s,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:r},a).getReader(),d=this._intentStates.get(t);d.streamReader=l;const h=()=>{l.read().then(({value:f,done:p})=>{if(p){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,d),h())},f=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const p of d.renderTasks)p.operatorListChanged();A(this,Tu,Pg).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(f);else if(d.opListReadCapability)d.opListReadCapability.reject(f);else throw f}})};h()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof vN){let r=GJ;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new hd(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,i]of this._intentStates)if(i===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}$o=new WeakMap,Tu=new WeakSet,Pg=function(){if(!u(this,$o)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),C(this,$o,!1),!0};var kc,Mi,Bo,Pu,h_,Ru,Du,Os,wb,i3,a3,Rg,Ip,bb;const Vt=class Vt{constructor({name:e=null,port:t=null,verbosity:s=MZ()}={}){E(this,Os);E(this,kc,Promise.withResolvers());E(this,Mi,null);E(this,Bo,null);E(this,Pu,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(u(Vt,Du).has(t))throw new Error("Cannot use more than one PDFWorker per port.");u(Vt,Du).set(t,this),A(this,Os,i3).call(this,t)}else A(this,Os,a3).call(this)}get promise(){return u(this,kc).promise}get port(){return u(this,Bo)}get messageHandler(){return u(this,Mi)}destroy(){var e,t;this.destroyed=!0,(e=u(this,Pu))==null||e.terminate(),C(this,Pu,null),u(Vt,Du).delete(u(this,Bo)),C(this,Bo,null),(t=u(this,Mi))==null||t.destroy(),C(this,Mi,null)}static create(e){const t=u(this,Du).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Vt(e)}static get workerSrc(){if(Ba.workerSrc)return Ba.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>u(this,Ip,bb)?u(this,Ip,bb):(await import(this.workerSrc)).WorkerMessageHandler)())}};kc=new WeakMap,Mi=new WeakMap,Bo=new WeakMap,Pu=new WeakMap,h_=new WeakMap,Ru=new WeakMap,Du=new WeakMap,Os=new WeakSet,wb=function(){u(this,kc).resolve(),u(this,Mi).send("configure",{verbosity:this.verbosity})},i3=function(e){C(this,Bo,e),C(this,Mi,new Eg("main","worker",e)),u(this,Mi).on("ready",()=>{}),A(this,Os,wb).call(this)},a3=function(){if(u(Vt,Ru)||u(Vt,Ip,bb)){A(this,Os,Rg).call(this);return}let{workerSrc:e}=Vt;try{Vt._isSameOrigin(window.location,e)||(e=Vt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new Eg("main","worker",t),r=()=>{i.abort(),s.destroy(),t.terminate(),this.destroyed?u(this,kc).reject(new Error("Worker was destroyed")):A(this,Os,Rg).call(this)},i=new AbortController;t.addEventListener("error",()=>{u(this,Pu)||r()},{signal:i.signal}),s.on("test",o=>{if(i.abort(),this.destroyed||!o){r();return}C(this,Mi,s),C(this,Bo,t),C(this,Pu,t),A(this,Os,wb).call(this)}),s.on("ready",o=>{if(i.abort(),this.destroyed){r();return}try{a()}catch{A(this,Os,Rg).call(this)}});const a=()=>{const o=new Uint8Array;s.send("test",o,[o.buffer])};a();return}catch{vS("The worker has been disabled.")}A(this,Os,Rg).call(this)},Rg=function(){u(Vt,Ru)||(Le("Setting up fake worker."),C(Vt,Ru,!0)),Vt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){u(this,kc).reject(new Error("Worker was destroyed"));return}const t=new iJ;C(this,Bo,t);const s=`fake${nn(Vt,h_)._++}`,r=new Eg(s+"_worker",s,t);e.setup(r,t),C(this,Mi,new Eg(s,s+"_worker",t)),A(this,Os,wb).call(this)}).catch(e=>{u(this,kc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Ip=new WeakSet,bb=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(Vt,Ip),E(Vt,h_,0),E(Vt,Ru,!1),E(Vt,Du,new WeakMap),Ns&&(C(Vt,Ru,!0),Ba.workerSrc||(Ba.workerSrc="./pdf.worker.mjs")),Vt._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!(s!=null&&s.origin)||s.origin==="null")return!1;const r=new URL(t,s);return s.origin===r.origin},Vt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Vt.fromPort=e=>{if(qZ("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Vt.create(e)};let $v=Vt;var zo,ja,Lp,Fp,Uo,Mu,Dg;class QJ{constructor(e,t,s,r,i,a){E(this,Mu);E(this,zo,new Map);E(this,ja,new Map);E(this,Lp,new Map);E(this,Fp,new Map);E(this,Uo,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new J$,this.fontLoader=new JZ({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Ze(this,"annotationStorage",new xN)}getRenderingIntent(e,t=Wl.ENABLE,s=null,r=!1,i=!1){let a=Pr.DISPLAY,o=oE;switch(e){case"any":a=Pr.ANY;break;case"display":break;case"print":a=Pr.PRINT;break;default:Le(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Pr.PRINT&&s instanceof L$?s:this.annotationStorage;switch(t){case Wl.DISABLE:a+=Pr.ANNOTATIONS_DISABLE;break;case Wl.ENABLE:break;case Wl.ENABLE_FORMS:a+=Pr.ANNOTATIONS_FORMS;break;case Wl.ENABLE_STORAGE:a+=Pr.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Le(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=Pr.IS_EDITING),i&&(a+=Pr.OPLIST);const{ids:d,hash:h}=l.modifiedIds,f=[a,o.hash,h];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:d}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=u(this,Uo))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of u(this,ja).values())e.push(r._destroy());u(this,ja).clear(),u(this,Lp).clear(),u(this,Fp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,i;this.commonObjs.clear(),this.fontLoader.clear(),u(this,zo).clear(),this.filterFactory.destroy(),Lv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new hd("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,r)=>{Cn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},r.onPull=()=>{this._fullReader.read().then(function({value:i,done:a}){if(a){r.close();return}Cn(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{r.error(i)})},r.onCancel=i=>{this._fullReader.cancel(i),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async s=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:i,contentLength:a}=this._fullReader;return(!r||!i)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:i,contentLength:a}}),e.on("GetRangeReader",(s,r)=>{Cn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(s.begin,s.end);if(!i){r.close();return}r.onPull=()=>{i.read().then(function({value:a,done:o}){if(o){r.close();return}Cn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{i.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new KJ(s,this))}),e.on("DocException",s=>{t._capability.reject(Hs(s))}),e.on("PasswordRequest",s=>{C(this,Uo,Promise.withResolvers());try{if(!t.onPassword)throw Hs(s);const r=i=>{i instanceof Error?u(this,Uo).reject(i):u(this,Uo).resolve({password:i})};t.onPassword(r,s.code)}catch(r){u(this,Uo).reject(r)}return u(this,Uo).promise}),e.on("DataLoaded",s=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;u(this,ja).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,i])=>{var a;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":if("error"in i){const h=i.error;Le(`Error during font loading: ${h}`),this.commonObjs.resolve(s,h);break}const o=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,l=new eJ(i,o);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(s,l)});break;case"CopyLocalImage":const{imageRef:d}=i;Cn(d,"The imageRef must be defined.");for(const h of u(this,ja).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===d)return f.dataLen?(this.commonObjs.resolve(s,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,i,a])=>{var l;if(this.destroyed)return;const o=u(this,ja).get(r);if(!o.objs.has(s)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(i){case"Image":case"Pattern":o.objs.resolve(s,a);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[s.type];if(!r)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Le("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=u(this,Lp).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&u(this,Fp).set(i.refStr,e);const a=new XJ(t,i,this,this._params.pdfBug);return u(this,ja).set(t,a),a});return u(this,Lp).set(t,r),r}getPageIndex(e){return lE(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,Mu,Dg).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Mu,Dg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return A(this,Mu,Dg).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,Mu,Dg).call(this,"GetOptionalContentConfig").then(t=>new jJ(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=u(this,zo).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var i,a;return{info:r[0],metadata:r[1]?new EJ(r[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return u(this,zo).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of u(this,ja).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,zo).clear(),this.filterFactory.destroy(!0),Lv.cleanup()}}cachedPageNumber(e){if(!lE(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,Fp).get(t)??null}}zo=new WeakMap,ja=new WeakMap,Lp=new WeakMap,Fp=new WeakMap,Uo=new WeakMap,Mu=new WeakSet,Dg=function(e,t=null){const s=u(this,zo).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,t);return u(this,zo).set(e,r),r};var Ec;class ZJ{constructor(e){E(this,Ec,null);ee(this,"onContinue",null);ee(this,"onError",null);C(this,Ec,e)}get promise(){return u(this,Ec).capability.promise}cancel(e=0){u(this,Ec).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,Ec).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=u(this,Ec);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ec=new WeakMap;var Ac,Ou;const Gd=class Gd{constructor({callback:e,params:t,objs:s,commonObjs:r,annotationCanvasMap:i,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:p=null,enableHWA:m=!1,filteredOperationIndexes:y=null}){E(this,Ac,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=d,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ZJ(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=m,this._dependencyTracker=t.dependencyTracker,this._filteredOperationIndexes=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,d;if(this.cancelled)return;if(this._canvas){if(u(Gd,Ou).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Gd,Ou).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:r,background:i,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Bf(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:s,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var s,r,i;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),u(this,Ac)&&(window.cancelAnimationFrame(u(this,Ac)),C(this,Ac,null)),u(Gd,Ou).delete(this._canvas),e||(e=new vN(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(i=(r=this.task).onError)==null||i.call(r,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?C(this,Ac,window.requestAnimationFrame(()=>{C(this,Ac,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Gd,Ou).delete(this._canvas),this.callback())))}};Ac=new WeakMap,Ou=new WeakMap,E(Gd,Ou,new WeakSet);let bE=Gd;const o3="5.4.149",JJ="9e2e9e209";var wr,Iu,$p,Rn,By,Bp,Vo,zy,jc,Oi,Uy,kt,_E,SE,CE,Bd,l3,Fl;const Ws=class Ws{constructor({editor:e=null,uiManager:t=null}){E(this,kt);E(this,wr,null);E(this,Iu,null);E(this,$p);E(this,Rn,null);E(this,By,!1);E(this,Bp,!1);E(this,Vo,null);E(this,zy);E(this,jc,null);E(this,Oi,null);var s,r;e?(C(this,Bp,!1),C(this,Vo,e)):C(this,Bp,!0),C(this,Oi,(e==null?void 0:e._uiManager)||t),C(this,zy,u(this,Oi)._eventBus),C(this,$p,((s=e==null?void 0:e.color)==null?void 0:s.toUpperCase())||((r=u(this,Oi))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),u(Ws,Uy)||C(Ws,Uy,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ze(this,"_keyboardManager",new Yx([[["Escape","mac+Escape"],Ws.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ws.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ws.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ws.prototype._moveToPrevious],[["Home","mac+Home"],Ws.prototype._moveToBeginning],[["End","mac+End"],Ws.prototype._moveToEnd]]))}renderButton(){const e=C(this,wr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",u(this,Vo)&&(e.ariaControls=`${u(this,Vo).id}_colorpicker_dropdown`);const t=u(this,Oi)._signal;e.addEventListener("click",A(this,kt,Bd).bind(this),{signal:t}),e.addEventListener("keydown",A(this,kt,CE).bind(this),{signal:t});const s=C(this,Iu,document.createElement("span"));return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=u(this,$p),e.append(s),e}renderMainDropdown(){const e=C(this,Rn,A(this,kt,_E).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===u(this,wr)){A(this,kt,Bd).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,kt,SE).call(this,t,e)}_moveToNext(e){var t,s;if(!u(this,kt,Fl)){A(this,kt,Bd).call(this,e);return}if(e.target===u(this,wr)){(t=u(this,Rn).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=u(this,Rn))==null?void 0:t.firstChild)||e.target===u(this,wr)){u(this,kt,Fl)&&this._hideDropdownFromKeyboard();return}u(this,kt,Fl)||A(this,kt,Bd).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!u(this,kt,Fl)){A(this,kt,Bd).call(this,e);return}(t=u(this,Rn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!u(this,kt,Fl)){A(this,kt,Bd).call(this,e);return}(t=u(this,Rn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=u(this,Rn))==null||e.classList.add("hidden"),u(this,wr).ariaExpanded="false",(t=u(this,jc))==null||t.abort(),C(this,jc,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,Bp)){if(!u(this,kt,Fl)){(e=u(this,Vo))==null||e.unselect();return}this.hideDropdown(),u(this,wr).focus({preventScroll:!0,focusVisible:u(this,By)})}}updateColor(e){if(u(this,Iu)&&(u(this,Iu).style.backgroundColor=e),!u(this,Rn))return;const t=u(this,Oi).highlightColors.values();for(const s of u(this,Rn).children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=u(this,wr))==null||e.remove(),C(this,wr,null),C(this,Iu,null),(t=u(this,Rn))==null||t.remove(),C(this,Rn,null)}};wr=new WeakMap,Iu=new WeakMap,$p=new WeakMap,Rn=new WeakMap,By=new WeakMap,Bp=new WeakMap,Vo=new WeakMap,zy=new WeakMap,jc=new WeakMap,Oi=new WeakMap,Uy=new WeakMap,kt=new WeakSet,_E=function(){const e=document.createElement("div"),t=u(this,Oi)._signal;e.addEventListener("contextmenu",mi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),u(this,Vo)&&(e.id=`${u(this,Vo).id}_colorpicker_dropdown`);for(const[s,r]of u(this,Oi).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=s,i.setAttribute("data-l10n-id",u(Ws,Uy)[s]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=r,i.ariaSelected=r===u(this,$p),i.addEventListener("click",A(this,kt,SE).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",A(this,kt,CE).bind(this),{signal:t}),e},SE=function(e,t){t.stopPropagation(),u(this,zy).dispatch("switchannotationeditorparams",{source:this,type:st.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},CE=function(e){Ws._keyboardManager.exec(this,e)},Bd=function(e){if(u(this,kt,Fl)){this.hideDropdown();return}if(C(this,By,e.detail===0),u(this,jc)||(C(this,jc,new AbortController),window.addEventListener("pointerdown",A(this,kt,l3).bind(this),{signal:u(this,Oi).combinedSignal(u(this,jc))})),u(this,wr).ariaExpanded="true",u(this,Rn)){u(this,Rn).classList.remove("hidden");return}const t=C(this,Rn,A(this,kt,_E).call(this));u(this,wr).append(t)},l3=function(e){var t;(t=u(this,Rn))!=null&&t.contains(e.target)||this.hideDropdown()},Fl=function(){return u(this,Rn)&&!u(this,Rn).classList.contains("hidden")},E(Ws,Uy,null);let T0=Ws;var Na,Vy,zp,Hy;const Yd=class Yd{constructor(e){E(this,Na,null);E(this,Vy,null);E(this,zp,null);C(this,Vy,e),C(this,zp,e._uiManager),u(Yd,Hy)||C(Yd,Hy,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(u(this,Na))return u(this,Na);const{editorType:e,colorType:t,colorValue:s}=u(this,Vy),r=C(this,Na,document.createElement("input"));return r.type="color",r.value=s||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",u(Yd,Hy)[e]),r.addEventListener("input",()=>{u(this,zp).updateParams(t,r.value)},{signal:u(this,zp)._signal}),r}update(e){u(this,Na)&&(u(this,Na).value=e)}destroy(){var e;(e=u(this,Na))==null||e.remove(),C(this,Na,null)}hideDropdown(){}};Na=new WeakMap,Vy=new WeakMap,zp=new WeakMap,Hy=new WeakMap,E(Yd,Hy,null);let P0=Yd;function l2(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function cg(n){return Math.max(0,Math.min(255,255*n))}class c2{static CMYK_G([e,t,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=cg(e),[e,e,e]}static G_HTML([e]){const t=l2(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(cg)}static RGB_HTML(e){return`#${e.map(l2).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,s,r]){return[cg(1-Math.min(1,e+r)),cg(1-Math.min(1,s+r)),cg(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const r=1-e,i=1-t,a=1-s,o=Math.min(r,i,a);return["CMYK",r,i,a,o]}}class eee{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Et("Abstract method `_createSVG` called.")}}class R0 extends eee{_createSVG(e){return document.createElementNS(uo,e)}}class c3{static setupStorage(e,t,s,r,i){const a=r.getValue(t,{value:null});switch(s.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),i==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(a.value===s.attributes.xfaOn?e.setAttribute("checked",!0):a.value===s.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),i==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of s.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,d=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:r,linkService:i}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[l,d]of Object.entries(a))if(d!=null)switch(l){case"class":d.length&&e.setAttribute(l,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,d)}o&&i.addLinkAttributes(e,a.href,a.newWindow),s&&a.dataId&&this.setupStorage(e,a.dataId,t,s)}static render(e){var f,p;const t=e.annotationStorage,s=e.linkService,r=e.xfaHtml,i=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:i,linkService:s});const o=i!=="richText",l=e.div;if(l.append(a),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}o&&l.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);a.append(m),o&&Fv.shouldBuildText(r.name)&&d.push(m)}return{textDivs:d}}const h=[[r,-1,a]];for(;h.length>0;){const[m,y,g]=h.at(-1);if(y+1===m.children.length){h.pop();continue}const _=m.children[++h.at(-1)[1]];if(_===null)continue;const{name:w}=_;if(w==="#text"){const b=document.createTextNode(_.value);d.push(b),g.append(b);continue}const x=(f=_==null?void 0:_.attributes)!=null&&f.xmlns?document.createElementNS(_.attributes.xmlns,w):document.createElement(w);if(g.append(x),_.attributes&&this.setAttributes({html:x,element:_,storage:t,intent:i,linkService:s}),((p=_.children)==null?void 0:p.length)>0)h.push([_,-1,x]);else if(_.value){const b=document.createTextNode(_.value);o&&Fv.shouldBuildText(w)&&d.push(b),x.append(b)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const tee=9,Sh=new WeakSet,nee=new Date().getTimezoneOffset()*60*1e3;class d2{static create(e){switch(e.data.annotationType){case xn.LINK:return new _N(e);case xn.TEXT:return new see(e);case xn.WIDGET:switch(e.data.fieldType){case"Tx":return new ree(e);case"Btn":return e.data.radioButton?new f3(e):e.data.checkBox?new aee(e):new oee(e);case"Ch":return new lee(e);case"Sig":return new iee(e)}return new Uh(e);case xn.POPUP:return new EE(e);case xn.FREETEXT:return new w3(e);case xn.LINE:return new dee(e);case xn.SQUARE:return new uee(e);case xn.CIRCLE:return new hee(e);case xn.POLYLINE:return new b3(e);case xn.CARET:return new pee(e);case xn.INK:return new SN(e);case xn.POLYGON:return new fee(e);case xn.HIGHLIGHT:return new _3(e);case xn.UNDERLINE:return new mee(e);case xn.SQUIGGLY:return new gee(e);case xn.STRIKEOUT:return new vee(e);case xn.STAMP:return new S3(e);case xn.FILEATTACHMENT:return new yee(e);default:return new mn(e)}}}var Lu,Up,Ho,Ph,d3,kE;const gT=class gT{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){E(this,Ph);E(this,Lu,null);E(this,Up,!1);E(this,Ho,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return gT._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:e,rect:t}=this.data;let s=-1/0,r=-1/0;if((e==null?void 0:e.length)>=8){for(let i=0;i<e.length;i+=8)e[i+1]>r?(r=e[i+1],s=e[i+2]):e[i+1]===r&&(s=Math.max(s,e[i+2]));return[s,r]}return t?[t[2],t[3]]:null}get commentButtonColor(){if(!this.data.color)return null;const[e,t,s]=this.data.color,i=255*(1-(this.data.opacity??1));return A(this,Ph,d3).call(this,Math.min(e+i,255),Math.min(t+i,255),Math.min(s+i,255))}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:i,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-i)/s,e[1]=100*(e[1]-a)/r,e}updateEdited(e){var i;if(!this.container)return;e.rect&&(u(this,Lu)||C(this,Lu,{rect:this.data.rect.slice(0)}));const{rect:t,popup:s}=e;t&&A(this,Ph,kE).call(this,t);let r=((i=u(this,Ho))==null?void 0:i.popup)||this.popup;!r&&(s!=null&&s.text)&&(this._createPopup(s),r=u(this,Ho).popup),r&&(r.updateEdited(e),s!=null&&s.deleted&&(r.remove(),C(this,Ho,null),this.popup=null))}resetEdited(){var e;u(this,Lu)&&(A(this,Ph,kE).call(this,u(this,Lu).rect),(e=u(this,Ho))==null||e.popup.resetEdited(),C(this,Lu,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),!(this instanceof Uh)&&!(this instanceof _N)&&(i.tabIndex=0);const{style:a}=i;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof EE){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(g>0||_>0){const x=`calc(${g}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;a.borderRadius=x}else if(this instanceof f3){const x=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=x}switch(t.borderStyle.style){case rf.SOLID:a.borderStyle="solid";break;case rf.DASHED:a.borderStyle="dashed";break;case rf.BEVELED:Le("Unimplemented border style: beveled");break;case rf.INSET:Le("Unimplemented border style: inset");break;case rf.UNDERLINE:a.borderBottomStyle="solid";break}const w=t.borderColor||null;w?(C(this,Up,!0),a.borderColor=me.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):a.borderWidth=0}const d=me.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:h,pageHeight:f,pageX:p,pageY:m}=r.rawDims;a.left=`${100*(d[0]-p)/h}%`,a.top=`${100*(d[1]-m)/f}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(a.width=`${100*o/h}%`,a.height=`${100*l/f}%`):this.setRotation(y,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims;let{width:i,height:a}=this;e%180!==0&&([i,a]=[a,i]),t.style.width=`${100*i/s}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,r)=>{const i=r.detail[t],a=i[0],o=i.slice(1);r.target.style[s]=c2[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[s]:c2[`${a}_rgb`](o)})};return Ze(this,"_commonActions",{display:t=>{const{display:s}=t.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||s[r];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[r,i]of Object.entries(t)){const a=s[r];if(a){const o={detail:{[r]:i},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,r,i]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,_,w,x]=e.subarray(2,6);if(r===g&&i===_&&t===w&&s===x)return}const{style:a}=this.container;let o;if(u(this,Up)){const{borderColor:g,borderWidth:_}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const l=r-t,d=i-s,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const p=h.createElement("defs");f.append(p);const m=h.createElement("clipPath"),y=`clippath_${this.data.id}`;m.setAttribute("id",y),m.setAttribute("clipPathUnits","objectBoundingBox"),p.append(m);for(let g=2,_=e.length;g<_;g+=8){const w=e[g],x=e[g+1],b=e[g+2],S=e[g+3],k=h.createElement("rect"),j=(b-t)/l,N=(i-x)/d,P=(w-b)/l,D=(x-S)/d;k.setAttribute("x",j),k.setAttribute("y",N),k.setAttribute("width",P),k.setAttribute("height",D),m.append(k),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${N}" width="${P}" height="${D}"/>`)}u(this,Up)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${y})`}_createPopup(e=null){const{data:t}=this;let s,r;e?(s={str:e.text},r=e.date):(s=t.contentsObj,r=t.modificationDate);const i=C(this,Ho,new EE({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:s,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}get hasPopupElement(){return!!(u(this,Ho)||this.popup||this.data.popupRef)}render(){Et("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:i,id:a,exportValues:o}of r){if(i===-1||a===t)continue;const l=typeof o=="string"?o:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!Sh.has(d)){Le(`_getElementsByName - element not allowed: ${a}`);continue}s.push({id:a,exportValue:l,domElement:d})}return s}for(const r of document.getElementsByName(e)){const{exportValue:i}=r,a=r.getAttribute("data-element-id");a!==t&&Sh.has(r)&&s.push({id:a,exportValue:i,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Lu=new WeakMap,Up=new WeakMap,Ho=new WeakMap,Ph=new WeakSet,d3=function(e,t,s){e/=255,t/=255,s/=255;const r=Math.max(e,t,s),i=Math.min(e,t,s),a=(r+i)/2,o=((1+Math.sqrt(a))/2*100).toFixed(2);if(r===i)return`hsl(0, 0%, ${o}%)`;const l=r-i;let d;r===e?d=(t-s)/l+(t<s?6:0):r===t?d=(s-e)/l+2:d=(e-t)/l+4,d=(d*60).toFixed(2);const h=(l/(1-Math.abs(2*a-1))*100).toFixed(2);return`hsl(${d}, ${h}%, ${o}%)`},kE=function(e){const{container:{style:t},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:l}}}}=this;s==null||s.splice(0,4,...e),t.left=`${100*(e[0]-o)/i}%`,t.top=`${100*(a-e[3]+l)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)};let mn=gT;var Ir,zd,u3,h3;class _N extends mn{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});E(this,Ir);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(s.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),i=!0):t.attachment?(A(this,Ir,u3).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(A(this,Ir,h3).call(this,r,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}_bindLink(t,s,r=""){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&A(this,Ir,zd).call(this),r&&(t.title=r)}_bindNamedAction(t,s,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),r&&(t.title=r),A(this,Ir,zd).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(s.actions)){const a=r.get(i);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:i}}),!1})}s.overlaidText&&(t.title=s.overlaidText),t.onclick||(t.onclick=()=>!1),A(this,Ir,zd).call(this)}_bindResetFormAction(t,s){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),A(this,Ir,zd).call(this),!this._fieldObjects){Le('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var f;r==null||r();const{fields:i,refs:a,include:o}=s,l=[];if(i.length!==0||a.length!==0){const p=new Set(a);for(const m of i){const y=this._fieldObjects[m]||[];for(const{id:g}of y)p.add(g)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===o&&l.push(y)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const d=this.annotationStorage,h=[];for(const p of l){const{id:m}=p;switch(h.push(m),p.type){case"text":{const g=p.defaultValue||"";d.setValue(m,{value:g});break}case"checkbox":case"radiobutton":{const g=p.defaultValue===p.exportValues;d.setValue(m,{value:g});break}case"combobox":case"listbox":{const g=p.defaultValue||"";d.setValue(m,{value:g});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!Sh.has(y)){Le(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Ir=new WeakSet,zd=function(){this.container.setAttribute("data-internal-link","")},u3=function(t,s,r="",i=null){t.href=this.linkService.getAnchorUrl(""),s.description?t.title=s.description:r&&(t.title=r),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(s.content,s.filename,i),!1},A(this,Ir,zd).call(this)},h3=function(t,s,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),r&&(t.title=r),A(this,Ir,zd).call(this)};class see extends mn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Uh extends mn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return os.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,r,i){s.includes("mouse")?e.addEventListener(s,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(s,a=>{var o;if(s==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}i&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(a)}}))})}_setEventListeners(e,t,s,r){var i,a,o;for(const[l,d]of s)(d==="Action"||(i=this.data.actions)!=null&&i[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,d,r),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":me.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||tee,i=e.style;let a;const o=2,l=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(d/(V1*r))||1,f=d/h;a=Math.min(r,l(f/V1))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,l(d/V1))}i.fontSize=`calc(${a}px * var(--total-scale-factor))`,i.color=me.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class ree extends Uh{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,r){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=s),i.setValue(a.id,{[r]:s})}render(){var r,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let d=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=d??o,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",d??o),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Sh.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:m}=this.data,y=!!p&&this.enableScripting;f&&(s.title=f),this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",_=>{e.setValue(t,{value:_.target.value}),this.setPropertyOnSiblings(s,"value",_.target.value,"value"),h.formattedValue=null}),s.addEventListener("resetform",_=>{const w=this.data.defaultFieldValue??"";s.value=h.userValue=w,h.formattedValue=null});let g=_=>{const{formattedValue:w}=h;w!=null&&(_.target.value=w),_.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",w=>{var b;if(h.focused)return;const{target:x}=w;if(y&&(x.type=p,m&&(x.step=m)),h.userValue){const S=h.userValue;if(y)if(p==="time"){const k=new Date(S),j=[k.getHours(),k.getMinutes(),k.getSeconds()];x.value=j.map(N=>N.toString().padStart(2,"0")).join(":")}else x.value=new Date(S-nee).toISOString().split(p==="date"?"T":".",1)[0];else x.value=S}h.lastCommittedValue=x.value,h.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(h.focused=!0)}),s.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const x={value(b){h.userValue=b.detail.value??"",y||e.setValue(t,{value:h.userValue.toString()}),b.target.value=h.userValue},formattedValue(b){const{formattedValue:S}=b.detail;h.formattedValue=S,S!=null&&b.target!==document.activeElement&&(b.target.value=S);const k={formattedValue:S};y&&(k.value=S),e.setValue(t,k)},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var N;const{charLimit:S}=b.detail,{target:k}=b;if(S===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",S);let j=h.userValue;!j||j.length<=S||(j=j.slice(0,S),k.value=h.userValue=j,e.setValue(t,{value:j}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(x,w)}),s.addEventListener("keydown",w=>{var S;h.commitKey=1;let x=-1;if(w.key==="Escape"?x=0:w.key==="Enter"&&!this.data.multiLine?x=2:w.key==="Tab"&&(h.commitKey=3),x===-1)return;const{value:b}=w.target;h.lastCommittedValue!==b&&(h.lastCommittedValue=b,h.userValue=b,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:x,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const _=g;g=null,s.addEventListener("blur",w=>{var S,k;if(!h.focused||!w.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(h.focused=!1);const{target:x}=w;let{value:b}=x;if(y){if(b&&p==="time"){const j=b.split(":").map(N=>parseInt(N,10));b=new Date(2e3,0,1,j[0],j[1],j[2]||0).valueOf(),x.step=""}else b=new Date(b).valueOf();x.type="text"}h.userValue=b,h.lastCommittedValue!==b&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:h.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),_(w)}),(i=this.data.actions)!=null&&i.Keystroke&&s.addEventListener("beforeinput",w=>{var D;h.lastCommittedValue=null;const{data:x,target:b}=w,{value:S,selectionStart:k,selectionEnd:j}=b;let N=k,P=j;switch(w.inputType){case"deleteWordBackward":{const T=S.substring(0,k).match(/\w*[^\w]*$/);T&&(N-=T[0].length);break}case"deleteWordForward":{const T=S.substring(k).match(/^[^\w]*\w*/);T&&(P+=T[0].length);break}case"deleteContentBackward":k===j&&(N-=1);break;case"deleteContentForward":k===j&&(P+=1);break}w.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:x||"",willCommit:!1,selStart:N,selEnd:P}})}),this._setEventListeners(s,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(g&&s.addEventListener("blur",g),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class iee extends Uh{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class aee extends Uh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Sh.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const d of this._getElementsByName(o,s)){const h=l&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(s,{value:l})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(s,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class f3 extends Uh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(s,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,s))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(Sh.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const d of this._getElementsByName(o,s))e.setValue(d.id,{value:!1});e.setValue(s,{value:l})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;i.addEventListener("updatefromsandbox",o=>{const l={value:d=>{const h=a===d.detail.value;for(const f of this._getElementsByName(d.target.name)){const p=h&&f.id===s;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class oee extends _N{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class lee extends Uh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Sh.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue;for(const p of r.options)p.selected=p.value===f});for(const h of this.data.options){const f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,s.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),i=!1),r.append(f)}let a=null;if(i){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),a=()=>{h.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=h=>{const f=h?"value":"textContent",{options:p,multiple:m}=r;return m?Array.prototype.filter.call(p,y=>y.selected).map(y=>y[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let l=o(!1);const d=h=>{const f=h.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const f={value(p){a==null||a();const m=p.detail.value,y=new Set(Array.isArray(m)?m:[m]);for(const g of r.options)g.selected=y.has(g.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(p){r.multiple=!0},remove(p){const m=r.options,y=p.detail.remove;m[y].selected=!1,r.remove(y),m.length>0&&Array.prototype.findIndex.call(m,_=>_.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:o(!0),items:d(p)}),l=o(!1)},clear(p){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(p){const{index:m,displayValue:y,exportValue:g}=p.detail.insert,_=r.children[m],w=document.createElement("option");w.textContent=y,w.value=g,_?_.before(w):r.append(w),e.setValue(t,{value:o(!0),items:d(p)}),l=o(!1)},items(p){const{items:m}=p.detail;for(;r.length!==0;)r.remove(0);for(const y of m){const{displayValue:g,exportValue:_}=y,w=document.createElement("option");w.textContent=g,w.value=_,r.append(w)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:d(p)}),l=o(!1)},indices(p){const m=new Set(p.detail.indices);for(const y of p.target.options)y.selected=m.has(y.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,h)}),r.addEventListener("input",h=>{var m;const f=o(!0),p=o(!1);e.setValue(t,{value:f}),h.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class EE extends mn{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:mn._hasPopupData(t)}),this.elements=s,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new cee({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),s=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",s.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(r=>`${gN}${r}`).join(",")),this.container}}var Fu,f_,p_,$u,Vp,rn,Wo,Nc,qo,Wy,qy,Hp,Ta,br,Go,Yo,Gy,Tc,Wp,Yy,Ko,qp,Bu,Pc,nt,_b,p3,m3,Sb,AE,g3,v3,y3,x3,Cb,kb,jE;class cee{constructor({container:e,color:t,elements:s,titleObj:r,modificationDate:i,contentsObj:a,richText:o,parent:l,rect:d,parentRect:h,open:f,eventBus:p=null}){E(this,nt);E(this,Fu,A(this,nt,y3).bind(this));E(this,f_,A(this,nt,jE).bind(this));E(this,p_,A(this,nt,kb).bind(this));E(this,$u,A(this,nt,Cb).bind(this));E(this,Vp,null);E(this,rn,null);E(this,Wo,null);E(this,Nc,null);E(this,qo,null);E(this,Wy,null);E(this,qy,null);E(this,Hp,null);E(this,Ta,!1);E(this,br,null);E(this,Go,null);E(this,Yo,null);E(this,Gy,null);E(this,Tc,null);E(this,Wp,null);E(this,Yy,null);E(this,Ko,null);E(this,qp,null);E(this,Bu,null);E(this,Pc,!1);C(this,rn,e),C(this,qp,r),C(this,Wo,a),C(this,Ko,o),C(this,qy,l),C(this,Vp,t),C(this,Yy,d),C(this,Hp,h),C(this,qo,s),C(this,Wy,p),C(this,Nc,E0.toDateObject(i)),this.trigger=s.flatMap(m=>m.getElementsToTriggerPopup()),A(this,nt,_b).call(this),u(this,rn).hidden=!0,f&&A(this,nt,Cb).call(this)}render(){var r;if(u(this,br))return;const e=C(this,br,document.createElement("div"));if(e.className="popup",u(this,Vp)){const i=e.style.outlineColor=me.makeHexColor(...u(this,Vp));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=u(this,qp))!=null&&r.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=u(this,qp)}if(e.append(t),u(this,Nc)){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Nc).valueOf()})),i.dateTime=u(this,Nc).toISOString(),t.append(i)}const s=u(this,nt,Sb);if(s)c3.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(u(this,Wo));e.append(i)}u(this,rn).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let i=0,a=r.length;i<a;++i){const o=r[i];s.append(document.createTextNode(o)),i<a-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popup:t,deleted:s}){var r;if(s||t!=null&&t.deleted){this.remove();return}A(this,nt,_b).call(this),u(this,Bu)||C(this,Bu,{contentsObj:u(this,Wo),richText:u(this,Ko)}),e&&C(this,Yo,null),t&&(C(this,Ko,A(this,nt,v3).call(this,t.text)),C(this,Nc,E0.toDateObject(t.date)),C(this,Wo,null)),(r=u(this,br))==null||r.remove(),C(this,br,null)}resetEdited(){var e;u(this,Bu)&&({contentsObj:nn(this,Wo)._,richText:nn(this,Ko)._}=u(this,Bu),C(this,Bu,null),(e=u(this,br))==null||e.remove(),C(this,br,null),C(this,Yo,null))}remove(){var e,t;(e=u(this,Go))==null||e.abort(),C(this,Go,null),(t=u(this,br))==null||t.remove(),C(this,br,null),C(this,Pc,!1),C(this,Ta,!1);for(const s of this.trigger)s.classList.remove("popupTriggerArea")}forceHide(){C(this,Pc,this.isVisible),u(this,Pc)&&(u(this,rn).hidden=!0)}maybeShow(){A(this,nt,_b).call(this),u(this,Pc)&&(u(this,br)||A(this,nt,kb).call(this),C(this,Pc,!1),u(this,rn).hidden=!1)}get isVisible(){return u(this,rn).hidden===!1}}Fu=new WeakMap,f_=new WeakMap,p_=new WeakMap,$u=new WeakMap,Vp=new WeakMap,rn=new WeakMap,Wo=new WeakMap,Nc=new WeakMap,qo=new WeakMap,Wy=new WeakMap,qy=new WeakMap,Hp=new WeakMap,Ta=new WeakMap,br=new WeakMap,Go=new WeakMap,Yo=new WeakMap,Gy=new WeakMap,Tc=new WeakMap,Wp=new WeakMap,Yy=new WeakMap,Ko=new WeakMap,qp=new WeakMap,Bu=new WeakMap,Pc=new WeakMap,nt=new WeakSet,_b=function(){var t;if(u(this,Go))return;C(this,Go,new AbortController);const{signal:e}=u(this,Go);for(const s of this.trigger)s.addEventListener("click",u(this,$u),{signal:e}),s.addEventListener("mouseenter",u(this,p_),{signal:e}),s.addEventListener("mouseleave",u(this,f_),{signal:e}),s.classList.add("popupTriggerArea");for(const s of u(this,qo))(t=s.container)==null||t.addEventListener("keydown",u(this,Fu),{signal:e});A(this,nt,m3).call(this)},p3=function(){const e=u(this,qo).find(t=>t.hasCommentButton);e&&(C(this,Tc,e._normalizePoint(e.commentButtonPosition)),C(this,Wp,e.commentButtonColor))},m3=function(){if(u(this,Gy)||(u(this,Tc)||A(this,nt,p3).call(this),!u(this,Tc)))return;const e=C(this,Gy,document.createElement("button"));e.className="annotationCommentButton";const t=u(this,qo)[0].container;e.style.zIndex=t.style.zIndex+1,e.tabIndex=0;const{signal:s}=u(this,Go);e.addEventListener("hover",u(this,$u),{signal:s}),e.addEventListener("keydown",u(this,Fu),{signal:s}),e.addEventListener("click",()=>{var o;const[{data:{id:i},annotationEditorType:a}]=u(this,qo);(o=u(this,Wy))==null||o.dispatch("switchannotationeditormode",{source:this,editId:i,mode:a,editComment:!0})},{signal:s});const{style:r}=e;r.left=`calc(${u(this,Tc)[0]}%)`,r.top=`calc(${u(this,Tc)[1]}% - var(--comment-button-dim))`,u(this,Wp)&&(r.backgroundColor=u(this,Wp)),t.after(e)},Sb=function(){const e=u(this,Ko),t=u(this,Wo);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&u(this,Ko).html||null},AE=function(){var e,t,s;return((s=(t=(e=u(this,nt,Sb))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},g3=function(){var e,t,s;return((s=(t=(e=u(this,nt,Sb))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},v3=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:u(this,nt,g3),fontSize:u(this,nt,AE)?`calc(${u(this,nt,AE)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:r});return s},y3=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Ta))&&A(this,nt,Cb).call(this)},x3=function(){if(u(this,Yo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:r,pageY:i}}}=u(this,qy);let a=!!u(this,Hp),o=a?u(this,Hp):u(this,Yy);for(const y of u(this,qo))if(!o||me.intersect(y.data.rect,o)!==null){o=y.data.rect,a=!0;break}const l=me.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,f=l[0]+h,p=l[1];C(this,Yo,[100*(f-r)/t,100*(p-i)/s]);const{style:m}=u(this,rn);m.left=`${u(this,Yo)[0]}%`,m.top=`${u(this,Yo)[1]}%`},Cb=function(){C(this,Ta,!u(this,Ta)),u(this,Ta)?(A(this,nt,kb).call(this),u(this,rn).addEventListener("click",u(this,$u)),u(this,rn).addEventListener("keydown",u(this,Fu))):(A(this,nt,jE).call(this),u(this,rn).removeEventListener("click",u(this,$u)),u(this,rn).removeEventListener("keydown",u(this,Fu)))},kb=function(){u(this,br)||this.render(),this.isVisible?u(this,Ta)&&u(this,rn).classList.add("focused"):(A(this,nt,x3).call(this),u(this,rn).hidden=!1,u(this,rn).style.zIndex=parseInt(u(this,rn).style.zIndex)+1e3)},jE=function(){u(this,rn).classList.remove("focused"),!(u(this,Ta)||!this.isVisible)&&(u(this,rn).hidden=!0,u(this,rn).style.zIndex=parseInt(u(this,rn).style.zIndex)-1e3)};class w3 extends mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ky;class dee extends mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Ky,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),a=C(this,Ky,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Ky)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ky=new WeakMap;var Xy;class uee extends mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Xy,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),a=t.borderStyle.width,o=C(this,Xy,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",s-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Xy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xy=new WeakMap;var Qy;class hee extends mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Qy,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:s,height:r}=this,i=this.svgFactory.create(s,r,!0),a=t.borderStyle.width,o=C(this,Qy,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",s/2),o.setAttribute("cy",r/2),o.setAttribute("rx",s/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Qy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qy=new WeakMap;var Zy;class b3 extends mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Zy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:r,popupRef:i},width:a,height:o}=this;if(!s)return this.container;const l=this.svgFactory.create(a,o,!0);let d=[];for(let f=0,p=s.length;f<p;f+=2){const m=s[f]-t[0],y=t[3]-s[f+1];d.push(`${m},${y}`)}d=d.join(" ");const h=C(this,Zy,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Zy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zy=new WeakMap;class fee extends b3{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class pee extends mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Jy,zu,ex,NE;class SN extends mn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,ex);E(this,Jy,null);E(this,zu,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Me.HIGHLIGHT:Me.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:s,inkLists:r,borderStyle:i,popupRef:a}}=this,{transform:o,width:l,height:d}=A(this,ex,NE).call(this,s,t),h=this.svgFactory.create(l,d,!0),f=C(this,Jy,this.svgFactory.createElement("svg:g"));h.append(f),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,m=r.length;p<m;p++){const y=this.svgFactory.createElement(this.svgElementName);u(this,zu).push(y),y.setAttribute("points",r[p].join(",")),f.append(y)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:s,points:r,rect:i}=t,a=u(this,Jy);if(s>=0&&a.setAttribute("stroke-width",s||1),r)for(let o=0,l=u(this,zu).length;o<l;o++)u(this,zu)[o].setAttribute("points",r[o].join(","));if(i){const{transform:o,width:l,height:d}=A(this,ex,NE).call(this,this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${d}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return u(this,zu)}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:t,rect:s}=this.data;if((t==null?void 0:t.length)>=1){let r=-1/0,i=-1/0;for(const a of t)for(let o=0,l=a.length;o<l;o+=2)a[o+1]>i?(i=a[o+1],r=a[o]):a[o+1]===i&&(r=Math.max(r,a[o]));if(r!==1/0)return[r,i]}return s?[s[2],s[3]]:null}}Jy=new WeakMap,zu=new WeakMap,ex=new WeakSet,NE=function(t,s){switch(t){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}};class _3 extends mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Me.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class mee extends mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class gee extends mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class vee extends mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class S3 extends mn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var tx,nx,TE;class yee extends mn{constructor(t){var r;super(t,{isRenderable:!0});E(this,nx);E(this,tx,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",A(this,nx,TE).bind(this)),C(this,tx,r);const{isMac:i}=os.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&A(this,nx,TE).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return u(this,tx)}addHighlightArea(){this.container.classList.add("highlightArea")}}tx=new WeakMap,nx=new WeakSet,TE=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var sx,Uu,Rc,rx,wd,RE,DE;const vT=class vT{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:r,page:i,viewport:a,structTreeLayer:o}){E(this,wd);E(this,sx,null);E(this,Uu,null);E(this,Rc,new Map);E(this,rx,null);this.div=e,C(this,sx,t),C(this,Uu,s),C(this,rx,o||null),this.page=i,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,Rc).size>0}async render(e){var a;const{annotations:t}=e,s=this.div;bh(s,this.viewport);const r=new Map,i={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new R0,annotationStorage:e.annotationStorage||new xN,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===xn.POPUP;if(l){const f=r.get(o.id);if(!f)continue;i.elements=f}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;i.data=o;const d=d2.create(i);if(!d.isRenderable)continue;if(!l&&o.popupRef){const f=r.get(o.popupRef);f?f.push(d):r.set(o.popupRef,[d])}const h=d.render();o.hidden&&(h.style.visibility="hidden"),await A(this,wd,RE).call(this,h,o.id,i.elements),d._isEditable&&(u(this,Rc).set(d.data.id,d),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(d))}A(this,wd,DE).call(this)}async addLinkAnnotations(e,t){const s={data:null,layer:this.div,linkService:t,svgFactory:new R0,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=vT._defaultBorderStyle),s.data=r;const i=d2.create(s);if(!i.isRenderable)continue;const a=i.render();await A(this,wd,RE).call(this,a,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,bh(t,{rotation:e.rotation}),A(this,wd,DE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Rc).values())}getEditableAnnotation(e){return u(this,Rc).get(e)}static get _defaultBorderStyle(){return Ze(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:rf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};sx=new WeakMap,Uu=new WeakMap,Rc=new WeakMap,rx=new WeakMap,wd=new WeakSet,RE=async function(e,t,s){var o,l;const r=e.firstChild||e,i=r.id=`${gN}${t}`,a=await((o=u(this,rx))==null?void 0:o.getAriaAttributes(i));if(a)for(const[d,h]of a)r.setAttribute(d,h);s?s.at(-1).container.after(e):(this.div.append(e),(l=u(this,sx))==null||l.moveElementInDOM(this.div,e,r,!1))},DE=function(){var t;if(!u(this,Uu))return;const e=this.div;for(const[s,r]of u(this,Uu)){const i=e.querySelector(`[data-annotation-id="${s}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r);const o=u(this,Rc).get(s);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(s,i.id,r),o._hasNoCanvas=!1):o.canvas=r)}u(this,Uu).clear()};let PE=vT;const Uw=/\r\n?|\n/g;var ei,_r,ix,Vu,Sr,kn,C3,k3,E3,Eb,ul,Ab,jb,A3,OE,j3;const Ot=class Ot extends Pt{constructor(t){super({...t,name:"freeTextEditor"});E(this,kn);E(this,ei);E(this,_r,"");E(this,ix,`${this.id}-editor`);E(this,Vu,null);E(this,Sr);ee(this,"_colorPicker",null);C(this,ei,t.color||Ot._defaultColor||Pt._defaultLineColor),C(this,Sr,t.fontSize||Ot._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Ot.prototype,s=a=>a.isEmpty(),r=_h.TRANSLATE_SMALL,i=_h.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new Yx([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}]]))}static initialize(t,s){Pt.initialize(t,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case st.FREETEXT_SIZE:Ot._defaultFontSize=s;break;case st.FREETEXT_COLOR:Ot._defaultColor=s;break}}updateParams(t,s){switch(t){case st.FREETEXT_SIZE:A(this,kn,C3).call(this,s);break;case st.FREETEXT_COLOR:A(this,kn,k3).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[st.FREETEXT_SIZE,Ot._defaultFontSize],[st.FREETEXT_COLOR,Ot._defaultColor||Pt._defaultLineColor]]}get propertiesToUpdate(){return[[st.FREETEXT_SIZE,u(this,Sr)],[st.FREETEXT_COLOR,u(this,ei)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new P0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return st.FREETEXT_COLOR}get colorValue(){return u(this,ei)}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ot._internalPadding*t,-(Ot._internalPadding+u(this,Sr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),C(this,Vu,new AbortController);const t=this._uiManager.combinedSignal(u(this,Vu));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,ix)),this._isDraggable=!0,(t=u(this,Vu))==null||t.abort(),C(this,Vu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var s;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=u(this,_r),s=C(this,_r,A(this,kn,E3).call(this).trimEnd());if(t===s)return;const r=i=>{if(C(this,_r,i),!i){this.remove();return}A(this,kn,jb).call(this),this._uiManager.rebuild(this),A(this,kn,Eb).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(t)},mustExec:!1}),A(this,kn,Eb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ot._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,s;(this._isCopy||this.annotationElementId)&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,ix)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,Sr)}px * var(--total-scale-factor))`,r.color=u(this,ei),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,d]=this.getInitialTranslation();[l,d]=this.pageTranslationToScreen(l,d);const[h,f]=this.pageDimensions,[p,m]=this.pageTranslation;let y,g;switch(this.rotation){case 0:y=t+(o[0]-p)/h,g=s+this.height-(o[1]-m)/f;break;case 90:y=t+(o[0]-p)/h,g=s-(o[1]-m)/f,[l,d]=[d,-l];break;case 180:y=t-this.width+(o[0]-p)/h,g=s-(o[1]-m)/f,[l,d]=[-l,-d];break;case 270:y=t+(o[0]-p-this.height*f)/h,g=s+(o[1]-m-this.width*h)/f,[l,d]=[-d,l];break}this.setAt(y*i,g*a,l,d)}else this._moveAfterPaste(t,s);A(this,kn,jb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,g,_;const s=t.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=A(y=Ot,ul,OE).call(y,s.getData("text")||"").replaceAll(Uw,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:d}=o,h=[],f=[];if(l.nodeType===Node.TEXT_NODE){const w=l.parentElement;if(f.push(l.nodeValue.slice(d).replaceAll(Uw,"")),w!==this.editorDiv){let x=h;for(const b of this.editorDiv.childNodes){if(b===w){x=f;continue}x.push(A(g=Ot,ul,Ab).call(g,b))}}h.push(l.nodeValue.slice(0,d).replaceAll(Uw,""))}else if(l===this.editorDiv){let w=h,x=0;for(const b of this.editorDiv.childNodes)x++===d&&(w=f),w.push(A(_=Ot,ul,Ab).call(_,b))}C(this,_r,`${h.join(`
`)}${i}${f.join(`
`)}`),A(this,kn,jb).call(this);const p=new Range;let m=Math.sumPrecise(h.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const x=w.nodeValue.length;if(m<=x){p.setStart(w,m),p.setEnd(w,m);break}m-=x}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ot._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,s,r){var o;let i=null;if(t instanceof w3){const{data:{defaultAppearanceData:{fontSize:l,fontColor:d},rect:h,rotation:f,id:p,popupRef:m,contentsObj:y},textContent:g,textPosition:_,parent:{page:{pageNumber:w}}}=t;if(!g||g.length===0)return null;i=t={annotationType:Me.FREETEXT,color:Array.from(d),fontSize:l,value:g.join(`
`),position:_,pageIndex:w-1,rect:h.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:(y==null?void 0:y.str)||null}}const a=await super.deserialize(t,s,r);return C(a,Sr,t.fontSize),C(a,ei,me.makeHexColor(...t.color)),C(a,_r,A(o=Ot,ul,OE).call(o,t.value)),a._initialData=i,t.comment&&a.setCommentData(t.comment),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=this.getPDFRect(),r=Pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,ei)),i={annotationType:Me.FREETEXT,color:r,fontSize:u(this,Sr),value:A(this,kn,A3).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!A(this,kn,j3).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(!s)return null;const{style:r}=s;r.fontSize=`calc(${u(this,Sr)}px * var(--total-scale-factor))`,r.color=u(this,ei),s.replaceChildren();for(const a of u(this,_r).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),s.append(o)}const i={rect:this.getPDFRect()};return i.popup=this.hasEditedComment?this.comment:{text:u(this,_r)},t.updateEdited(i),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ei=new WeakMap,_r=new WeakMap,ix=new WeakMap,Vu=new WeakMap,Sr=new WeakMap,kn=new WeakSet,C3=function(t){const s=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-u(this,Sr))*this.parentScale),C(this,Sr,i),A(this,kn,Eb).call(this)},r=u(this,Sr);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},k3=function(t){const s=i=>{var a;C(this,ei,this.editorDiv.style.color=i),(a=this._colorPicker)==null||a.update(i)},r=u(this,ei);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},E3=function(){var r;const t=[];this.editorDiv.normalize();let s=null;for(const i of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(A(r=Ot,ul,Ab).call(r,i)),s=i);return t.join(`
`)},Eb=function(){const[t,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/s):(this.width=r.height/t,this.height=r.width/s),this.fixAndSetPosition()},ul=new WeakSet,Ab=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Uw,"")},jb=function(){if(this.editorDiv.replaceChildren(),!!u(this,_r))for(const t of u(this,_r).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},A3=function(){return u(this,_r).replaceAll(" "," ")},OE=function(t){return t.replaceAll(" "," ")},j3=function(t){const{value:s,fontSize:r,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==s||t.fontSize!==r||t.color.some((o,l)=>o!==i[l])||t.pageIndex!==a},E(Ot,ul),ee(Ot,"_freeTextDefaultContent",""),ee(Ot,"_internalPadding",0),ee(Ot,"_defaultColor",null),ee(Ot,"_defaultFontSize",10),ee(Ot,"_type","freetext"),ee(Ot,"_editorType",Me.FREETEXT);let ME=Ot;class ue{toSVGPath(){Et("Abstract method `toSVGPath` must be implemented.")}get box(){Et("Abstract getter `box` must be implemented.")}serialize(e,t){Et("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,r,i,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*r,a[o+1]=s+e[o+1]*i;return a}static _rescaleAndSwap(e,t,s,r,i,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*r,a[o+1]=s+e[o]*i;return a}static _translate(e,t,s,r){r||(r=new Float32Array(e.length));for(let i=0,a=e.length;i<a;i+=2)r[i]=t+e[i],r[i+1]=s+e[i+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,r,i){switch(i){case 90:return[1-t/s,e/r];case 180:return[1-e/s,1-t/r];case 270:return[t/s,1-e/r];default:return[e/s,t/r]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,r,i,a){return[(e+5*s)/6,(t+5*r)/6,(5*s+i)/6,(5*r+a)/6,(s+i)/2,(r+a)/2]}}ee(ue,"PRECISION",1e-4);var Cr,Ii,Gp,Yp,Pa,Qe,Hu,Wu,ax,ox,Kp,Xp,Dc,lx,m_,g_,Ln,Mg,N3,T3,P3,R3,D3,M3;const vo=class vo{constructor({x:e,y:t},s,r,i,a,o=0){E(this,Ln);E(this,Cr);E(this,Ii,[]);E(this,Gp);E(this,Yp);E(this,Pa,[]);E(this,Qe,new Float32Array(18));E(this,Hu);E(this,Wu);E(this,ax);E(this,ox);E(this,Kp);E(this,Xp);E(this,Dc,[]);C(this,Cr,s),C(this,Xp,i*r),C(this,Yp,a),u(this,Qe).set([NaN,NaN,NaN,NaN,e,t],6),C(this,Gp,o),C(this,ox,u(vo,lx)*r),C(this,ax,u(vo,g_)*r),C(this,Kp,r),u(this,Dc).push(e,t)}isEmpty(){return isNaN(u(this,Qe)[8])}add({x:e,y:t}){var D;C(this,Hu,e),C(this,Wu,t);const[s,r,i,a]=u(this,Cr);let[o,l,d,h]=u(this,Qe).subarray(8,12);const f=e-d,p=t-h,m=Math.hypot(f,p);if(m<u(this,ax))return!1;const y=m-u(this,ox),g=y/m,_=g*f,w=g*p;let x=o,b=l;o=d,l=h,d+=_,h+=w,(D=u(this,Dc))==null||D.push(e,t);const S=-w/y,k=_/y,j=S*u(this,Xp),N=k*u(this,Xp);return u(this,Qe).set(u(this,Qe).subarray(2,8),0),u(this,Qe).set([d+j,h+N],4),u(this,Qe).set(u(this,Qe).subarray(14,18),12),u(this,Qe).set([d-j,h-N],16),isNaN(u(this,Qe)[6])?(u(this,Pa).length===0&&(u(this,Qe).set([o+j,l+N],2),u(this,Pa).push(NaN,NaN,NaN,NaN,(o+j-s)/i,(l+N-r)/a),u(this,Qe).set([o-j,l-N],14),u(this,Ii).push(NaN,NaN,NaN,NaN,(o-j-s)/i,(l-N-r)/a)),u(this,Qe).set([x,b,o,l,d,h],6),!this.isEmpty()):(u(this,Qe).set([x,b,o,l,d,h],6),Math.abs(Math.atan2(b-l,x-o)-Math.atan2(w,_))<Math.PI/2?([o,l,d,h]=u(this,Qe).subarray(2,6),u(this,Pa).push(NaN,NaN,NaN,NaN,((o+d)/2-s)/i,((l+h)/2-r)/a),[o,l,x,b]=u(this,Qe).subarray(14,18),u(this,Ii).push(NaN,NaN,NaN,NaN,((x+o)/2-s)/i,((b+l)/2-r)/a),!0):([x,b,o,l,d,h]=u(this,Qe).subarray(0,6),u(this,Pa).push(((x+5*o)/6-s)/i,((b+5*l)/6-r)/a,((5*o+d)/6-s)/i,((5*l+h)/6-r)/a,((o+d)/2-s)/i,((l+h)/2-r)/a),[d,h,o,l,x,b]=u(this,Qe).subarray(12,18),u(this,Ii).push(((x+5*o)/6-s)/i,((b+5*l)/6-r)/a,((5*o+d)/6-s)/i,((5*l+h)/6-r)/a,((o+d)/2-s)/i,((l+h)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Pa),t=u(this,Ii);if(isNaN(u(this,Qe)[6])&&!this.isEmpty())return A(this,Ln,N3).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);A(this,Ln,P3).call(this,s);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return A(this,Ln,T3).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,r,i,a){return new O3(e,t,s,r,i,a)}getOutlines(){var f;const e=u(this,Pa),t=u(this,Ii),s=u(this,Qe),[r,i,a,o]=u(this,Cr),l=new Float32Array((((f=u(this,Dc))==null?void 0:f.length)??0)+2);for(let p=0,m=l.length-2;p<m;p+=2)l[p]=(u(this,Dc)[p]-r)/a,l[p+1]=(u(this,Dc)[p+1]-i)/o;if(l[l.length-2]=(u(this,Hu)-r)/a,l[l.length-1]=(u(this,Wu)-i)/o,isNaN(s[6])&&!this.isEmpty())return A(this,Ln,R3).call(this,l);const d=new Float32Array(u(this,Pa).length+24+u(this,Ii).length);let h=e.length;for(let p=0;p<h;p+=2){if(isNaN(e[p])){d[p]=d[p+1]=NaN;continue}d[p]=e[p],d[p+1]=e[p+1]}h=A(this,Ln,M3).call(this,d,h);for(let p=t.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(t[p+m])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=t[p+m],d[h+1]=t[p+m+1],h+=2}return A(this,Ln,D3).call(this,d,h),this.newFreeDrawOutline(d,l,u(this,Cr),u(this,Kp),u(this,Gp),u(this,Yp))}};Cr=new WeakMap,Ii=new WeakMap,Gp=new WeakMap,Yp=new WeakMap,Pa=new WeakMap,Qe=new WeakMap,Hu=new WeakMap,Wu=new WeakMap,ax=new WeakMap,ox=new WeakMap,Kp=new WeakMap,Xp=new WeakMap,Dc=new WeakMap,lx=new WeakMap,m_=new WeakMap,g_=new WeakMap,Ln=new WeakSet,Mg=function(){const e=u(this,Qe).subarray(4,6),t=u(this,Qe).subarray(16,18),[s,r,i,a]=u(this,Cr);return[(u(this,Hu)+(e[0]-t[0])/2-s)/i,(u(this,Wu)+(e[1]-t[1])/2-r)/a,(u(this,Hu)+(t[0]-e[0])/2-s)/i,(u(this,Wu)+(t[1]-e[1])/2-r)/a]},N3=function(){const[e,t,s,r]=u(this,Cr),[i,a,o,l]=A(this,Ln,Mg).call(this);return`M${(u(this,Qe)[2]-e)/s} ${(u(this,Qe)[3]-t)/r} L${(u(this,Qe)[4]-e)/s} ${(u(this,Qe)[5]-t)/r} L${i} ${a} L${o} ${l} L${(u(this,Qe)[16]-e)/s} ${(u(this,Qe)[17]-t)/r} L${(u(this,Qe)[14]-e)/s} ${(u(this,Qe)[15]-t)/r} Z`},T3=function(e){const t=u(this,Ii);e.push(`L${t[4]} ${t[5]} Z`)},P3=function(e){const[t,s,r,i]=u(this,Cr),a=u(this,Qe).subarray(4,6),o=u(this,Qe).subarray(16,18),[l,d,h,f]=A(this,Ln,Mg).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-s)/i} L${l} ${d} L${h} ${f} L${(o[0]-t)/r} ${(o[1]-s)/i}`)},R3=function(e){const t=u(this,Qe),[s,r,i,a]=u(this,Cr),[o,l,d,h]=A(this,Ln,Mg).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-s)/i,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-s)/i,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(t[16]-s)/i,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-s)/i,(t[15]-r)/a],0),this.newFreeDrawOutline(f,e,u(this,Cr),u(this,Kp),u(this,Gp),u(this,Yp))},D3=function(e,t){const s=u(this,Ii);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},M3=function(e,t){const s=u(this,Qe).subarray(4,6),r=u(this,Qe).subarray(16,18),[i,a,o,l]=u(this,Cr),[d,h,f,p]=A(this,Ln,Mg).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-i)/o,(s[1]-a)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(r[0]-i)/o,(r[1]-a)/l],t),t+=24},E(vo,lx,8),E(vo,m_,2),E(vo,g_,u(vo,lx)+u(vo,m_));let D0=vo;var Qp,qu,Xo,cx,kr,dx,cn,v_,I3;class O3 extends ue{constructor(t,s,r,i,a,o){super();E(this,v_);E(this,Qp);E(this,qu,new Float32Array(4));E(this,Xo);E(this,cx);E(this,kr);E(this,dx);E(this,cn);C(this,cn,t),C(this,kr,s),C(this,Qp,r),C(this,dx,i),C(this,Xo,a),C(this,cx,o),this.lastPoint=[NaN,NaN],A(this,v_,I3).call(this,o);const[l,d,h,f]=u(this,qu);for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/h,t[p+1]=(t[p+1]-d)/f;for(let p=0,m=s.length;p<m;p+=2)s[p]=(s[p]-l)/h,s[p+1]=(s[p+1]-d)/f}toSVGPath(){const t=[`M${u(this,cn)[4]} ${u(this,cn)[5]}`];for(let s=6,r=u(this,cn).length;s<r;s+=6){if(isNaN(u(this,cn)[s])){t.push(`L${u(this,cn)[s+4]} ${u(this,cn)[s+5]}`);continue}t.push(`C${u(this,cn)[s]} ${u(this,cn)[s+1]} ${u(this,cn)[s+2]} ${u(this,cn)[s+3]} ${u(this,cn)[s+4]} ${u(this,cn)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,r,i],a){const o=r-t,l=i-s;let d,h;switch(a){case 0:d=ue._rescale(u(this,cn),t,i,o,-l),h=ue._rescale(u(this,kr),t,i,o,-l);break;case 90:d=ue._rescaleAndSwap(u(this,cn),t,s,o,l),h=ue._rescaleAndSwap(u(this,kr),t,s,o,l);break;case 180:d=ue._rescale(u(this,cn),r,s,-o,l),h=ue._rescale(u(this,kr),r,s,-o,l);break;case 270:d=ue._rescaleAndSwap(u(this,cn),r,i,-o,-l),h=ue._rescaleAndSwap(u(this,kr),r,i,-o,-l);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return u(this,qu)}newOutliner(t,s,r,i,a,o=0){return new D0(t,s,r,i,a,o)}getNewOutline(t,s){const[r,i,a,o]=u(this,qu),[l,d,h,f]=u(this,Qp),p=a*h,m=o*f,y=r*h+l,g=i*f+d,_=this.newOutliner({x:u(this,kr)[0]*p+y,y:u(this,kr)[1]*m+g},u(this,Qp),u(this,dx),t,u(this,cx),s??u(this,Xo));for(let w=2;w<u(this,kr).length;w+=2)_.add({x:u(this,kr)[w]*p+y,y:u(this,kr)[w+1]*m+g});return _.getOutlines()}}Qp=new WeakMap,qu=new WeakMap,Xo=new WeakMap,cx=new WeakMap,kr=new WeakMap,dx=new WeakMap,cn=new WeakMap,v_=new WeakSet,I3=function(t){const s=u(this,cn);let r=s[4],i=s[5];const a=[r,i,r,i];let o=r,l=i;const d=t?Math.max:Math.min;for(let f=6,p=s.length;f<p;f+=6){const m=s[f+4],y=s[f+5];if(isNaN(s[f]))me.pointBoundingBox(m,y,a),l<y?(o=m,l=y):l===y&&(o=d(o,m));else{const g=[1/0,1/0,-1/0,-1/0];me.bezierBoundingBox(r,i,...s.slice(f,f+6),g),me.rectBoundingBox(...g,a),l<g[3]?(o=g[2],l=g[3]):l===g[3]&&(o=d(o,g[2]))}r=m,i=y}const h=u(this,qu);h[0]=a[0]-u(this,Xo),h[1]=a[1]-u(this,Xo),h[2]=a[2]-a[0]+2*u(this,Xo),h[3]=a[3]-a[1]+2*u(this,Xo),this.lastPoint=[o,l]};var ux,hx,Mc,Li,Ls,L3,Nb,F3,$3,LE;class IE{constructor(e,t=0,s=0,r=!0){E(this,Ls);E(this,ux);E(this,hx);E(this,Mc,[]);E(this,Li,[]);const i=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:m,y,width:g,height:_}of e){const w=Math.floor((m-t)/a)*a,x=Math.ceil((m+g+t)/a)*a,b=Math.floor((y-t)/a)*a,S=Math.ceil((y+_+t)/a)*a,k=[w,b,S,!0],j=[x,b,S,!1];u(this,Mc).push(k,j),me.rectBoundingBox(w,b,x,S,i)}const o=i[2]-i[0]+2*s,l=i[3]-i[1]+2*s,d=i[0]-s,h=i[1]-s,f=u(this,Mc).at(r?-1:-2),p=[f[0],f[2]];for(const m of u(this,Mc)){const[y,g,_]=m;m[0]=(y-d)/o,m[1]=(g-h)/l,m[2]=(_-h)/l}C(this,ux,new Float32Array([d,h,o,l])),C(this,hx,p)}getOutlines(){u(this,Mc).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of u(this,Mc))t[3]?(e.push(...A(this,Ls,LE).call(this,t)),A(this,Ls,F3).call(this,t)):(A(this,Ls,$3).call(this,t),e.push(...A(this,Ls,LE).call(this,t)));return A(this,Ls,L3).call(this,e)}}ux=new WeakMap,hx=new WeakMap,Mc=new WeakMap,Li=new WeakMap,Ls=new WeakSet,L3=function(e){const t=[],s=new Set;for(const a of e){const[o,l,d]=a;t.push([o,l,a],[o,d,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],d=t[a+1][2];l.push(d),d.push(l),s.add(l),s.add(d)}const r=[];let i;for(;s.size>0;){const a=s.values().next().value;let[o,l,d,h,f]=a;s.delete(a);let p=o,m=l;for(i=[o,d],r.push(i);;){let y;if(s.has(h))y=h;else if(s.has(f))y=f;else break;s.delete(y),[o,l,d,h,f]=y,p!==o&&(i.push(p,m,o,m===l?l:d),p=o),m=m===l?d:l}i.push(p,m)}return new xee(r,u(this,ux),u(this,hx))},Nb=function(e){const t=u(this,Li);let s=0,r=t.length-1;for(;s<=r;){const i=s+r>>1,a=t[i][0];if(a===e)return i;a<e?s=i+1:r=i-1}return r+1},F3=function([,e,t]){const s=A(this,Ls,Nb).call(this,e);u(this,Li).splice(s,0,[e,t])},$3=function([,e,t]){const s=A(this,Ls,Nb).call(this,e);for(let r=s;r<u(this,Li).length;r++){const[i,a]=u(this,Li)[r];if(i!==e)break;if(i===e&&a===t){u(this,Li).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[i,a]=u(this,Li)[r];if(i!==e)break;if(i===e&&a===t){u(this,Li).splice(r,1);return}}},LE=function(e){const[t,s,r]=e,i=[[t,s,r]],a=A(this,Ls,Nb).call(this,r);for(let o=0;o<a;o++){const[l,d]=u(this,Li)[o];for(let h=0,f=i.length;h<f;h++){const[,p,m]=i[h];if(!(d<=p||m<=l)){if(p>=l){if(m>d)i[h][1]=d;else{if(f===1)return[];i.splice(h,1),h--,f--}continue}i[h][2]=l,m>d&&i.push([t,d,m])}}}return i};var fx,Zp;class xee extends ue{constructor(t,s,r){super();E(this,fx);E(this,Zp);C(this,Zp,t),C(this,fx,s),this.lastPoint=r}toSVGPath(){const t=[];for(const s of u(this,Zp)){let[r,i]=s;t.push(`M${r} ${i}`);for(let a=2;a<s.length;a+=2){const o=s[a],l=s[a+1];o===r?(t.push(`V${l}`),i=l):l===i&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,s,r,i],a){const o=[],l=r-t,d=i-s;for(const h of u(this,Zp)){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=t+h[p]*l,f[p+1]=i-h[p+1]*d;o.push(f)}return o}get box(){return u(this,fx)}get classNamesForOutlining(){return["highlightOutline"]}}fx=new WeakMap,Zp=new WeakMap;class FE extends D0{newFreeDrawOutline(e,t,s,r,i,a){return new wee(e,t,s,r,i,a)}}class wee extends O3{newOutliner(e,t,s,r,i,a=0){return new FE(e,t,s,r,i,a)}}var Jp,px,Qo,Gu,mx,Ys,gx,vx,Yu,ti,Er,Jn,em,Zo,vs,tm,ni,yx,Ge,$E,Tb,B3,z3,U3,BE,Ud,oi,uf,V3,Pb,Og,H3,W3,q3,G3,Y3;const dt=class dt extends Pt{constructor(t){super({...t,name:"highlightEditor"});E(this,Ge);E(this,Jp,null);E(this,px,0);E(this,Qo);E(this,Gu,null);E(this,mx,null);E(this,Ys,null);E(this,gx,null);E(this,vx,0);E(this,Yu,null);E(this,ti,null);E(this,Er,null);E(this,Jn,!1);E(this,em,null);E(this,Zo);E(this,vs,null);E(this,tm,"");E(this,ni);E(this,yx,"");this.color=t.color||dt._defaultColor,C(this,ni,t.thickness||dt._defaultThickness),C(this,Zo,t.opacity||dt._defaultOpacity),C(this,Qo,t.boxes||null),C(this,yx,t.methodOfCreation||""),C(this,tm,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(C(this,Jn,!0),A(this,Ge,Tb).call(this,t),A(this,Ge,Ud).call(this)):u(this,Qo)&&(C(this,Jp,t.anchorNode),C(this,px,t.anchorOffset),C(this,gx,t.focusNode),C(this,vx,t.focusOffset),A(this,Ge,$E).call(this),A(this,Ge,Ud).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=dt.prototype;return Ze(this,"_keyboardManager",new Yx([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Jn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:u(this,ni),methodOfCreation:u(this,yx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var r;Pt.initialize(t,s),dt._defaultColor||(dt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case st.HIGHLIGHT_COLOR:dt._defaultColor=s;break;case st.HIGHLIGHT_THICKNESS:dt._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return u(this,em)}updateParams(t,s){switch(t){case st.HIGHLIGHT_COLOR:A(this,Ge,B3).call(this,s);break;case st.HIGHLIGHT_THICKNESS:A(this,Ge,z3).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[st.HIGHLIGHT_COLOR,dt._defaultColor],[st.HIGHLIGHT_THICKNESS,dt._defaultThickness]]}get propertiesToUpdate(){return[[st.HIGHLIGHT_COLOR,this.color||dt._defaultColor],[st.HIGHLIGHT_THICKNESS,u(this,ni)||dt._defaultThickness],[st.HIGHLIGHT_FREE,u(this,Jn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",C(this,mx,new T0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,Ge,Og).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,A(this,Ge,Og).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){A(this,Ge,BE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,Ge,Ud).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?A(this,Ge,BE).call(this):t&&(A(this,Ge,Ud).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var i,a,o;const{drawLayer:s}=this.parent;let r;u(this,Jn)?(t=(t-this.rotation+360)%360,r=A(i=dt,oi,uf).call(i,u(this,ti).box,t)):r=A(a=dt,oi,uf).call(a,[this.x,this.y,this.width,this.height],t),s.updateProperties(u(this,Er),{bbox:r,root:{"data-main-rotation":t}}),s.updateProperties(u(this,vs),{bbox:A(o=dt,oi,uf).call(o,u(this,Ys).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();u(this,tm)&&(t.setAttribute("aria-label",u(this,tm)),t.setAttribute("role","mark")),u(this,Jn)?t.classList.add("free"):this.div.addEventListener("keydown",A(this,Ge,V3).bind(this),{signal:this._uiManager._signal});const s=C(this,Yu,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=u(this,Gu);const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),u$(this,u(this,Yu),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,vs),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(u(this,vs),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,Ge,Pb).call(this,!0);break;case 1:case 3:A(this,Ge,Pb).call(this,!1);break}}select(){var t;super.select(),u(this,vs)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,vs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),u(this,vs)&&((t=this.parent)==null||t.drawLayer.updateProperties(u(this,vs),{rootClass:{selected:!1}}),u(this,Jn)||A(this,Ge,Pb).call(this,!1))}get _mustFixPosition(){return!u(this,Jn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(u(this,Er),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(u(this,vs),{rootClass:{hidden:!t}}))}static startHighlighting(t,s,{target:r,x:i,y:a}){const{x:o,y:l,width:d,height:h}=r.getBoundingClientRect(),f=new AbortController,p=t.combinedSignal(f),m=y=>{f.abort(),A(this,oi,G3).call(this,t,y)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",_n,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",mi,{signal:p}),r.addEventListener("pointermove",A(this,oi,q3).bind(this,t),{signal:p}),this._freeHighlight=new FE({x:i,y:a},[o,l,d,h],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,s,r){var g,_,w,x;let i=null;if(t instanceof _3){const{data:{quadPoints:b,rect:S,rotation:k,id:j,color:N,opacity:P,popupRef:D,contentsObj:T},parent:{page:{pageNumber:F}}}=t;i=t={annotationType:Me.HIGHLIGHT,color:Array.from(N),opacity:P,quadPoints:b,boxes:null,pageIndex:F-1,rect:S.slice(0),rotation:k,annotationElementId:j,id:j,deleted:!1,popupRef:D,comment:(T==null?void 0:T.str)||null}}else if(t instanceof SN){const{data:{inkLists:b,rect:S,rotation:k,id:j,color:N,borderStyle:{rawWidth:P},popupRef:D,contentsObj:T},parent:{page:{pageNumber:F}}}=t;i=t={annotationType:Me.HIGHLIGHT,color:Array.from(N),thickness:P,inkLists:b,boxes:null,pageIndex:F-1,rect:S.slice(0),rotation:k,annotationElementId:j,id:j,deleted:!1,popupRef:D,comment:(T==null?void 0:T.str)||null}}const{color:a,quadPoints:o,inkLists:l,opacity:d}=t,h=await super.deserialize(t,s,r);h.color=me.makeHexColor(...a),C(h,Zo,d||1),l&&C(h,ni,t.thickness),h._initialData=i,t.comment&&h.setCommentData(t.comment);const[f,p]=h.pageDimensions,[m,y]=h.pageTranslation;if(o){const b=C(h,Qo,[]);for(let S=0;S<o.length;S+=8)b.push({x:(o[S]-m)/f,y:1-(o[S+1]-y)/p,width:(o[S+2]-o[S])/f,height:(o[S+1]-o[S+5])/p});A(g=h,Ge,$E).call(g),A(_=h,Ge,Ud).call(_),h.rotate(h.rotation)}else if(l){C(h,Jn,!0);const b=l[0],S={x:b[0]-m,y:p-(b[1]-y)},k=new FE(S,[0,0,f,p],1,u(h,ni)/2,!0,.001);for(let P=0,D=b.length;P<D;P+=2)S.x=b[P]-m,S.y=p-(b[P+1]-y),k.add(S);const{id:j,clipPathId:N}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:k.toSVGPath()}},!0,!0);A(w=h,Ge,Tb).call(w,{highlightOutlines:k.getOutlines(),highlightId:j,clipPathId:N}),A(x=h,Ge,Ud).call(x),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getPDFRect(),r=Pt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i={annotationType:Me.HIGHLIGHT,color:r,opacity:u(this,Zo),thickness:u(this,ni),quadPoints:A(this,Ge,H3).call(this),outlines:A(this,Ge,W3).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:A(this,Ge,Og).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(i),this.annotationElementId&&!A(this,Ge,Y3).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const s={rect:this.getPDFRect()};return this.hasEditedComment&&(s.popup=this.comment),t.updateEdited(s),null}static canCreateNewEmptyEditor(){return!1}};Jp=new WeakMap,px=new WeakMap,Qo=new WeakMap,Gu=new WeakMap,mx=new WeakMap,Ys=new WeakMap,gx=new WeakMap,vx=new WeakMap,Yu=new WeakMap,ti=new WeakMap,Er=new WeakMap,Jn=new WeakMap,em=new WeakMap,Zo=new WeakMap,vs=new WeakMap,tm=new WeakMap,ni=new WeakMap,yx=new WeakMap,Ge=new WeakSet,$E=function(){const t=new IE(u(this,Qo),.001);C(this,ti,t.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,ti).box;const s=new IE(u(this,Qo),.0025,.001,this._uiManager.direction==="ltr");C(this,Ys,s.getOutlines());const{lastPoint:r}=u(this,Ys);C(this,em,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Tb=function({highlightOutlines:t,highlightId:s,clipPathId:r}){var f,p;if(C(this,ti,t),C(this,Ys,t.getNewOutline(u(this,ni)/2+1.5,.0025)),s>=0)C(this,Er,s),C(this,Gu,r),this.parent.drawLayer.finalizeDraw(s,{bbox:t.box,path:{d:t.toSVGPath()}}),C(this,vs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Ys).box,path:{d:u(this,Ys).toSVGPath()}},!0));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,Er),{bbox:A(f=dt,oi,uf).call(f,u(this,ti).box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,vs),{bbox:A(p=dt,oi,uf).call(p,u(this,Ys).box,m),path:{d:u(this,Ys).toSVGPath()}})}const[a,o,l,d]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=d;break;case 90:{const[m,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/m,this.height=d*m/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=d;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/m,this.height=d*m/y;break}}const{lastPoint:h}=u(this,Ys);C(this,em,[(h[0]-a)/l,(h[1]-o)/d])},B3=function(t){const s=(a,o)=>{var l,d;this.color=a,C(this,Zo,o),(l=this.parent)==null||l.drawLayer.updateProperties(u(this,Er),{root:{fill:a,"fill-opacity":o}}),(d=u(this,mx))==null||d.updateColor(a)},r=this.color,i=u(this,Zo);this.addCommands({cmd:s.bind(this,t,dt._defaultOpacity),undo:s.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},z3=function(t){const s=u(this,ni),r=i=>{C(this,ni,i),A(this,Ge,U3).call(this,i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},U3=function(t){if(!u(this,Jn))return;A(this,Ge,Tb).call(this,{highlightOutlines:u(this,ti).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},BE=function(){u(this,Er)===null||!this.parent||(this.parent.drawLayer.remove(u(this,Er)),C(this,Er,null),this.parent.drawLayer.remove(u(this,vs)),C(this,vs,null))},Ud=function(t=this.parent){u(this,Er)===null&&({id:nn(this,Er)._,clipPathId:nn(this,Gu)._}=t.drawLayer.draw({bbox:u(this,ti).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,Zo)},rootClass:{highlight:!0,free:u(this,Jn)},path:{d:u(this,ti).toSVGPath()}},!1,!0),C(this,vs,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,Jn)},bbox:u(this,Ys).box,path:{d:u(this,Ys).toSVGPath()}},u(this,Jn))),u(this,Yu)&&(u(this,Yu).style.clipPath=u(this,Gu)))},oi=new WeakSet,uf=function([t,s,r,i],a){switch(a){case 90:return[1-s-i,t,i,r];case 180:return[1-t-r,1-s-i,r,i];case 270:return[s,1-t-r,i,r]}return[t,s,r,i]},V3=function(t){dt._keyboardManager.exec(this,t)},Pb=function(t){if(!u(this,Jp))return;const s=window.getSelection();t?s.setPosition(u(this,Jp),u(this,px)):s.setPosition(u(this,gx),u(this,vx))},Og=function(){return u(this,Jn)?this.rotation:0},H3=function(){if(u(this,Jn))return null;const[t,s]=this.pageDimensions,[r,i]=this.pageTranslation,a=u(this,Qo),o=new Float32Array(a.length*8);let l=0;for(const{x:d,y:h,width:f,height:p}of a){const m=d*t+r,y=(1-h)*s+i;o[l]=o[l+4]=m,o[l+1]=o[l+3]=y,o[l+2]=o[l+6]=m+f*t,o[l+5]=o[l+7]=y-p*s,l+=8}return o},W3=function(t){return u(this,ti).serialize(t,A(this,Ge,Og).call(this))},q3=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},G3=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Y3=function(t){const{color:s}=this._initialData;return this.hasEditedComment||t.color.some((r,i)=>r!==s[i])},E(dt,oi),ee(dt,"_defaultColor",null),ee(dt,"_defaultOpacity",1),ee(dt,"_defaultThickness",12),ee(dt,"_type","highlight"),ee(dt,"_editorType",Me.HIGHLIGHT),ee(dt,"_freeHighlightId",-1),ee(dt,"_freeHighlight",null),ee(dt,"_freeHighlightClipId","");let M0=dt;var Ku;class K3{constructor(){E(this,Ku,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){u(this,Ku)[e]=t}toSVGProperties(){const e=u(this,Ku);return C(this,Ku,Object.create(null)),{root:e}}reset(){C(this,Ku,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Et("Not implemented")}}Ku=new WeakMap;var Ar,nm,Bn,Xu,Qu,Oc,Ic,Lc,Zu,it,zE,UE,VE,Ig,X3,Rb,Lg,hf;const pe=class pe extends Pt{constructor(t){super(t);E(this,it);E(this,Ar,null);E(this,nm);ee(this,"_colorPicker",null);ee(this,"_drawId",null);C(this,nm,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(A(this,it,zE).call(this,t),A(this,it,Ig).call(this))}static _mergeSVGProperties(t,s){const r=new Set(Object.keys(t));for(const[i,a]of Object.entries(s))r.has(i)?Object.assign(t[i],a):t[i]=a;return t}static getDefaultDrawingOptions(t){Et("Not implemented")}static get typesMap(){Et("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,s){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,s),this._currentParent&&(u(pe,Bn).updateProperty(r,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,s){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,s)}static get defaultPropertiesToUpdate(){const t=[],s=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)t.push([r,s[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:s}=this;for(const[r,i]of this.constructor.typesMap)t.push([r,s[i]]);return t}_updateProperty(t,s,r){const i=this._drawingOptions,a=i[s],o=l=>{var h,f;i.updateProperty(s,l);const d=u(this,Ar).updateProperty(s,l);d&&A(this,it,Lg).call(this,d),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&((f=this._colorPicker)==null||f.update(l))};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(u(this,Ar).getPathResizingSVGProperties(A(this,it,Rb).call(this)),{bbox:A(this,it,hf).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(u(this,Ar).getPathResizedSVGProperties(A(this,it,Rb).call(this)),{bbox:A(this,it,hf).call(this)}))}_onTranslating(t,s){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:A(this,it,hf).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties(u(this,Ar).getPathTranslatedSVGProperties(A(this,it,Rb).call(this),this.parentDimensions),{bbox:A(this,it,hf).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,nm)&&(C(this,nm,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){A(this,it,VE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,it,Ig).call(this),A(this,it,Lg).call(this,u(this,Ar).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),A(this,it,VE).call(this)):t&&(this._uiManager.addShouldRescale(this),A(this,it,Ig).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),s&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,pe._mergeSVGProperties({bbox:A(this,it,hf).call(this)},u(this,Ar).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&A(this,it,Lg).call(this,u(this,Ar).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,s;this._isCopy&&(t=this.x,s=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,s),r}static createDrawerInstance(t,s,r,i,a){Et("Not implemented")}static startDrawing(t,s,r,i){var _;const{target:a,offsetX:o,offsetY:l,pointerId:d,pointerType:h}=i;if(u(pe,Ic)&&u(pe,Ic)!==h)return;const{viewport:{rotation:f}}=t,{width:p,height:m}=a.getBoundingClientRect(),y=C(pe,Xu,new AbortController),g=t.combinedSignal(y);if(u(pe,Oc)||C(pe,Oc,d),u(pe,Ic)??C(pe,Ic,h),window.addEventListener("pointerup",w=>{var x;u(pe,Oc)===w.pointerId?this._endDraw(w):(x=u(pe,Lc))==null||x.delete(w.pointerId)},{signal:g}),window.addEventListener("pointercancel",w=>{var x;u(pe,Oc)===w.pointerId?this._currentParent.endDrawingSession():(x=u(pe,Lc))==null||x.delete(w.pointerId)},{signal:g}),window.addEventListener("pointerdown",w=>{u(pe,Ic)===w.pointerType&&((u(pe,Lc)||C(pe,Lc,new Set)).add(w.pointerId),u(pe,Bn).isCancellable()&&(u(pe,Bn).removeLastElement(),u(pe,Bn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",mi,{signal:g}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),a.addEventListener("touchmove",w=>{w.timeStamp===u(pe,Zu)&&_n(w)},{signal:g}),t.toggleDrawing(),(_=s._editorUndoBar)==null||_.hide(),u(pe,Bn)){t.drawLayer.updateProperties(this._currentDrawId,u(pe,Bn).startNew(o,l,p,m,f));return}s.updateUIForDefaultProperties(this),C(pe,Bn,this.createDrawerInstance(o,l,p,m,f)),C(pe,Qu,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(u(pe,Qu).toSVGProperties(),u(pe,Bn).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(C(pe,Zu,-1),!u(pe,Bn))return;const{offsetX:s,offsetY:r,pointerId:i}=t;if(u(pe,Oc)===i){if(((a=u(pe,Lc))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(pe,Bn).add(s,r)),C(pe,Zu,t.timeStamp),_n(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,C(pe,Bn,null),C(pe,Qu,null),C(pe,Ic,null),C(pe,Zu,NaN)),u(pe,Xu)&&(u(pe,Xu).abort(),C(pe,Xu,null),C(pe,Oc,NaN),C(pe,Lc,null))}static _endDraw(t){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===s.div&&s.drawLayer.updateProperties(this._currentDrawId,u(pe,Bn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=u(pe,Bn),i=this._currentDrawId,a=r.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(i,r.setLastElement(a))},undo:()=>{s.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:st.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(st.DRAW_STEP),!u(pe,Bn).isEmpty()){const{pageDimensions:[r,i],scale:a}=s,o=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(pe,Bn).getOutlines(r*a,i*a,a,this._INNER_MARGIN),drawingOptions:u(pe,Qu),mustBeCommitted:!t});return this._cleanup(!0),o}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,s,r,i,a,o){Et("Not implemented")}static async deserialize(t,s,r){var f,p;const{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:l}}=s.viewport,d=this.deserializeDraw(o,l,i,a,this._INNER_MARGIN,t),h=await super.deserialize(t,s,r);return h.createDrawingOptions(t),A(f=h,it,zE).call(f,{drawOutlines:d}),A(p=h,it,Ig).call(p),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[s,r]=this.pageTranslation,[i,a]=this.pageDimensions;return u(this,Ar).serialize([s,r,i,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ar=new WeakMap,nm=new WeakMap,Bn=new WeakMap,Xu=new WeakMap,Qu=new WeakMap,Oc=new WeakMap,Ic=new WeakMap,Lc=new WeakMap,Zu=new WeakMap,it=new WeakSet,zE=function({drawOutlines:t,drawId:s,drawingOptions:r}){C(this,Ar,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,t.defaultProperties)):this._drawId=A(this,it,UE).call(this,t,this.parent),A(this,it,Lg).call(this,t.box)},UE=function(t,s){const{id:r}=s.drawLayer.draw(pe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},VE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Ig=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=A(this,it,UE).call(this,u(this,Ar),t)}},X3=function([t,s,r,i]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[s,1-t,r*(o/a),i*(a/o)];case 180:return[1-t,1-s,r,i];case 270:return[1-s,t,r*(o/a),i*(a/o)];default:return[t,s,r,i]}},Rb=function(){const{x:t,y:s,width:r,height:i,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-s,t,r*(a/o),i*(o/a)];case 180:return[1-t,1-s,r,i];case 270:return[s,1-t,r*(a/o),i*(o/a)];default:return[t,s,r,i]}},Lg=function(t){if([this.x,this.y,this.width,this.height]=A(this,it,X3).call(this,t),this.div){this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)}this._onResized()},hf=function(){const{x:t,y:s,width:r,height:i,rotation:a,parentRotation:o,parentDimensions:[l,d]}=this;switch((a*4+o)/90){case 1:return[1-s-i,t,i,r];case 2:return[1-t-r,1-s-i,r,i];case 3:return[s,1-t-r,i,r];case 4:return[t,s-r*(l/d),i*(d/l),r*(l/d)];case 5:return[1-s,t,r*(l/d),i*(d/l)];case 6:return[1-t-i*(d/l),1-s,i*(d/l),r*(l/d)];case 7:return[s-r*(l/d),1-t-i*(d/l),r*(l/d),i*(d/l)];case 8:return[t-r,s-i,r,i];case 9:return[1-s,t-r,i,r];case 10:return[1-t,1-s,r,i];case 11:return[s-i,1-t,i,r];case 12:return[t-i*(d/l),s,i*(d/l),r*(l/d)];case 13:return[1-s-r*(l/d),t-i*(d/l),r*(l/d),i*(d/l)];case 14:return[1-t,1-s-r*(l/d),i*(d/l),r*(l/d)];case 15:return[s,1-t,r*(l/d),i*(d/l)];default:return[t,s,r,i]}},ee(pe,"_currentDrawId",-1),ee(pe,"_currentParent",null),E(pe,Bn,null),E(pe,Xu,null),E(pe,Qu,null),E(pe,Oc,NaN),E(pe,Ic,null),E(pe,Lc,null),E(pe,Zu,NaN),ee(pe,"_INNER_MARGIN",3);let O0=pe;var Ra,zn,Un,Ju,sm,Es,es,si,eh,th,nh,rm,Db;class bee{constructor(e,t,s,r,i,a){E(this,rm);E(this,Ra,new Float64Array(6));E(this,zn);E(this,Un);E(this,Ju);E(this,sm);E(this,Es);E(this,es,"");E(this,si,0);E(this,eh,new Xx);E(this,th);E(this,nh);C(this,th,s),C(this,nh,r),C(this,Ju,i),C(this,sm,a),[e,t]=A(this,rm,Db).call(this,e,t);const o=C(this,zn,[NaN,NaN,NaN,NaN,e,t]);C(this,Es,[e,t]),C(this,Un,[{line:o,points:u(this,Es)}]),u(this,Ra).set(o,0)}updateProperty(e,t){e==="stroke-width"&&C(this,sm,t)}isEmpty(){return!u(this,Un)||u(this,Un).length===0}isCancellable(){return u(this,Es).length<=10}add(e,t){[e,t]=A(this,rm,Db).call(this,e,t);const[s,r,i,a]=u(this,Ra).subarray(2,6),o=e-i,l=t-a;return Math.hypot(u(this,th)*o,u(this,nh)*l)<=2?null:(u(this,Es).push(e,t),isNaN(s)?(u(this,Ra).set([i,a,e,t],2),u(this,zn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(u(this,Ra)[0])&&u(this,zn).splice(6,6),u(this,Ra).set([s,r,i,a,e,t],0),u(this,zn).push(...ue.createBezierPoints(s,r,i,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(u(this,Es).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,r,i){C(this,th,s),C(this,nh,r),C(this,Ju,i),[e,t]=A(this,rm,Db).call(this,e,t);const a=C(this,zn,[NaN,NaN,NaN,NaN,e,t]);C(this,Es,[e,t]);const o=u(this,Un).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),u(this,Un).push({line:a,points:u(this,Es)}),u(this,Ra).set(a,0),C(this,si,0),this.toSVGPath(),null}getLastElement(){return u(this,Un).at(-1)}setLastElement(e){return u(this,Un)?(u(this,Un).push(e),C(this,zn,e.line),C(this,Es,e.points),C(this,si,0),{path:{d:this.toSVGPath()}}):u(this,eh).setLastElement(e)}removeLastElement(){if(!u(this,Un))return u(this,eh).removeLastElement();u(this,Un).pop(),C(this,es,"");for(let e=0,t=u(this,Un).length;e<t;e++){const{line:s,points:r}=u(this,Un)[e];C(this,zn,s),C(this,Es,r),C(this,si,0),this.toSVGPath()}return{path:{d:u(this,es)}}}toSVGPath(){const e=ue.svgRound(u(this,zn)[4]),t=ue.svgRound(u(this,zn)[5]);if(u(this,Es).length===2)return C(this,es,`${u(this,es)} M ${e} ${t} Z`),u(this,es);if(u(this,Es).length<=6){const r=u(this,es).lastIndexOf("M");C(this,es,`${u(this,es).slice(0,r)} M ${e} ${t}`),C(this,si,6)}if(u(this,Es).length===4){const r=ue.svgRound(u(this,zn)[10]),i=ue.svgRound(u(this,zn)[11]);return C(this,es,`${u(this,es)} L ${r} ${i}`),C(this,si,12),u(this,es)}const s=[];u(this,si)===0&&(s.push(`M ${e} ${t}`),C(this,si,6));for(let r=u(this,si),i=u(this,zn).length;r<i;r+=6){const[a,o,l,d,h,f]=u(this,zn).slice(r,r+6).map(ue.svgRound);s.push(`C${a} ${o} ${l} ${d} ${h} ${f}`)}return C(this,es,u(this,es)+s.join(" ")),C(this,si,u(this,zn).length),u(this,es)}getOutlines(e,t,s,r){const i=u(this,Un).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),u(this,eh).build(u(this,Un),e,t,s,u(this,Ju),u(this,sm),r),C(this,Ra,null),C(this,zn,null),C(this,Un,null),C(this,es,null),u(this,eh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ra=new WeakMap,zn=new WeakMap,Un=new WeakMap,Ju=new WeakMap,sm=new WeakMap,Es=new WeakMap,es=new WeakMap,si=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakMap,rm=new WeakSet,Db=function(e,t){return ue._normalizePoint(e,t,u(this,th),u(this,nh),u(this,Ju))};var As,xx,wx,jr,Da,Ma,im,am,sh,ss,fo,Q3,Z3,J3;class Xx extends ue{constructor(){super(...arguments);E(this,ss);E(this,As);E(this,xx,0);E(this,wx);E(this,jr);E(this,Da);E(this,Ma);E(this,im);E(this,am);E(this,sh)}build(t,s,r,i,a,o,l){C(this,Da,s),C(this,Ma,r),C(this,im,i),C(this,am,a),C(this,sh,o),C(this,wx,l??0),C(this,jr,t),A(this,ss,Z3).call(this)}get thickness(){return u(this,sh)}setLastElement(t){return u(this,jr).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,jr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:s}of u(this,jr)){if(t.push(`M${ue.svgRound(s[4])} ${ue.svgRound(s[5])}`),s.length===6){t.push("Z");continue}if(s.length===12&&isNaN(s[6])){t.push(`L${ue.svgRound(s[10])} ${ue.svgRound(s[11])}`);continue}for(let r=6,i=s.length;r<i;r+=6){const[a,o,l,d,h,f]=s.subarray(r,r+6).map(ue.svgRound);t.push(`C${a} ${o} ${l} ${d} ${h} ${f}`)}}return t.join("")}serialize([t,s,r,i],a){const o=[],l=[],[d,h,f,p]=A(this,ss,Q3).call(this);let m,y,g,_,w,x,b,S,k;switch(u(this,am)){case 0:k=ue._rescale,m=t,y=s+i,g=r,_=-i,w=t+d*r,x=s+(1-h-p)*i,b=t+(d+f)*r,S=s+(1-h)*i;break;case 90:k=ue._rescaleAndSwap,m=t,y=s,g=r,_=i,w=t+h*r,x=s+d*i,b=t+(h+p)*r,S=s+(d+f)*i;break;case 180:k=ue._rescale,m=t+r,y=s,g=-r,_=i,w=t+(1-d-f)*r,x=s+h*i,b=t+(1-d)*r,S=s+(h+p)*i;break;case 270:k=ue._rescaleAndSwap,m=t+r,y=s+i,g=-r,_=-i,w=t+(1-h-p)*r,x=s+(1-d-f)*i,b=t+(1-h)*r,S=s+(1-d)*i;break}for(const{line:j,points:N}of u(this,jr))o.push(k(j,m,y,g,_,a?new Array(j.length):null)),l.push(k(N,m,y,g,_,a?new Array(N.length):null));return{lines:o,points:l,rect:[w,x,b,S]}}static deserialize(t,s,r,i,a,{paths:{lines:o,points:l},rotation:d,thickness:h}){const f=[];let p,m,y,g,_;switch(d){case 0:_=ue._rescale,p=-t/r,m=s/i+1,y=1/r,g=-1/i;break;case 90:_=ue._rescaleAndSwap,p=-s/i,m=-t/r,y=1/i,g=1/r;break;case 180:_=ue._rescale,p=t/r+1,m=-s/i,y=-1/r,g=1/i;break;case 270:_=ue._rescaleAndSwap,p=s/i+1,m=t/r+1,y=-1/i,g=-1/r;break}if(!o){o=[];for(const x of l){const b=x.length;if(b===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(b===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const S=new Float32Array(3*(b-2));o.push(S);let[k,j,N,P]=x.subarray(0,4);S.set([NaN,NaN,NaN,NaN,k,j],0);for(let D=4;D<b;D+=2){const T=x[D],F=x[D+1];S.set(ue.createBezierPoints(k,j,N,P,T,F),(D-2)*3),[k,j,N,P]=[N,P,T,F]}}}for(let x=0,b=o.length;x<b;x++)f.push({line:_(o[x].map(S=>S??NaN),p,m,y,g),points:_(l[x].map(S=>S??NaN),p,m,y,g)});const w=new this.prototype.constructor;return w.build(f,r,i,1,d,h,a),w}get box(){return u(this,As)}updateProperty(t,s){return t==="stroke-width"?A(this,ss,J3).call(this,s):null}updateParentDimensions([t,s],r){const[i,a]=A(this,ss,fo).call(this);C(this,Da,t),C(this,Ma,s),C(this,im,r);const[o,l]=A(this,ss,fo).call(this),d=o-i,h=l-a,f=u(this,As);return f[0]-=d,f[1]-=h,f[2]+=2*d,f[3]+=2*h,f}updateRotation(t){return C(this,xx,t),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,As).map(ue.svgRound).join(" ")}get defaultProperties(){const[t,s]=u(this,As);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(s)}`}}}get rotationTransform(){const[,,t,s]=u(this,As);let r=0,i=0,a=0,o=0,l=0,d=0;switch(u(this,xx)){case 90:i=s/t,a=-t/s,l=t;break;case 180:r=-1,o=-1,l=t,d=s;break;case 270:i=-s/t,a=t/s,d=s;break;default:return""}return`matrix(${r} ${i} ${a} ${o} ${ue.svgRound(l)} ${ue.svgRound(d)})`}getPathResizingSVGProperties([t,s,r,i]){const[a,o]=A(this,ss,fo).call(this),[l,d,h,f]=u(this,As);if(Math.abs(h-a)<=ue.PRECISION||Math.abs(f-o)<=ue.PRECISION){const _=t+r/2-(l+h/2),w=s+i/2-(d+f/2);return{path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(s)}`,transform:`${this.rotationTransform} translate(${_} ${w})`}}}const p=(r-2*a)/(h-2*a),m=(i-2*o)/(f-2*o),y=h/r,g=f/i;return{path:{"transform-origin":`${ue.svgRound(l)} ${ue.svgRound(d)}`,transform:`${this.rotationTransform} scale(${y} ${g}) translate(${ue.svgRound(a)} ${ue.svgRound(o)}) scale(${p} ${m}) translate(${ue.svgRound(-a)} ${ue.svgRound(-o)})`}}}getPathResizedSVGProperties([t,s,r,i]){const[a,o]=A(this,ss,fo).call(this),l=u(this,As),[d,h,f,p]=l;if(l[0]=t,l[1]=s,l[2]=r,l[3]=i,Math.abs(f-a)<=ue.PRECISION||Math.abs(p-o)<=ue.PRECISION){const w=t+r/2-(d+f/2),x=s+i/2-(h+p/2);for(const{line:b,points:S}of u(this,jr))ue._translate(b,w,x,b),ue._translate(S,w,x,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(r-2*a)/(f-2*a),y=(i-2*o)/(p-2*o),g=-m*(d+a)+t+a,_=-y*(h+o)+s+o;if(m!==1||y!==1||g!==0||_!==0)for(const{line:w,points:x}of u(this,jr))ue._rescale(w,g,_,m,y,w),ue._rescale(x,g,_,m,y,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,s],r){const[i,a]=r,o=u(this,As),l=t-o[0],d=s-o[1];if(u(this,Da)===i&&u(this,Ma)===a)for(const{line:h,points:f}of u(this,jr))ue._translate(h,l,d,h),ue._translate(f,l,d,f);else{const h=u(this,Da)/i,f=u(this,Ma)/a;C(this,Da,i),C(this,Ma,a);for(const{line:p,points:m}of u(this,jr))ue._rescale(p,l,d,h,f,p),ue._rescale(m,l,d,h,f,m);o[2]*=h,o[3]*=f}return o[0]=t,o[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(t)} ${ue.svgRound(s)}`}}}get defaultSVGProperties(){const t=u(this,As);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(t[0])} ${ue.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}As=new WeakMap,xx=new WeakMap,wx=new WeakMap,jr=new WeakMap,Da=new WeakMap,Ma=new WeakMap,im=new WeakMap,am=new WeakMap,sh=new WeakMap,ss=new WeakSet,fo=function(t=u(this,sh)){const s=u(this,wx)+t/2*u(this,im);return u(this,am)%180===0?[s/u(this,Da),s/u(this,Ma)]:[s/u(this,Ma),s/u(this,Da)]},Q3=function(){const[t,s,r,i]=u(this,As),[a,o]=A(this,ss,fo).call(this,0);return[t+a,s+o,r-2*a,i-2*o]},Z3=function(){const t=C(this,As,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of u(this,jr)){if(i.length<=12){for(let l=4,d=i.length;l<d;l+=6)me.pointBoundingBox(i[l],i[l+1],t);continue}let a=i[4],o=i[5];for(let l=6,d=i.length;l<d;l+=6){const[h,f,p,m,y,g]=i.subarray(l,l+6);me.bezierBoundingBox(a,o,h,f,p,m,y,g,t),a=y,o=g}}const[s,r]=A(this,ss,fo).call(this);t[0]=Ts(t[0]-s,0,1),t[1]=Ts(t[1]-r,0,1),t[2]=Ts(t[2]+s,0,1),t[3]=Ts(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},J3=function(t){const[s,r]=A(this,ss,fo).call(this);C(this,sh,t);const[i,a]=A(this,ss,fo).call(this),[o,l]=[i-s,a-r],d=u(this,As);return d[0]-=o,d[1]-=l,d[2]+=2*o,d[3]+=2*l,d};class bS extends K3{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Pt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new bS(this._viewParameters);return e.updateAll(this),e}}var y_,eB;const jf=class jf extends O0{constructor(t){super({...t,name:"inkEditor"});E(this,y_);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,s){Pt.initialize(t,s),this._defaultDrawingOptions=new bS(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ze(this,"typesMap",new Map([[st.INK_THICKNESS,"stroke-width"],[st.INK_COLOR,"stroke"],[st.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,s,r,i,a){return new bee(t,s,r,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,s,r,i,a,o){return Xx.deserialize(t,s,r,i,a,o)}static async deserialize(t,s,r){let i=null;if(t instanceof SN){const{data:{inkLists:o,rect:l,rotation:d,id:h,color:f,opacity:p,borderStyle:{rawWidth:m},popupRef:y,contentsObj:g},parent:{page:{pageNumber:_}}}=t;i=t={annotationType:Me.INK,color:Array.from(f),thickness:m,opacity:p,paths:{points:o},boxes:null,pageIndex:_-1,rect:l.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:y,comment:(g==null?void 0:g.str)||null}}const a=await super.deserialize(t,s,r);return a._initialData=i,t.comment&&a.setCommentData(t.comment),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new P0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return st.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:s,parent:r}=this;s.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:s,opacity:r}){this._drawingOptions=jf.getDefaultDrawingOptions({stroke:me.makeHexColor(...t),"stroke-width":s,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:r,rect:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,d={annotationType:Me.INK,color:Pt._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:s,points:r},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(d),t?(d.isCopy=!0,d):this.annotationElementId&&!A(this,y_,eB).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:s,rect:r}=this.serializeDraw(!1),i={rect:r,thickness:this._drawingOptions["stroke-width"],points:s};return this.hasEditedComment&&(i.popup=this.comment),t.updateEdited(i),null}};y_=new WeakSet,eB=function(t){const{color:s,thickness:r,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==s[l])||t.thickness!==r||t.opacity!==i||t.pageIndex!==a},ee(jf,"_type","ink"),ee(jf,"_editorType",Me.INK),ee(jf,"_defaultDrawingOptions",null);let HE=jf;class WE extends Xx{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Vw=8,dg=3;var rh,pt,qE,Fi,tB,nB,GE,Mb,sB,rB,iB,YE,KE,aB;class rl{static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:r},i,a,o,l){let d=new OffscreenCanvas(1,1),h=d.getContext("2d",{alpha:!1});const f=200,p=h.font=`${s} ${r} ${f}px ${t}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:y,actualBoundingBoxAscent:g,actualBoundingBoxDescent:_,fontBoundingBoxAscent:w,fontBoundingBoxDescent:x,width:b}=h.measureText(e),S=1.5,k=Math.ceil(Math.max(Math.abs(m)+Math.abs(y)||0,b)*S),j=Math.ceil(Math.max(Math.abs(g)+Math.abs(_)||f,Math.abs(w)+Math.abs(x)||f)*S);d=new OffscreenCanvas(k,j),h=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=p,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,k,j),h.fillStyle="black",h.fillText(e,k*(S-1)/2,j*(3-S)/2);const N=A(this,pt,YE).call(this,h.getImageData(0,0,k,j).data),P=A(this,pt,iB).call(this,N),D=A(this,pt,KE).call(this,P),T=A(this,pt,GE).call(this,N,k,j,D);return this.processDrawnLines({lines:{curves:T,width:k,height:j},pageWidth:i,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,s,r,i){const[a,o,l]=A(this,pt,aB).call(this,e),[d,h]=A(this,pt,rB).call(this,a,o,l,Math.hypot(o,l)*u(this,rh).sigmaSFactor,u(this,rh).sigmaR,u(this,rh).kernelSize),f=A(this,pt,KE).call(this,h),p=A(this,pt,GE).call(this,d,o,l,f);return this.processDrawnLines({lines:{curves:p,width:o,height:l},pageWidth:t,pageHeight:s,rotation:r,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:r,innerMargin:i,mustSmooth:a,areContours:o}){r%180!==0&&([t,s]=[s,t]);const{curves:l,width:d,height:h}=e,f=e.thickness??0,p=[],m=Math.min(t/d,s/h),y=m/t,g=m/s,_=[];for(const{points:x}of l){const b=a?A(this,pt,sB).call(this,x):x;if(!b)continue;_.push(b);const S=b.length,k=new Float32Array(S),j=new Float32Array(3*(S===2?2:S-2));if(p.push({line:j,points:k}),S===2){k[0]=b[0]*y,k[1]=b[1]*g,j.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[N,P,D,T]=b;N*=y,P*=g,D*=y,T*=g,k.set([N,P,D,T],0),j.set([NaN,NaN,NaN,NaN,N,P],0);for(let F=4;F<S;F+=2){const M=k[F]=b[F]*y,U=k[F+1]=b[F+1]*g;j.set(ue.createBezierPoints(N,P,D,T,M,U),(F-2)*3),[N,P,D,T]=[D,T,M,U]}}if(p.length===0)return null;const w=o?new WE:new Xx;return w.build(p,t,s,1,r,o?0:f,i),{outline:w,newCurves:_,areContours:o,thickness:f,width:d,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:r,height:i}){let a=1/0,o=-1/0,l=0;for(const b of e){l+=b.length;for(let S=2,k=b.length;S<k;S++){const j=b[S]-b[S-2];a=Math.min(a,j),o=Math.max(o,j)}}let d;a>=-128&&o<=127?d=Int8Array:a>=-32768&&o<=32767?d=Int16Array:d=Int32Array;const h=e.length,f=Vw+dg*h,p=new Uint32Array(f);let m=0;p[m++]=f*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*d.BYTES_PER_ELEMENT,p[m++]=0,p[m++]=r,p[m++]=i,p[m++]=t?0:1,p[m++]=Math.max(0,Math.floor(s??0)),p[m++]=h,p[m++]=d.BYTES_PER_ELEMENT;for(const b of e)p[m++]=b.length-2,p[m++]=b[0],p[m++]=b[1];const y=new CompressionStream("deflate-raw"),g=y.writable.getWriter();await g.ready,g.write(p);const _=d.prototype.constructor;for(const b of e){const S=new _(b.length-2);for(let k=2,j=b.length;k<j;k++)S[k-2]=b[k]-b[k-2];g.write(S)}g.close();const w=await new Response(y.readable).arrayBuffer(),x=new Uint8Array(w);return i$(x)}static async decompressSignature(e){try{const t=VZ(e),{readable:s,writable:r}=new DecompressionStream("deflate-raw"),i=r.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let a=null,o=0;for await(const b of s)a||(a=new Uint8Array(new Uint32Array(b.buffer,0,4)[0])),a.set(b,o),o+=b.length;const l=new Uint32Array(a.buffer,0,a.length>>2),d=l[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const h=l[2],f=l[3],p=l[4]===0,m=l[5],y=l[6],g=l[7],_=[],w=(Vw+dg*y)*Uint32Array.BYTES_PER_ELEMENT;let x;switch(g){case Int8Array.BYTES_PER_ELEMENT:x=new Int8Array(a.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:x=new Int16Array(a.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:x=new Int32Array(a.buffer,w);break}o=0;for(let b=0;b<y;b++){const S=l[dg*b+Vw],k=new Float32Array(S+2);_.push(k);for(let j=0;j<dg-1;j++)k[j]=l[dg*b+Vw+j+1];for(let j=0;j<S;j++)k[j+2]=k[j]+x[o++]}return{areContours:p,thickness:m,outlines:_,width:h,height:f}}catch(t){return Le(`decompressSignature: ${t}`),null}}}rh=new WeakMap,pt=new WeakSet,qE=function(e,t,s,r){return s-=e,r-=t,s===0?r>0?0:4:s===1?r+6:2-r},Fi=new WeakMap,tB=function(e,t,s,r,i,a,o){const l=A(this,pt,qE).call(this,s,r,i,a);for(let d=0;d<8;d++){const h=(-d+l-o+16)%8,f=u(this,Fi)[2*h],p=u(this,Fi)[2*h+1];if(e[(s+f)*t+(r+p)]!==0)return h}return-1},nB=function(e,t,s,r,i,a,o){const l=A(this,pt,qE).call(this,s,r,i,a);for(let d=0;d<8;d++){const h=(d+l+o+16)%8,f=u(this,Fi)[2*h],p=u(this,Fi)[2*h+1];if(e[(s+f)*t+(r+p)]!==0)return h}return-1},GE=function(e,t,s,r){const i=e.length,a=new Int32Array(i);for(let h=0;h<i;h++)a[h]=e[h]<=r?1:0;for(let h=1;h<s-1;h++)a[h*t]=a[h*t+t-1]=0;for(let h=0;h<t;h++)a[h]=a[t*s-1-h]=0;let o=1,l;const d=[];for(let h=1;h<s-1;h++){l=1;for(let f=1;f<t-1;f++){const p=h*t+f,m=a[p];if(m===0)continue;let y=h,g=f;if(m===1&&a[p-1]===0)o+=1,g-=1;else if(m>=1&&a[p+1]===0)o+=1,g+=1,m>1&&(l=m);else{m!==1&&(l=Math.abs(m));continue}const _=[f,h],w=g===f+1,x={isHole:w,points:_,id:o,parent:0};d.push(x);let b;for(const F of d)if(F.id===l){b=F;break}b?b.isHole?x.parent=w?b.parent:l:x.parent=w?l:b.parent:x.parent=w?l:0;const S=A(this,pt,tB).call(this,a,t,h,f,y,g,0);if(S===-1){a[p]=-o,a[p]!==1&&(l=Math.abs(a[p]));continue}let k=u(this,Fi)[2*S],j=u(this,Fi)[2*S+1];const N=h+k,P=f+j;y=N,g=P;let D=h,T=f;for(;;){const F=A(this,pt,nB).call(this,a,t,D,T,y,g,1);k=u(this,Fi)[2*F],j=u(this,Fi)[2*F+1];const M=D+k,U=T+j;_.push(U,M);const R=D*t+T;if(a[R+1]===0?a[R]=-o:a[R]===1&&(a[R]=o),M===h&&U===f&&D===N&&T===P){a[p]!==1&&(l=Math.abs(a[p]));break}else y=D,g=T,D=M,T=U}}}return d},Mb=function(e,t,s,r){if(s-t<=4){for(let N=t;N<s-2;N+=2)r.push(e[N],e[N+1]);return}const i=e[t],a=e[t+1],o=e[s-4]-i,l=e[s-3]-a,d=Math.hypot(o,l),h=o/d,f=l/d,p=h*a-f*i,m=l/o,y=1/d,g=Math.atan(m),_=Math.cos(g),w=Math.sin(g),x=y*(Math.abs(_)+Math.abs(w)),b=y*(1-x+x**2),S=Math.max(Math.atan(Math.abs(w+_)*b),Math.atan(Math.abs(w-_)*b));let k=0,j=t;for(let N=t+2;N<s-2;N+=2){const P=Math.abs(p-h*e[N+1]+f*e[N]);P>k&&(j=N,k=P)}k>(d*S)**2?(A(this,pt,Mb).call(this,e,t,j+2,r),A(this,pt,Mb).call(this,e,j,s,r)):r.push(i,a)},sB=function(e){const t=[],s=e.length;return A(this,pt,Mb).call(this,e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t},rB=function(e,t,s,r,i,a){const o=new Float32Array(a**2),l=-2*r**2,d=a>>1;for(let g=0;g<a;g++){const _=(g-d)**2;for(let w=0;w<a;w++)o[g*a+w]=Math.exp((_+(w-d)**2)/l)}const h=new Float32Array(256),f=-2*i**2;for(let g=0;g<256;g++)h[g]=Math.exp(g**2/f);const p=e.length,m=new Uint8Array(p),y=new Uint32Array(256);for(let g=0;g<s;g++)for(let _=0;_<t;_++){const w=g*t+_,x=e[w];let b=0,S=0;for(let j=0;j<a;j++){const N=g+j-d;if(!(N<0||N>=s))for(let P=0;P<a;P++){const D=_+P-d;if(D<0||D>=t)continue;const T=e[N*t+D],F=o[j*a+P]*h[Math.abs(T-x)];b+=T*F,S+=F}}const k=m[w]=Math.round(b/S);y[k]++}return[m,y]},iB=function(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t},YE=function(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let r=-1/0,i=1/0;for(let o=0,l=s.length;o<l;o++){const d=s[o]=e[o<<2];r=Math.max(r,d),i=Math.min(i,d)}const a=255/(r-i);for(let o=0,l=s.length;o<l;o++)s[o]=(s[o]-i)*a;return s},KE=function(e){let t,s=-1/0,r=-1/0;const i=e.findIndex(l=>l!==0);let a=i,o=i;for(t=i;t<256;t++){const l=e[t];l>s&&(t-a>r&&(r=t-a,o=t-1),s=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},aB=function(e){const t=e,{width:s,height:r}=e,{maxDim:i}=u(this,rh);let a=s,o=r;if(s>i||r>i){let p=s,m=r,y=Math.log2(Math.max(s,r)/i);const g=Math.floor(y);y=y===g?g-1:g;for(let w=0;w<y;w++){a=Math.ceil(p/2),o=Math.ceil(m/2);const x=new OffscreenCanvas(a,o);x.getContext("2d").drawImage(e,0,0,p,m,0,0,a,o),p=a,m=o,e!==t&&e.close(),e=x.transferToImageBitmap()}const _=Math.min(i/a,i/o);a=Math.round(a*_),o=Math.round(o*_)}const d=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,a,o),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,a,o);const h=d.getImageData(0,0,a,o).data;return[A(this,pt,YE).call(this,h),a,o]},E(rl,pt),E(rl,rh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),E(rl,Fi,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class CN extends K3{constructor(){super(),super.updateProperties({fill:Pt._defaultLineColor,"stroke-width":0})}clone(){const e=new CN;return e.updateAll(this),e}}class kN extends bS{constructor(e){super(e),super.updateProperties({stroke:Pt._defaultLineColor,"stroke-width":1})}clone(){const e=new kN(this._viewParameters);return e.updateAll(this),e}}var Fc,Oa,$c,ih;const fr=class fr extends O0{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});E(this,Fc,!1);E(this,Oa,null);E(this,$c,null);E(this,ih,null);this._willKeepAspectRatio=!0,C(this,$c,t.signatureData||null),C(this,Oa,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,s){Pt.initialize(t,s),this._defaultDrawingOptions=new CN,this._defaultDrawnSignatureOptions=new kN(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ze(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,Oa)}}static computeTelemetryFinalData(t){const s=t.get("hasDescription");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,s;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,s=this.y),super.render(),this._drawId===null)if(u(this,$c)){const{lines:i,mustSmooth:a,areContours:o,description:l,uuid:d,heightInPage:h}=u(this,$c),{rawDims:{pageWidth:f,pageHeight:p},rotation:m}=this.parent.viewport,y=rl.processDrawnLines({lines:i,pageWidth:f,pageHeight:p,rotation:m,innerMargin:fr._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(y,h,l,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:u(this,Oa)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,s)),this.div}setUuid(t){C(this,ih,t),this.addEditToolbar()}getUuid(){return u(this,ih)}get description(){return u(this,Oa)}set description(t){C(this,Oa,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(s=>{s==null||s.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:s,thickness:r,width:i,height:a}=u(this,$c),o=Math.max(i,a),l=rl.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:r,width:i,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:s});return{areContours:s,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,s,r,i){const{x:a,y:o}=this,{outline:l}=C(this,$c,t);C(this,Fc,l instanceof WE),this.description=r;let d;u(this,Fc)?d=fr.getDefaultDrawingOptions():(d=fr._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:d});const[h,f]=this.parentDimensions,[,p]=this.pageDimensions;let m=s/p;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(h*this.width,f*this.height),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:s,pageHeight:r},rotation:i}=this.parent.viewport;return rl.process(t,s,r,i,fr._INNER_MARGIN)}getFromText(t,s){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return rl.extractContoursFromText(t,s,r,i,a,fr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:s,pageHeight:r},rotation:i}=this.parent.viewport;return rl.processDrawnLines({lines:t,pageWidth:s,pageHeight:r,rotation:i,innerMargin:fr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:s}){t?this._drawingOptions=fr.getDefaultDrawingOptions():(this._drawingOptions=fr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":s}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:s,points:r,rect:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,o={annotationType:Me.SIGNATURE,isSignature:!0,areContours:u(this,Fc),color:[0,0,0],thickness:u(this,Fc)?0:a,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),t?(o.paths={lines:s,points:r},o.uuid=u(this,ih),o.isCopy=!0):o.lines=s,u(this,Oa)&&(o.accessibilityData={type:"Figure",alt:u(this,Oa)}),o}static deserializeDraw(t,s,r,i,a,o){return o.areContours?WE.deserialize(t,s,r,i,a,o):Xx.deserialize(t,s,r,i,a,o)}static async deserialize(t,s,r){var a;const i=await super.deserialize(t,s,r);return C(i,Fc,t.areContours),i.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",C(i,ih,t.uuid),i}};Fc=new WeakMap,Oa=new WeakMap,$c=new WeakMap,ih=new WeakMap,ee(fr,"_type","signature"),ee(fr,"_editorType",Me.SIGNATURE),ee(fr,"_defaultDrawingOptions",null);let XE=fr;var Wt,Vn,Bc,Jo,zc,om,el,ah,Ia,Nr,lm,at,Fg,$g,Ob,Ib,Lb,ZE,Fb,oB;class QE extends Pt{constructor(t){super({...t,name:"stampEditor"});E(this,at);E(this,Wt,null);E(this,Vn,null);E(this,Bc,null);E(this,Jo,null);E(this,zc,null);E(this,om,"");E(this,el,null);E(this,ah,!1);E(this,Ia,null);E(this,Nr,!1);E(this,lm,!1);C(this,Jo,t.bitmapUrl),C(this,zc,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,s){Pt.initialize(t,s)}static isHandlingMimeForPasting(t){return Vk.includes(t)}static paste(t,s){s.pasteEditor({mode:Me.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:i,width:a,height:o,channels:i.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const d=l.output;return await this.setGuessedAltText(d),s&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t;u(this,Vn)&&(C(this,Wt,null),this._uiManager.imageManager.deleteId(u(this,Vn)),(t=u(this,el))==null||t.remove(),C(this,el,null),u(this,Ia)&&(clearTimeout(u(this,Ia)),C(this,Ia,null))),super.remove()}rebuild(){if(!this.parent){u(this,Vn)&&A(this,at,Ob).call(this);return}super.rebuild(),this.div!==null&&(u(this,Vn)&&u(this,el)===null&&A(this,at,Ob).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(u(this,Bc)||u(this,Wt)||u(this,Jo)||u(this,zc)||u(this,Vn)||u(this,ah))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;return this._isCopy&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.createAltText(),u(this,ah)||(u(this,Wt)?A(this,at,Ib).call(this):A(this,at,Ob).call(this)),this._isCopy&&this._moveAfterPaste(t,s),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,s){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,s);s.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(C(this,Vn,r),i&&C(this,Wt,i),C(this,ah,!1),A(this,at,Ib).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,Ia)!==null&&clearTimeout(u(this,Ia)),C(this,Ia,setTimeout(()=>{C(this,Ia,null),A(this,at,ZE).call(this)},200))}copyCanvas(t,s,r=!1){var m;t||(t=224);const{width:i,height:a}=u(this,Wt),o=new Za;let l=u(this,Wt),d=i,h=a,f=null;if(s){if(i>s||a>s){const P=Math.min(s/i,s/a);d=Math.floor(i*P),h=Math.floor(a*P)}f=document.createElement("canvas");const y=f.width=Math.ceil(d*o.sx),g=f.height=Math.ceil(h*o.sy);u(this,Nr)||(l=A(this,at,Lb).call(this,y,g));const _=f.getContext("2d");_.filter=this._uiManager.hcmFilter;let w="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(w="#8f8f9d",x="#42414d");const b=15,S=b*o.sx,k=b*o.sy,j=new OffscreenCanvas(S*2,k*2),N=j.getContext("2d");N.fillStyle=w,N.fillRect(0,0,S*2,k*2),N.fillStyle=x,N.fillRect(0,0,S,k),N.fillRect(S,k,S,k),_.fillStyle=_.createPattern(j,"repeat"),_.fillRect(0,0,y,g),_.drawImage(l,0,0,l.width,l.height,0,0,y,g)}let p=null;if(r){let y,g;if(o.symmetric&&l.width<t&&l.height<t)y=l.width,g=l.height;else if(l=u(this,Wt),i>t||a>t){const x=Math.min(t/i,t/a);y=Math.floor(i*x),g=Math.floor(a*x),u(this,Nr)||(l=A(this,at,Lb).call(this,y,g))}const w=new OffscreenCanvas(y,g).getContext("2d",{willReadFrequently:!0});w.drawImage(l,0,0,l.width,l.height,0,0,y,g),p={width:y,height:g,data:w.getImageData(0,0,y,g).data}}return{canvas:f,width:d,height:h,imageData:p}}static async deserialize(t,s,r){var _;let i=null,a=!1;if(t instanceof S3){const{data:{rect:w,rotation:x,id:b,structParent:S,popupRef:k,contentsObj:j},container:N,parent:{page:{pageNumber:P}},canvas:D}=t;let T,F;D?(delete t.canvas,{id:T,bitmap:F}=r.imageManager.getFromCanvas(N.id,D),D.remove()):(a=!0,t._hasNoCanvas=!0);const M=((_=await s._structTree.getAriaAttributes(`${gN}${b}`))==null?void 0:_.get("aria-label"))||"";i=t={annotationType:Me.STAMP,bitmapId:T,bitmap:F,pageIndex:P-1,rect:w.slice(0),rotation:x,annotationElementId:b,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:M},isSvg:!1,structParent:S,popupRef:k,comment:(j==null?void 0:j.str)||null}}const o=await super.deserialize(t,s,r),{rect:l,bitmap:d,bitmapUrl:h,bitmapId:f,isSvg:p,accessibilityData:m}=t;a?(r.addMissingCanvas(t.id,o),C(o,ah,!0)):f&&r.imageManager.isValidId(f)?(C(o,Vn,f),d&&C(o,Wt,d)):C(o,Jo,h),C(o,Nr,p);const[y,g]=o.pageDimensions;return o.width=(l[2]-l[0])/y,o.height=(l[3]-l[1])/g,m&&(o.altTextData=m),o._initialData=i,t.comment&&o.setCommentData(t.comment),C(o,lm,!!i),o}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Me.STAMP,bitmapId:u(this,Vn),pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:u(this,Nr),structTreeParentId:this._structTreeParentId};if(this.addComment(r),t)return r.bitmapUrl=A(this,at,Fb).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=A(this,at,oB).call(this,r);if(l.isSame)return null;l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const o=u(this,Nr)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(u(this,Vn)))s.stamps.set(u(this,Vn),{area:o,serialized:r}),r.bitmap=A(this,at,Fb).call(this,!1);else if(u(this,Nr)){const l=s.stamps.get(u(this,Vn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,at,Fb).call(this,!1))}return r}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const s={rect:this.getPDFRect()};return this.hasEditedComment&&(s.popup=this.comment),t.updateEdited(s),null}}Wt=new WeakMap,Vn=new WeakMap,Bc=new WeakMap,Jo=new WeakMap,zc=new WeakMap,om=new WeakMap,el=new WeakMap,ah=new WeakMap,Ia=new WeakMap,Nr=new WeakMap,lm=new WeakMap,at=new WeakSet,Fg=function(t,s=!1){if(!t){this.remove();return}C(this,Wt,t.bitmap),s||(C(this,Vn,t.id),C(this,Nr,t.isSvg)),t.file&&C(this,om,t.file.name),A(this,at,Ib).call(this)},$g=function(){if(C(this,Bc,null),this._uiManager.enableWaiting(!1),!!u(this,el)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Wt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Wt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ob=function(){if(u(this,Vn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Vn)).then(r=>A(this,at,Fg).call(this,r,!0)).finally(()=>A(this,at,$g).call(this));return}if(u(this,Jo)){const r=u(this,Jo);C(this,Jo,null),this._uiManager.enableWaiting(!0),C(this,Bc,this._uiManager.imageManager.getFromUrl(r).then(i=>A(this,at,Fg).call(this,i)).finally(()=>A(this,at,$g).call(this)));return}if(u(this,zc)){const r=u(this,zc);C(this,zc,null),this._uiManager.enableWaiting(!0),C(this,Bc,this._uiManager.imageManager.getFromFile(r).then(i=>A(this,at,Fg).call(this,i)).finally(()=>A(this,at,$g).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Vk.join(",");const s=this._uiManager._signal;C(this,Bc,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,at,Fg).call(this,i)}r()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>A(this,at,$g).call(this))),t.click()},Ib=function(){var f;const{div:t}=this;let{width:s,height:r}=u(this,Wt);const[i,a]=this.pageDimensions,o=.75;if(this.width)s=this.width*i,r=this.height*a;else if(s>o*i||r>o*a){const p=Math.min(o*i/s,o*a/r);s*=p,r*=p}const[l,d]=this.parentDimensions;this.setDims(s*l/i,r*d/a),this._uiManager.enableWaiting(!1);const h=C(this,el,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=s/i,this.height=r/a,(f=this._initialOptions)!=null&&f.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),A(this,at,ZE).call(this),u(this,lm)||(this.parent.addUndoableEditor(this),C(this,lm,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,om)&&this.div.setAttribute("aria-description",u(this,om)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Lb=function(t,s){const{width:r,height:i}=u(this,Wt);let a=r,o=i,l=u(this,Wt);for(;a>2*t||o>2*s;){const d=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*s&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,d,h,0,0,a,o),l=f.transferToImageBitmap()}return l},ZE=function(){const[t,s]=this.parentDimensions,{width:r,height:i}=this,a=new Za,o=Math.ceil(r*t*a.sx),l=Math.ceil(i*s*a.sy),d=u(this,el);if(!d||d.width===o&&d.height===l)return;d.width=o,d.height=l;const h=u(this,Nr)?u(this,Wt):A(this,at,Lb).call(this,o,l),f=d.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,l)},Fb=function(t){if(t){if(u(this,Nr)){const i=this._uiManager.imageManager.getSvgUrl(u(this,Vn));if(i)return i}const s=document.createElement("canvas");return{width:s.width,height:s.height}=u(this,Wt),s.getContext("2d").drawImage(u(this,Wt),0,0),s.toDataURL()}if(u(this,Nr)){const[s,r]=this.pageDimensions,i=Math.round(this.width*s*fd.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*fd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,a);return o.getContext("2d").drawImage(u(this,Wt),0,0,u(this,Wt).width,u(this,Wt).height,0,0,i,a),o.transferToImageBitmap()}return structuredClone(u(this,Wt))},oB=function(t){var o;const{pageIndex:s,accessibilityData:{altText:r}}=this._initialData,i=t.pageIndex===s,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}},ee(QE,"_type","stamp"),ee(QE,"_editorType",Me.STAMP);var oh,cm,La,Uc,tl,Tr,Vc,dm,lh,$i,nl,Hn,sl,Hc,um,we,Wc,Gt,lB,ua,eA,tA,$b;const Ei=class Ei{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:r,accessibilityManager:i,annotationLayer:a,drawLayer:o,textLayer:l,viewport:d,l10n:h}){E(this,Gt);E(this,oh);E(this,cm,!1);E(this,La,null);E(this,Uc,null);E(this,tl,null);E(this,Tr,new Map);E(this,Vc,!1);E(this,dm,!1);E(this,lh,!1);E(this,$i,null);E(this,nl,null);E(this,Hn,null);E(this,sl,null);E(this,Hc,null);E(this,um,-1);E(this,we);const f=[...u(Ei,Wc).values()];if(!Ei._initialized){Ei._initialized=!0;for(const p of f)p.initialize(h,e)}e.registerEditorTypes(f),C(this,we,e),this.pageIndex=t,this.div=s,C(this,oh,i),C(this,La,a),this.viewport=d,C(this,Hn,l),this.drawLayer=o,this._structTree=r,u(this,we).addLayer(this)}get isEmpty(){return u(this,Tr).size===0}get isInvisible(){return this.isEmpty&&u(this,we).getMode()===Me.NONE}updateToolbar(e){u(this,we).updateToolbar(e)}updateMode(e=u(this,we).getMode()){switch(A(this,Gt,$b).call(this),e){case Me.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of u(Ei,Wc).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=u(this,Hn))==null?void 0:t.div)}setEditingState(e){u(this,we).setEditingState(e)}addCommands(e){u(this,we).addCommands(e)}cleanUndoStack(e){u(this,we).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=u(this,La))==null||t.div.classList.toggle("disabled",!e)}async enable(){var s;C(this,lh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(s=u(this,Hc))==null||s.abort(),C(this,Hc,null);const e=new Set;for(const r of u(this,Tr).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(u(this,we).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!u(this,La)){C(this,lh,!1);return}const t=u(this,La).getEditableAnnotations();for(const r of t){if(r.hide(),u(this,we).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}C(this,lh,!1)}disable(){var r;if(C(this,dm,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),u(this,Hn)&&!u(this,Hc)){C(this,Hc,new AbortController);const i=u(this,we).combinedSignal(u(this,Hc));u(this,Hn).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:d,timeStamp:h}=a,f=u(this,um);if(h-f>500){C(this,um,h);return}C(this,um,-1);const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,d);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const g=new RegExp(`^${e$}[0-9]+$`);for(const w of m)if(g.test(w.id)){y=w.id;break}if(!y)return;const _=u(this,Tr).get(y);(_==null?void 0:_.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),_.dblclick())},{signal:i,capture:!0})}const e=new Map,t=new Map;for(const i of u(this,Tr).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(r=this.getEditableAnnotation(i.annotationElementId))==null||r.show(),i.remove()}if(u(this,La)){const i=u(this,La).getEditableAnnotations();for(const a of i){const{id:o}=a.data;if(u(this,we).isDeletedAnnotationElement(o)){a.updateEdited({deleted:!0});continue}let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(u(this,we).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}A(this,Gt,$b).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const i of u(Ei,Wc).values())s.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),C(this,dm,!1)}getEditableAnnotation(e){var t;return((t=u(this,La))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,we).getActive()!==e&&u(this,we).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Hn))!=null&&e.div&&!u(this,sl)){C(this,sl,new AbortController);const t=u(this,we).combinedSignal(u(this,sl));u(this,Hn).div.addEventListener("pointerdown",A(this,Gt,lB).bind(this),{signal:t}),u(this,Hn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Hn))!=null&&e.div&&u(this,sl)&&(u(this,sl).abort(),C(this,sl,null),u(this,Hn).div.classList.remove("highlighting"))}enableClick(){if(u(this,Uc))return;C(this,Uc,new AbortController);const e=u(this,we).combinedSignal(u(this,Uc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=u(this,Uc))==null||e.abort(),C(this,Uc,null)}attach(e){u(this,Tr).set(e.id,e);const{annotationElementId:t}=e;t&&u(this,we).isDeletedAnnotationElement(t)&&u(this,we).removeDeletedAnnotationElement(e)}detach(e){var t;u(this,Tr).delete(e.id),(t=u(this,oh))==null||t.removePointerInTextLayer(e.contentDiv),!u(this,dm)&&e.annotationElementId&&u(this,we).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,we).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,we).addDeletedAnnotationElement(e.annotationElementId),Pt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,we).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,lh)),u(this,we).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!u(this,tl)&&(e._focusEventsAllowed=!1,C(this,tl,setTimeout(()=>{C(this,tl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,we)._signal}),t.focus())},0))),e._structTreeParentId=(s=u(this,oh))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return u(this,we).getId()}combinedSignal(e){return u(this,we).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,Gt,ua))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await u(this,we).updateMode(e.mode);const{offsetX:s,offsetY:r}=A(this,Gt,tA).call(this),i=this.getNextId(),a=A(this,Gt,eA).call(this,{parent:this,id:i,x:s,y:r,uiManager:u(this,we),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=u(Ei,Wc).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,u(this,we)))||null}createAndAddNewEditor(e,t,s={}){const r=this.getNextId(),i=A(this,Gt,eA).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:u(this,we),isCentered:t,...s});return i&&this.add(i),i}addNewEditor(e={}){this.createAndAddNewEditor(A(this,Gt,tA).call(this),!0,e)}setSelected(e){u(this,we).setSelected(e)}toggleSelected(e){u(this,we).toggleSelected(e)}unselect(e){u(this,we).unselect(e)}pointerup(e){var r;const{isMac:t}=os.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!u(this,Vc)||(C(this,Vc,!1),(r=u(this,Gt,ua))!=null&&r.isDrawer&&u(this,Gt,ua).supportMultipleDrawings))return;if(!u(this,cm)){C(this,cm,!0);return}const s=u(this,we).getMode();if(s===Me.STAMP||s===Me.SIGNATURE){u(this,we).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(u(this,we).getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),u(this,Vc)){C(this,Vc,!1);return}const{isMac:t}=os.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(C(this,Vc,!0),(r=u(this,Gt,ua))!=null&&r.isDrawer){this.startDrawingSession(e);return}const s=u(this,we).getActive();C(this,cm,!s||s.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),u(this,$i)){u(this,Gt,ua).startDrawing(this,u(this,we),!1,e);return}u(this,we).setCurrentDrawingSession(this),C(this,$i,new AbortController);const t=u(this,we).combinedSignal(u(this,$i));this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(C(this,nl,null),this.commitOrRemove())},{signal:t}),u(this,Gt,ua).startDrawing(this,u(this,we),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&C(this,nl,t);return}u(this,nl)&&setTimeout(()=>{var t;(t=u(this,nl))==null||t.focus(),C(this,nl,null)},0)}endDrawingSession(e=!1){return u(this,$i)?(u(this,we).setCurrentDrawingSession(null),u(this,$i).abort(),C(this,$i,null),C(this,nl,null),u(this,Gt,ua).endDrawing(e)):null}findNewParent(e,t,s){const r=u(this,we).findParent(t,s);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return u(this,$i)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,$i)&&u(this,Gt,ua).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=u(this,we).getActive())==null?void 0:e.parent)===this&&(u(this,we).commitOrRemove(),u(this,we).setActiveEditor(null)),u(this,tl)&&(clearTimeout(u(this,tl)),C(this,tl,null));for(const s of u(this,Tr).values())(t=u(this,oh))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,u(this,Tr).clear(),u(this,we).removeLayer(this)}render({viewport:e}){this.viewport=e,bh(this.div,e);for(const t of u(this,we).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){u(this,we).commitOrRemove(),A(this,Gt,$b).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,bh(this.div,{rotation:s}),t!==s)for(const r of u(this,Tr).values())r.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return u(this,we).viewParameters.realScale}};oh=new WeakMap,cm=new WeakMap,La=new WeakMap,Uc=new WeakMap,tl=new WeakMap,Tr=new WeakMap,Vc=new WeakMap,dm=new WeakMap,lh=new WeakMap,$i=new WeakMap,nl=new WeakMap,Hn=new WeakMap,sl=new WeakMap,Hc=new WeakMap,um=new WeakMap,we=new WeakMap,Wc=new WeakMap,Gt=new WeakSet,lB=function(e){u(this,we).unselectAll();const{target:t}=e;if(t===u(this,Hn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&u(this,Hn).div.contains(t)){const{isMac:s}=os.platform;if(e.button!==0||e.ctrlKey&&s)return;u(this,we).showAllEditors("highlight",!0,!0),u(this,Hn).div.classList.add("free"),this.toggleDrawing(),M0.startHighlighting(this,u(this,we).direction==="ltr",{target:u(this,Hn).div,x:e.x,y:e.y}),u(this,Hn).div.addEventListener("pointerup",()=>{u(this,Hn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,we)._signal}),e.preventDefault()}},ua=function(){return u(Ei,Wc).get(u(this,we).getMode())},eA=function(e){const t=u(this,Gt,ua);return t?new t.prototype.constructor(e):null},tA=function(){const{x:e,y:t,width:s,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+s),l=Math.min(window.innerHeight,t+r),d=(i+o)/2-e,h=(a+l)/2-t,[f,p]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:f,offsetY:p}},$b=function(){for(const e of u(this,Tr).values())e.isEmpty()&&e.remove()},ee(Ei,"_initialized",!1),E(Ei,Wc,new Map([ME,HE,QE,M0,XE].map(e=>[e._editorType,e])));let JE=Ei;var Bi,js,ch,bx,x_,cB,to,sA,dB,rA;const Nn=class Nn{constructor({pageIndex:e}){E(this,to);E(this,Bi,null);E(this,js,new Map);E(this,ch,new Map);this.pageIndex=e}setParent(e){if(!u(this,Bi)){C(this,Bi,e);return}if(u(this,Bi)!==e){if(u(this,js).size>0)for(const t of u(this,js).values())t.remove(),e.append(t);C(this,Bi,e)}}static get _svgFactory(){return Ze(this,"_svgFactory",new R0)}draw(e,t=!1,s=!1){const r=nn(Nn,bx)._++,i=A(this,to,sA).call(this),a=Nn._svgFactory.createElement("defs");i.append(a);const o=Nn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&u(this,ch).set(r,o);const d=s?A(this,to,dB).call(this,a,l):null,h=Nn._svgFactory.createElement("use");return i.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(i,e),u(this,js).set(r,i),{id:r,clipPathId:`url(#${d})`}}drawOutline(e,t){const s=nn(Nn,bx)._++,r=A(this,to,sA).call(this),i=Nn._svgFactory.createElement("defs");r.append(i);const a=Nn._svgFactory.createElement("path");i.append(a);const o=`path_p${this.pageIndex}_${s}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const f=Nn._svgFactory.createElement("mask");i.append(f),l=`mask_p${this.pageIndex}_${s}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const p=Nn._svgFactory.createElement("rect");f.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=Nn._svgFactory.createElement("use");f.append(m),m.setAttribute("href",`#${o}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const d=Nn._svgFactory.createElement("use");r.append(d),d.setAttribute("href",`#${o}`),l&&d.setAttribute("mask",`url(#${l})`);const h=d.cloneNode();return r.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,e),u(this,js).set(s,r),s}finalizeDraw(e,t){u(this,ch).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:s,bbox:r,rootClass:i,path:a}=t,o=typeof e=="number"?u(this,js).get(e):e;if(o){if(s&&A(this,to,rA).call(this,o,s),r&&A(l=Nn,x_,cB).call(l,o,r),i){const{classList:d}=o;for(const[h,f]of Object.entries(i))d.toggle(h,f)}if(a){const h=o.firstChild.firstChild;A(this,to,rA).call(this,h,a)}}}updateParent(e,t){if(t===this)return;const s=u(this,js).get(e);s&&(u(t,Bi).append(s),u(this,js).delete(e),u(t,js).set(e,s))}remove(e){u(this,ch).delete(e),u(this,Bi)!==null&&(u(this,js).get(e).remove(),u(this,js).delete(e))}destroy(){C(this,Bi,null);for(const e of u(this,js).values())e.remove();u(this,js).clear(),u(this,ch).clear()}};Bi=new WeakMap,js=new WeakMap,ch=new WeakMap,bx=new WeakMap,x_=new WeakSet,cB=function(e,[t,s,r,i]){const{style:a}=e;a.top=`${100*s}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*i}%`},to=new WeakSet,sA=function(){const e=Nn._svgFactory.create(1,1,!0);return u(this,Bi).append(e),e.setAttribute("aria-hidden",!0),e},dB=function(e,t){const s=Nn._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${t}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const i=Nn._svgFactory.createElement("use");return s.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),r},rA=function(e,t){for(const[s,r]of Object.entries(t))r===null?e.removeAttribute(s):e.setAttribute(s,r)},E(Nn,x_),E(Nn,bx,0);let nA=Nn;globalThis._pdfjsTestingUtils={HighlightOutliner:IE};globalThis.pdfjsLib={AbortException:hd,AnnotationEditorLayer:JE,AnnotationEditorParamsType:st,AnnotationEditorType:Me,AnnotationEditorUIManager:_h,AnnotationLayer:PE,AnnotationMode:Wl,AnnotationType:xn,build:JJ,ColorPicker:T0,createValidAbsoluteUrl:t$,DOMSVGFactory:R0,DrawLayer:nA,FeatureTest:os,fetchData:qx,getDocument:YJ,getFilenameFromUrl:HZ,getPdfFilenameFromUrl:WZ,getRGB:xS,getUuid:r$,getXfaPageViewport:GZ,GlobalWorkerOptions:Ba,ImageKind:db,InvalidPDFException:zk,isDataScheme:yS,isPdfFile:yN,isValidExplicitDest:rJ,MathClamp:Ts,noContextMenu:mi,normalizeUnicode:zZ,OPS:Iv,OutputScale:Za,PasswordResponses:RZ,PDFDataRangeTransport:r3,PDFDateString:E0,PDFWorker:$v,PermissionFlag:PZ,PixelsPerInch:fd,RenderingCancelledException:vN,ResponseException:k0,setLayerDimensions:bh,shadow:Ze,SignatureExtractor:rl,stopEvent:_n,SupportedImageMimeTypes:Vk,TextLayer:Lv,TouchManager:j0,updateUrlHash:n$,Util:me,VerbosityLevel:mS,version:o3,XfaLayer:c3};Ba.workerSrc=`//unpkg.com/pdfjs-dist@${o3}/build/pdf.worker.min.mjs`;class Ve{static async getClients(){const{data:e,error:t}=await ge.from("law_clients").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}static async getClient(e){const{data:t,error:s}=await ge.from("law_clients").select("*").eq("id",e).single();if(s)throw s;return t}static async createAppointment(e){const{data:{user:t}}=await ge.auth.getUser();if(!t)throw new Error("User not authenticated");const s={...e,client_id:e.client_id===""?null:e.client_id,case_id:e.case_id===""?null:e.case_id,user_id:t.id},{data:r,error:i}=await ge.from("law_appointments").insert(s).select().single();if(i)throw console.error("Supabase error during createAppointment:",i),i;return r}static async getProfile(e){const{data:t,error:s}=await ge.from("profiles").select("*").eq("user_id",e).single();if(s)throw s;return t}static async createProfile(e){const{data:t,error:s}=await ge.from("profiles").insert([e]).select().single();if(s)throw s;return t}static async updateProfile(e,t){const{data:s,error:r}=await ge.from("profiles").update(t).eq("id",e).select().single();if(r)throw r;return s}static async createClient(e){const{data:{user:t}}=await ge.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s,error:r}=await ge.from("law_clients").insert({...e,user_id:t.id}).select().single();if(r)throw r;return s}static async updateClient(e,t){const s={};Object.entries(t).forEach(([a,o])=>{o!==""&&o!==void 0&&(s[a]=o)}),s.updated_at=new Date().toISOString();const{data:r,error:i}=await ge.from("law_clients").update(s).eq("id",e).select().single();if(i)throw i;return r}static async deleteClient(e){const{error:t}=await ge.from("law_clients").delete().eq("id",e);if(t)throw t}static async getCasesByClient(e){const{data:t,error:s}=await ge.from("law_cases").select("*").eq("client_id",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]}static async getCases(){const{data:e,error:t}=await ge.from("law_cases").select(`
        *,
        client:law_clients (
          id, name, client_type, document_number, email, phone
        )
      `).order("created_at",{ascending:!1});if(t)throw t;return e||[]}static async getCase(e){const{data:t,error:s}=await ge.from("law_cases").select(`
        *,
        client:law_clients (
          id, name, client_type, document_number, email, phone
        )
      `).eq("id",e).single();if(s)throw s;return t}static async createCase(e){const{data:{user:t}}=await ge.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s,error:r}=await ge.from("law_cases").insert({...e,user_id:t.id}).select().single();if(r)throw r;return s}static async updateCase(e,t){const{data:s,error:r}=await ge.from("law_cases").update(t).eq("id",e).select().single();if(r)throw r;return s}static async deleteCase(e){const{error:t}=await ge.from("law_cases").delete().eq("id",e);if(t)throw t}static async getDocuments(){const{data:e,error:t}=await ge.from("law_documents").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}static async createDocument(e){const{data:{user:t}}=await ge.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s,error:r}=await ge.from("law_documents").insert({...e,user_id:t.id}).select().single();if(r)throw r;return s}static async updateDocument(e,t){const{data:s,error:r}=await ge.from("law_documents").update(t).eq("id",e).select().single();if(r)throw r;return s}static async deleteDocument(e){const{error:t}=await ge.from("law_documents").delete().eq("id",e);if(t)throw t}static async getTasks(){const{data:e,error:t}=await ge.from("law_tasks").select("*").order("due_date",{ascending:!0});if(t)throw t;return e||[]}static async getTask(e){const{data:t,error:s}=await ge.from("law_tasks").select("*").eq("id",e).single();if(s)throw s;return t}static async createTask(e){const{data:{user:t}}=await ge.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:s,error:r}=await ge.from("law_tasks").insert({...e,user_id:t.id}).select().single();if(r)throw r;return s}static async updateTask(e,t){const s={...t};["assigned_to","case_id","client_id"].forEach(o=>{o in s&&s[o]===""&&(s[o]=null)}),s.updated_at=new Date().toISOString();const{data:i,error:a}=await ge.from("law_tasks").update(s).eq("id",e).select().single();if(a)throw a;return i}static async deleteTask(e){const{error:t}=await ge.from("law_tasks").delete().eq("id",e);if(t)throw t}static async getAppointments(){const{data:e,error:t}=await ge.from("law_appointments").select(`
        *,
        client:law_clients (
          id, name, email, phone
        ),
        case:law_cases (
          id, title, case_number, status
        )
      `).order("appointment_date",{ascending:!0}).order("start_time",{ascending:!0});if(t)throw t;return e||[]}static async getAppointment(e){const{data:t,error:s}=await ge.from("law_appointments").select(`
        *,
        client:law_clients (
          id, name, email, phone
        ),
        case:law_cases (
          id, title, case_number, status
        )
      `).eq("id",e).single();if(s)throw s;return t}static async getProfiles(){const{data:e,error:t}=await ge.from("profiles").select("*").order("full_name",{ascending:!0});if(t)throw t;return e}static async getTotalClientsCount(){const{count:e,error:t}=await ge.from("law_clients").select("*",{count:"exact",head:!0});if(t)throw t;return e||0}static async getActiveCasesCount(){const{count:e,error:t}=await ge.from("law_cases").select("*",{count:"exact",head:!0}).eq("status","open");if(t)throw t;return e||0}static async getPendingTasksCount(){const{count:e,error:t}=await ge.from("law_tasks").select("*",{count:"exact",head:!0}).eq("status","pending");if(t)throw t;return e||0}static async getRecentCases(){const{data:e,error:t}=await ge.from("law_cases").select("*").order("created_at",{ascending:!1}).limit(3);if(t)throw t;return e||[]}static async getRecentTasks(){const{data:e,error:t}=await ge.from("law_tasks").select("*").eq("priority","high").eq("status","pending").order("due_date",{ascending:!0}).limit(3);if(t)throw t;return e||[]}static async getAppointmentsByDateRange(e,t){const{data:s,error:r}=await ge.from("law_appointments").select(`
        *,
        client:law_clients (
          id, name, email, phone
        ),
        case:law_cases (
          id, title, case_number, status
        )
      `).gte("appointment_date",e).lte("appointment_date",t).order("appointment_date",{ascending:!0}).order("start_time",{ascending:!0});if(r)throw r;return s||[]}static async getUpcomingAppointments(e=5){const t=new Date().toISOString().split("T")[0],{data:s,error:r}=await ge.from("law_appointments").select(`
        *,
        client:law_clients (
          id, name, email, phone
        ),
        case:law_cases (
          id, title, case_number, status
        )
      `).gt("appointment_date",t).order("appointment_date",{ascending:!0}).order("start_time",{ascending:!0}).limit(e);if(r)throw r;return s||[]}static async searchTasksByDate(e){const{data:t,error:s}=await ge.from("law_tasks").select("*").eq("due_date",e).order("priority",{ascending:!1});if(s)throw s;return t||[]}static async searchAppointmentsByDate(e){const{data:t,error:s}=await ge.from("law_appointments").select("*").eq("appointment_date",e).order("start_time",{ascending:!0});if(s)throw s;return t||[]}static async searchTasksByStatus(e){const{data:t,error:s}=await ge.from("law_tasks").select("*").eq("status",e).order("due_date",{ascending:!0});if(s)throw s;return t||[]}static async searchCasesByStatus(e){const{data:t,error:s}=await ge.from("law_cases").select("*").eq("status",e).order("created_at",{ascending:!1});if(s)throw s;return t||[]}static async getTodaysTasks(){const e=new Date().toISOString().split("T")[0];return this.searchTasksByDate(e)}static async getTodaysAppointments(){const e=new Date().toISOString().split("T")[0];return this.searchAppointmentsByDate(e)}static async getPendingTasks(){return this.searchTasksByStatus("pending")}static async getActiveCases(){return this.searchCasesByStatus("open")}static async updateAppointment(e,t){const s={},r=["id","created_at","created_by","user_id"];Object.entries(t).forEach(([o,l])=>{l!==void 0&&!r.includes(o)&&(s[o]=l)}),s.updated_at=new Date().toISOString(),console.log("Atualizando agendamento com dados:",s);const{data:i,error:a}=await ge.from("law_appointments").update(s).eq("id",e).select(`
      *,
      client:law_clients (
        id, name, email, phone
      ),
      case:law_cases (
        id, title, case_number, status
      )
    `).single();if(a)throw console.error("Supabase error during updateAppointment:",a),a;return i}static async deleteAppointment(e){const{error:t}=await ge.from("law_appointments").delete().eq("id",e);if(t)throw console.error("Supabase error during deleteAppointment:",t),t}static async intelligentSearch(e){const t=e.toLowerCase().trim(),[s,r,i,a,o]=await Promise.all([ge.from("law_clients").select("*").ilike("name",`%${t}%`),ge.from("law_documents").select("*").or(`name.ilike.%${t}%,description.ilike.%${t}%`),ge.from("law_cases").select("*").or(`title.ilike.%${t}%,case_number.ilike.%${t}%`),ge.from("law_tasks").select("*").or(`title.ilike.%${t}%,description.ilike.%${t}%`),ge.from("law_appointments").select("*").or(`title.ilike.%${t}%,description.ilike.%${t}%`)]);return{clients:s.data||[],documents:r.data||[],cases:i.data||[],tasks:a.data||[],appointments:o.data||[]}}}function ir({children:n,breadcrumbs:e=[],title:t}){var f;const{user:s,signOut:r}=qL(),[i,a]=v.useState(null),[o,l]=v.useState(!0);v.useEffect(()=>{(async()=>{if(s!=null&&s.id)try{const m=await Ve.getProfile(s.id);a(m)}catch(m){console.error("Erro ao carregar perfil:",m)}finally{l(!1)}else l(!1)})()},[s]);const d=async()=>{try{await r()}catch(p){console.error("Erro ao fazer logout:",p)}},h=()=>i!=null&&i.full_name?i.full_name.split(" ").map(p=>p.charAt(0)).join("").toUpperCase().substring(0,2):s!=null&&s.email?s.email.split("@")[0].charAt(0).toUpperCase():"U";return c.jsxs(kF,{children:[c.jsx(VX,{}),c.jsxs(jF,{children:[c.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[c.jsx(AF,{className:"-ml-1"}),c.jsx(tN,{orientation:"vertical",className:"mr-2 h-4"}),c.jsx(IF,{children:c.jsxs(LF,{children:[e.map((p,m)=>c.jsxs("div",{className:"flex items-center",children:[m>0&&c.jsx($F,{}),c.jsx(Ik,{children:p.href?c.jsx(FF,{href:p.href,children:p.label}):c.jsx(Lk,{children:p.label})})]},m)),e.length===0&&c.jsx(Ik,{children:c.jsx(Lk,{children:t})})]})}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(be,{variant:"ghost",size:"icon",children:c.jsx(rk,{className:"h-4 w-4"})}),c.jsxs(Z4,{children:[c.jsx(J4,{asChild:!0,children:c.jsx(be,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:c.jsxs(Em,{className:"h-12 w-12",children:[c.jsx(QF,{src:(i==null?void 0:i.avatar_url)||((f=s==null?void 0:s.user_metadata)==null?void 0:f.avatar_url),alt:(i==null?void 0:i.full_name)||(s==null?void 0:s.email)||"Usuário"}),c.jsx(hh,{children:h()})]})})}),c.jsxs(mN,{className:"w-56",align:"end",forceMount:!0,children:[c.jsxs(Ov,{children:[c.jsx(Xa,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Perfil"})]}),c.jsxs(Ov,{onClick:d,children:[c.jsx(aH,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Sair"})]})]})]})]})]}),c.jsx("div",{className:"flex-1 space-y-4 p-8 pt-6",children:n})]})]})}const Ce=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Ce.displayName="Card";const Oe=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Q("flex flex-col space-y-1.5 p-6",n),...e}));Oe.displayName="CardHeader";const Ke=v.forwardRef(({className:n,...e},t)=>c.jsx("h3",{ref:t,className:Q("text-2xl font-semibold leading-none tracking-tight",n),...e}));Ke.displayName="CardTitle";const uB=v.forwardRef(({className:n,...e},t)=>c.jsx("p",{ref:t,className:Q("text-sm text-muted-foreground",n),...e}));uB.displayName="CardDescription";const Ee=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Q("p-6 pt-0",n),...e}));Ee.displayName="CardContent";const _ee=v.forwardRef(({className:n,...e},t)=>c.jsx("div",{ref:t,className:Q("flex items-center p-6 pt-0",n),...e}));_ee.displayName="CardFooter";const See=Bm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jt({className:n,variant:e,...t}){return c.jsx("div",{className:Q(See({variant:e}),n),...t})}const hB=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ug=n=>hB(n).split(/[\s\-_.]+/).filter(Boolean);function Cee(n){const[e,t]=v.useState([]),[s,r]=v.useState(!1);return v.useEffect(()=>{if(n.trim().length<3){t([]);return}const i=setTimeout(async()=>{r(!0);try{const a=hB(n),[o,l,d,h,f]=await Promise.all([Ve.getCases(),Ve.getTasks(),Ve.getClients(),Ve.getAppointments(),Ve.getDocuments()]),p=[...o.filter(m=>ug(m.title).some(y=>y.includes(a))).map(m=>({...m,_type:"case"})),...l.filter(m=>ug(m.title).some(y=>y.includes(a))).map(m=>({...m,_type:"task"})),...d.filter(m=>ug(m.name).some(y=>y.includes(a))).map(m=>({...m,_type:"client"})),...h.filter(m=>ug(m.title).some(y=>y.includes(a))).map(m=>({...m,_type:"appointment"})),...f.filter(m=>ug(m.name).some(y=>y.includes(a))).map(m=>({...m,_type:"document"}))].slice(0,20);t(p)}catch{t([])}finally{r(!1)}},300);return()=>clearTimeout(i)},[n]),{results:e,loading:s}}const I0="dashboard_cache",kee=5*60*1e3,Eee=()=>{try{const n=localStorage.getItem(I0);if(!n)return null;const{data:e,timestamp:t}=JSON.parse(n);return new Date().getTime()-t<kee?e:(localStorage.removeItem(I0),null)}catch(n){return console.error("Erro ao recuperar cache:",n),null}},u2=n=>{try{const e={data:{...n,lastUpdated:new Date().toISOString()},timestamp:new Date().getTime()};localStorage.setItem(I0,JSON.stringify(e))}catch(e){console.error("Erro ao salvar cache:",e)}},Aee=()=>{localStorage.removeItem(I0)},jee=()=>c.jsx(ir,{title:"Dashboard",breadcrumbs:[{label:"Dashboard"}],children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(Vs,{className:"h-10 w-64"}),c.jsx(Vs,{className:"h-6 w-80"}),c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[1,2,3,4].map(n=>c.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[c.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Vs,{className:"h-4 w-24"}),c.jsx(Vs,{className:"h-4 w-4 rounded-full"})]}),c.jsxs(Ee,{children:[c.jsx(Vs,{className:"h-8 w-16 mb-2"}),c.jsx(Vs,{className:"h-4 w-32"})]})]},n))}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-7",children:[c.jsxs(Ce,{className:"col-span-4",children:[c.jsxs(Oe,{children:[c.jsx(Vs,{className:"h-6 w-32 mb-2"}),c.jsx(Vs,{className:"h-4 w-48"})]}),c.jsx(Ee,{className:"space-y-4",children:[1,2,3].map(n=>c.jsx(Vs,{className:"h-16 w-full"},n))})]}),c.jsxs(Ce,{className:"col-span-3",children:[c.jsxs(Oe,{children:[c.jsx(Vs,{className:"h-6 w-32 mb-2"}),c.jsx(Vs,{className:"h-4 w-48"})]}),c.jsx(Ee,{className:"space-y-4",children:[1,2,3].map(n=>c.jsx(Vs,{className:"h-16 w-full"},n))})]})]})]})}),Nee=()=>({profile:{full_name:"Advogado Silva"},totalClients:24,activeCases:12,pendingTasks:8,todayAppointments:3,recentCases:[{id:"1",title:"Contrato Comercial",case_number:"2024-001",status:"open"},{id:"2",title:"Divórcio Consensual",case_number:"2024-002",status:"open"},{id:"3",title:"Recuperação de Crédito",case_number:"2024-003",status:"in_progress"}],recentTasks:[{id:"1",title:"Preparar Petição Inicial",status:"pending",priority:"high",due_date:new Date().toISOString().split("T")[0]},{id:"2",title:"Reunião com Cliente",status:"pending",priority:"medium",due_date:new Date(Date.now()+864e5).toISOString().split("T")[0]}],upcomingAppointments:[],lastUpdated:new Date().toISOString()}),Tee=n=>{switch(n){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"closed":return"bg-green-100 text-green-800";case"pending":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Pee=n=>{switch(n){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};function Ree(){var m,y;const[n,e]=v.useState(null),[t,s]=v.useState(!0),[r,i]=v.useState(!1),[a,o]=v.useState(""),{results:l,loading:d}=Cee(a),{toast:h}=or(),f=async(g=!1)=>{try{if(!g){const P=Eee();if(P){e(P),s(!1);return}}i(!0);const[_,w,x,b,S]=await Promise.allSettled([Ve.getProfiles(),Ve.getClients(),Ve.getCases(),Ve.getTasks(),Ve.getAppointmentsByDateRange(new Date().toISOString().split("T")[0],new Date().toISOString().split("T")[0])]),k=new Date().toISOString().split("T")[0],j=await Ve.getUpcomingAppointments(3).catch(()=>[]),N={profile:_.status==="fulfilled"&&_.value[0]?_.value[0]:{full_name:"Advogado"},totalClients:w.status==="fulfilled"?w.value.length:0,activeCases:x.status==="fulfilled"?x.value.filter(P=>P.status==="open").length:0,pendingTasks:b.status==="fulfilled"?b.value.filter(P=>P.status==="pending").length:0,todayAppointments:S.status==="fulfilled"?S.value.length:0,recentCases:x.status==="fulfilled"?x.value.slice(0,3):[],recentTasks:b.status==="fulfilled"?b.value.filter(P=>P.priority==="high"&&P.status==="pending").slice(0,3):[],upcomingAppointments:j,lastUpdated:new Date().toISOString()};e(N),u2(N),g&&h({title:"Dados atualizados",description:"Dashboard atualizado com sucesso"})}catch{const _=Nee();e(_),u2(_),h({title:"Erro ao carregar dados",description:"Mostrando informações de demonstração",variant:"destructive"})}finally{s(!1),i(!1)}};v.useEffect(()=>{f()},[]);const p=()=>{Aee(),f(!0)};return t||!n?c.jsx(jee,{}):c.jsxs(ir,{title:"Dashboard",breadcrumbs:[{label:"Dashboard"}],children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Olá, ",((y=(m=n.profile)==null?void 0:m.full_name)==null?void 0:y.split(" ")[0])||"Advogado"]}),c.jsx(be,{variant:"outline",size:"icon",onClick:p,disabled:r,className:"h-8 w-8",children:c.jsx(hH,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]}),c.jsx("p",{className:"text-gray-600",children:"Bem-vindo ao seu escritório digital."}),n.lastUpdated&&c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Última atualização: ",new Date(n.lastUpdated).toLocaleTimeString("pt-BR")]})]}),c.jsxs("div",{className:"relative w-full lg:w-96",children:[c.jsx(_v,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx(Ue,{placeholder:"Digite 3 letras (ex: tar...)",value:a,onChange:g=>o(g.target.value),className:"pl-10 pr-10"}),d&&c.jsx(jx,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-gray-400"}),l.length>0&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-96 overflow-auto bg-white border rounded-lg shadow z-20",children:l.map(g=>c.jsxs(Zg,{to:g._type==="case"?`/cases/${g.id}`:g._type==="task"?"/tasks":g._type==="client"?"/clients":g._type==="appointment"?"/calendar":"/documents",onClick:()=>o(""),className:"flex items-center justify-between p-3 hover:bg-gray-50 transition",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[g._type==="case"&&c.jsx(h0,{className:"h-4 w-4 text-blue-600"}),g._type==="task"&&c.jsx(vI,{className:"h-4 w-4 text-orange-600"}),g._type==="client"&&c.jsx(Sv,{className:"h-4 w-4 text-green-600"}),g._type==="appointment"&&c.jsx(Ki,{className:"h-4 w-4 text-purple-600"}),g._type==="document"&&c.jsx(yh,{className:"h-4 w-4 text-gray-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:g.title||g.name}),g.case_number&&c.jsx("p",{className:"text-xs text-gray-500",children:g.case_number})]})]}),c.jsx(jt,{variant:"outline",className:"text-xs",children:g._type})]},`${g._type}-${g.id}`))})]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[c.jsxs(Ce,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:[c.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Ke,{className:"text-sm font-medium text-blue-800",children:"Casos Ativos"}),c.jsx(cd,{className:"h-4 w-4 text-blue-600"})]}),c.jsxs(Ee,{children:[c.jsx("div",{className:"text-3xl font-bold text-blue-900",children:n.activeCases}),c.jsx("p",{className:"text-xs text-blue-600",children:"em andamento"})]})]}),c.jsxs(Ce,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:[c.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Ke,{className:"text-sm font-medium text-green-800",children:"Clientes"}),c.jsx(Sv,{className:"h-4 w-4 text-green-600"})]}),c.jsxs(Ee,{children:[c.jsx("div",{className:"text-3xl font-bold text-green-900",children:n.totalClients}),c.jsx("p",{className:"text-xs text-green-600",children:"cadastrados"})]})]}),c.jsxs(Ce,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:[c.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Ke,{className:"text-sm font-medium text-orange-800",children:"Tarefas Pendentes"}),c.jsx(pI,{className:"h-4 w-4 text-orange-600"})]}),c.jsxs(Ee,{children:[c.jsx("div",{className:"text-3xl font-bold text-orange-900",children:n.pendingTasks}),c.jsx("p",{className:"text-xs text-orange-600",children:"para concluir"})]})]}),c.jsxs(Ce,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:[c.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Ke,{className:"text-sm font-medium text-purple-800",children:"Compromissos Hoje"}),c.jsx(J8,{className:"h-4 w-4 text-purple-600"})]}),c.jsxs(Ee,{children:[c.jsx("div",{className:"text-3xl font-bold text-purple-900",children:n.todayAppointments}),c.jsx("p",{className:"text-xs text-purple-600",children:"hoje"})]})]})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-7",children:[c.jsxs(Ce,{className:"col-span-4",children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2",children:[c.jsx(h0,{className:"h-5 w-5"}),"Casos Recentes"]})}),c.jsx(Ee,{className:"space-y-4",children:n.recentCases.length?n.recentCases.map(g=>c.jsx(Zg,{to:`/cases/${g.id}`,children:c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 transition",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:g.title}),c.jsx("p",{className:"text-sm text-gray-500",children:g.case_number})]}),c.jsx(jt,{className:Tee(g.status),children:g.status})]})},g.id)):c.jsx("p",{className:"text-gray-500",children:"Nenhum caso recente"})})]}),c.jsxs(Ce,{className:"col-span-3",children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2",children:[c.jsx(xm,{className:"h-5 w-5"}),"Tarefas Urgentes"]})}),c.jsx(Ee,{className:"space-y-4",children:n.recentTasks.length?n.recentTasks.map(g=>c.jsx(Zg,{to:"/tasks",children:c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 transition",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:g.title}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Prazo: ",new Date(g.due_date).toLocaleDateString("pt-BR")]})]}),c.jsx(jt,{className:Pee(g.priority),children:g.priority})]})},g.id)):c.jsx("p",{className:"text-gray-500",children:"Nenhuma tarefa urgente"})})]})]})]})}const Ch=iN,fB=bF,Dee=aN,pB=v.forwardRef(({className:n,...e},t)=>c.jsx(Lx,{ref:t,className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));pB.displayName=Lx.displayName;const pd=v.forwardRef(({className:n,children:e,...t},s)=>c.jsxs(Dee,{children:[c.jsx(pB,{}),c.jsxs(Fx,{ref:s,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,c.jsxs(cS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(bm,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pd.displayName=Fx.displayName;const md=({className:n,...e})=>c.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});md.displayName="DialogHeader";const gd=v.forwardRef(({className:n,...e},t)=>c.jsx($x,{ref:t,className:Q("text-lg font-semibold leading-none tracking-tight",n),...e}));gd.displayName=$x.displayName;const _S=v.forwardRef(({className:n,...e},t)=>c.jsx(Bx,{ref:t,className:Q("text-sm text-muted-foreground",n),...e}));_S.displayName=Bx.displayName;var Qx=n=>n.type==="checkbox",Zd=n=>n instanceof Date,Rs=n=>n==null;const mB=n=>typeof n=="object";var fn=n=>!Rs(n)&&!Array.isArray(n)&&mB(n)&&!Zd(n),gB=n=>fn(n)&&n.target?Qx(n.target)?n.target.checked:n.target.value:n,Mee=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,vB=(n,e)=>n.has(Mee(e)),Oee=n=>{const e=n.constructor&&n.constructor.prototype;return fn(e)&&e.hasOwnProperty("isPrototypeOf")},EN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(n){let e;const t=Array.isArray(n),s=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!(EN&&(n instanceof Blob||s))&&(t||fn(n)))if(e=t?[]:Object.create(Object.getPrototypeOf(n)),!t&&!Oee(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=An(n[r]));else return n;return e}var SS=n=>/^\w*$/.test(n),dn=n=>n===void 0,AN=n=>Array.isArray(n)?n.filter(Boolean):[],jN=n=>AN(n.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(n,e,t)=>{if(!e||!fn(n))return t;const s=(SS(e)?[e]:jN(e)).reduce((r,i)=>Rs(r)?r:r[i],n);return dn(s)||s===n?dn(n[e])?t:n[e]:s},Mr=n=>typeof n=="boolean",vt=(n,e,t)=>{let s=-1;const r=SS(e)?[e]:jN(e),i=r.length,a=i-1;for(;++s<i;){const o=r[s];let l=t;if(s!==a){const d=n[o];l=fn(d)||Array.isArray(d)?d:isNaN(+r[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;n[o]=l,n=n[o]}};const L0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ao={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},NN=G.createContext(null);NN.displayName="HookFormContext";const CS=()=>G.useContext(NN),Iee=n=>{const{children:e,...t}=n;return G.createElement(NN.Provider,{value:t},e)};var yB=(n,e,t,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in n)Object.defineProperty(r,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Hi.all&&(e._proxyFormState[a]=!s||Hi.all),t&&(t[a]=!0),n[a]}});return r};const TN=typeof window<"u"?G.useLayoutEffect:G.useEffect;function Lee(n){const e=CS(),{control:t=e.control,disabled:s,name:r,exact:i}=n||{},[a,o]=G.useState(t._formState),l=G.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return TN(()=>t._subscribe({name:r,formState:l.current,exact:i,callback:d=>{!s&&o({...t._formState,...d})}}),[r,s,i]),G.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),G.useMemo(()=>yB(a,t,l.current,!1),[a,t])}var Ha=n=>typeof n=="string",xB=(n,e,t,s,r)=>Ha(n)?(s&&e.watch.add(n),le(t,n,r)):Array.isArray(n)?n.map(i=>(s&&e.watch.add(i),le(t,i))):(s&&(e.watchAll=!0),t),iA=n=>Rs(n)||!mB(n);function il(n,e,t=new WeakSet){if(iA(n)||iA(e))return n===e;if(Zd(n)&&Zd(e))return n.getTime()===e.getTime();const s=Object.keys(n),r=Object.keys(e);if(s.length!==r.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const i of s){const a=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Zd(a)&&Zd(o)||fn(a)&&fn(o)||Array.isArray(a)&&Array.isArray(o)?!il(a,o,t):a!==o)return!1}}return!0}function Fee(n){const e=CS(),{control:t=e.control,name:s,defaultValue:r,disabled:i,exact:a,compute:o}=n||{},l=G.useRef(r),d=G.useRef(o),h=G.useRef(void 0);d.current=o;const f=G.useMemo(()=>t._getWatch(s,l.current),[t,s]),[p,m]=G.useState(d.current?d.current(f):f);return TN(()=>t._subscribe({name:s,formState:{values:!0},exact:a,callback:y=>{if(!i){const g=xB(s,t._names,y.values||t._formValues,!1,l.current);if(d.current){const _=d.current(g);il(_,h.current)||(m(_),h.current=_)}else m(g)}}}),[t,i,s,a]),G.useEffect(()=>t._removeUnmounted()),p}function $ee(n){const e=CS(),{name:t,disabled:s,control:r=e.control,shouldUnregister:i,defaultValue:a}=n,o=vB(r._names.array,t),l=G.useMemo(()=>le(r._formValues,t,le(r._defaultValues,t,a)),[r,t,a]),d=Fee({control:r,name:t,defaultValue:l,exact:!0}),h=Lee({control:r,name:t,exact:!0}),f=G.useRef(n),p=G.useRef(r.register(t,{...n.rules,value:d,...Mr(n.disabled)?{disabled:n.disabled}:{}}));f.current=n;const m=G.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(h.errors,t)},isDirty:{enumerable:!0,get:()=>!!le(h.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!le(h.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!le(h.validatingFields,t)},error:{enumerable:!0,get:()=>le(h.errors,t)}}),[h,t]),y=G.useCallback(x=>p.current.onChange({target:{value:gB(x),name:t},type:L0.CHANGE}),[t]),g=G.useCallback(()=>p.current.onBlur({target:{value:le(r._formValues,t),name:t},type:L0.BLUR}),[t,r._formValues]),_=G.useCallback(x=>{const b=le(r._fields,t);b&&x&&(b._f.ref={focus:()=>x.focus&&x.focus(),select:()=>x.select&&x.select(),setCustomValidity:S=>x.setCustomValidity(S),reportValidity:()=>x.reportValidity()})},[r._fields,t]),w=G.useMemo(()=>({name:t,value:d,...Mr(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:y,onBlur:g,ref:_}),[t,s,h.disabled,y,g,_,d]);return G.useEffect(()=>{const x=r._options.shouldUnregister||i;r.register(t,{...f.current.rules,...Mr(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(S,k)=>{const j=le(r._fields,S);j&&j._f&&(j._f.mount=k)};if(b(t,!0),x){const S=An(le(r._options.defaultValues,t));vt(r._defaultValues,t,S),dn(le(r._formValues,t))&&vt(r._formValues,t,S)}return!o&&r.register(t),()=>{(o?x&&!r._state.action:x)?r.unregister(t):b(t,!1)}},[t,r,o,i]),G.useEffect(()=>{r._setDisabledField({disabled:s,name:t})},[s,t,r]),G.useMemo(()=>({field:w,formState:h,fieldState:m}),[w,h,m])}const Bee=n=>n.render($ee(n));var wB=(n,e,t,s,r)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[s]:r||!0}}:{},nv=n=>Array.isArray(n)?n:[n],h2=()=>{let n=[];return{get observers(){return n},next:r=>{for(const i of n)i.next&&i.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(i=>i!==r)}}),unsubscribe:()=>{n=[]}}},Ks=n=>fn(n)&&!Object.keys(n).length,PN=n=>n.type==="file",Wi=n=>typeof n=="function",F0=n=>{if(!EN)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bB=n=>n.type==="select-multiple",RN=n=>n.type==="radio",zee=n=>RN(n)||Qx(n),Q1=n=>F0(n)&&n.isConnected;function Uee(n,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)n=dn(n)?s++:n[e[s++]];return n}function Vee(n){for(const e in n)if(n.hasOwnProperty(e)&&!dn(n[e]))return!1;return!0}function wn(n,e){const t=Array.isArray(e)?e:SS(e)?[e]:jN(e),s=t.length===1?n:Uee(n,t),r=t.length-1,i=t[r];return s&&delete s[i],r!==0&&(fn(s)&&Ks(s)||Array.isArray(s)&&Vee(s))&&wn(n,t.slice(0,-1)),n}var _B=n=>{for(const e in n)if(Wi(n[e]))return!0;return!1};function $0(n,e={}){const t=Array.isArray(n);if(fn(n)||t)for(const s in n)Array.isArray(n[s])||fn(n[s])&&!_B(n[s])?(e[s]=Array.isArray(n[s])?[]:{},$0(n[s],e[s])):Rs(n[s])||(e[s]=!0);return e}function SB(n,e,t){const s=Array.isArray(n);if(fn(n)||s)for(const r in n)Array.isArray(n[r])||fn(n[r])&&!_B(n[r])?dn(e)||iA(t[r])?t[r]=Array.isArray(n[r])?$0(n[r],[]):{...$0(n[r])}:SB(n[r],Rs(e)?{}:e[r],t[r]):t[r]=!il(n[r],e[r]);return t}var hg=(n,e)=>SB(n,e,$0(e));const f2={value:!1,isValid:!1},p2={value:!0,isValid:!0};var CB=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!dn(n[0].attributes.value)?dn(n[0].value)||n[0].value===""?p2:{value:n[0].value,isValid:!0}:p2:f2}return f2},kB=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>dn(n)?n:e?n===""?NaN:n&&+n:t&&Ha(n)?new Date(n):s?s(n):n;const m2={isValid:!1,value:null};var EB=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,m2):m2;function g2(n){const e=n.ref;return PN(e)?e.files:RN(e)?EB(n.refs).value:bB(e)?[...e.selectedOptions].map(({value:t})=>t):Qx(e)?CB(n.refs).value:kB(dn(e.value)?n.ref.value:e.value,n)}var Hee=(n,e,t,s)=>{const r={};for(const i of n){const a=le(e,i);a&&vt(r,i,a._f)}return{criteriaMode:t,names:[...n],fields:r,shouldUseNativeValidation:s}},B0=n=>n instanceof RegExp,fg=n=>dn(n)?n:B0(n)?n.source:fn(n)?B0(n.value)?n.value.source:n.value:n,v2=n=>({isOnSubmit:!n||n===Hi.onSubmit,isOnBlur:n===Hi.onBlur,isOnChange:n===Hi.onChange,isOnAll:n===Hi.all,isOnTouch:n===Hi.onTouched});const y2="AsyncFunction";var Wee=n=>!!n&&!!n.validate&&!!(Wi(n.validate)&&n.validate.constructor.name===y2||fn(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===y2)),qee=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),x2=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(s=>n.startsWith(s)&&/^\.\w+/.test(n.slice(s.length))));const sv=(n,e,t,s)=>{for(const r of t||Object.keys(n)){const i=le(n,r);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!s)return!0;if(a.ref&&e(a.ref,a.name)&&!s)return!0;if(sv(o,e))break}else if(fn(o)&&sv(o,e))break}}};function w2(n,e,t){const s=le(n,t);if(s||SS(t))return{error:s,name:t};const r=t.split(".");for(;r.length;){const i=r.join("."),a=le(e,i),o=le(n,i);if(a&&!Array.isArray(a)&&t!==i)return{name:t};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};r.pop()}return{name:t}}var Gee=(n,e,t,s)=>{t(n);const{name:r,...i}=n;return Ks(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!s||Hi.all))},Yee=(n,e,t)=>!n||!e||n===e||nv(n).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),Kee=(n,e,t,s,r)=>r.isOnAll?!1:!t&&r.isOnTouch?!(e||n):(t?s.isOnBlur:r.isOnBlur)?!n:(t?s.isOnChange:r.isOnChange)?n:!0,Xee=(n,e)=>!AN(le(n,e)).length&&wn(n,e),Qee=(n,e,t)=>{const s=nv(le(n,t));return vt(s,"root",e[t]),vt(n,t,s),n},Bb=n=>Ha(n);function b2(n,e,t="validate"){if(Bb(n)||Array.isArray(n)&&n.every(Bb)||Mr(n)&&!n)return{type:t,message:Bb(n)?n:"",ref:e}}var ef=n=>fn(n)&&!B0(n)?n:{value:n,message:""},_2=async(n,e,t,s,r,i)=>{const{ref:a,refs:o,required:l,maxLength:d,minLength:h,min:f,max:p,pattern:m,validate:y,name:g,valueAsNumber:_,mount:w}=n._f,x=le(t,g);if(!w||e.has(g))return{};const b=o?o[0]:a,S=M=>{r&&b.reportValidity&&(b.setCustomValidity(Mr(M)?"":M||""),b.reportValidity())},k={},j=RN(a),N=Qx(a),P=j||N,D=(_||PN(a))&&dn(a.value)&&dn(x)||F0(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,T=wB.bind(null,g,s,k),F=(M,U,R,V=ao.maxLength,z=ao.minLength)=>{const $=M?U:R;k[g]={type:M?V:z,message:$,ref:a,...T(M?V:z,$)}};if(i?!Array.isArray(x)||!x.length:l&&(!P&&(D||Rs(x))||Mr(x)&&!x||N&&!CB(o).isValid||j&&!EB(o).isValid)){const{value:M,message:U}=Bb(l)?{value:!!l,message:l}:ef(l);if(M&&(k[g]={type:ao.required,message:U,ref:b,...T(ao.required,U)},!s))return S(U),k}if(!D&&(!Rs(f)||!Rs(p))){let M,U;const R=ef(p),V=ef(f);if(!Rs(x)&&!isNaN(x)){const z=a.valueAsNumber||x&&+x;Rs(R.value)||(M=z>R.value),Rs(V.value)||(U=z<V.value)}else{const z=a.valueAsDate||new Date(x),$=K=>new Date(new Date().toDateString()+" "+K),I=a.type=="time",L=a.type=="week";Ha(R.value)&&x&&(M=I?$(x)>$(R.value):L?x>R.value:z>new Date(R.value)),Ha(V.value)&&x&&(U=I?$(x)<$(V.value):L?x<V.value:z<new Date(V.value))}if((M||U)&&(F(!!M,R.message,V.message,ao.max,ao.min),!s))return S(k[g].message),k}if((d||h)&&!D&&(Ha(x)||i&&Array.isArray(x))){const M=ef(d),U=ef(h),R=!Rs(M.value)&&x.length>+M.value,V=!Rs(U.value)&&x.length<+U.value;if((R||V)&&(F(R,M.message,U.message),!s))return S(k[g].message),k}if(m&&!D&&Ha(x)){const{value:M,message:U}=ef(m);if(B0(M)&&!x.match(M)&&(k[g]={type:ao.pattern,message:U,ref:a,...T(ao.pattern,U)},!s))return S(U),k}if(y){if(Wi(y)){const M=await y(x,t),U=b2(M,b);if(U&&(k[g]={...U,...T(ao.validate,U.message)},!s))return S(U.message),k}else if(fn(y)){let M={};for(const U in y){if(!Ks(M)&&!s)break;const R=b2(await y[U](x,t),b,U);R&&(M={...R,...T(U,R.message)},S(R.message),s&&(k[g]=M))}if(!Ks(M)&&(k[g]={ref:b,...M},!s))return k}}return S(!0),k};const Zee={mode:Hi.onSubmit,reValidateMode:Hi.onChange,shouldFocusError:!0};function Jee(n={}){let e={...Zee,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=fn(e.defaultValues)||fn(e.values)?An(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:An(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const p={array:h2(),state:h2()},m=e.criteriaMode===Hi.all,y=O=>B=>{clearTimeout(d),d=setTimeout(O,B)},g=async O=>{if(!e.disabled&&(h.isValid||f.isValid||O)){const B=e.resolver?Ks((await N()).errors):await D(s,!0);B!==t.isValid&&p.state.next({isValid:B})}},_=(O,B)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((O||Array.from(o.mount)).forEach(q=>{q&&(B?vt(t.validatingFields,q,B):wn(t.validatingFields,q))}),p.state.next({validatingFields:t.validatingFields,isValidating:!Ks(t.validatingFields)}))},w=(O,B=[],q,ae,H=!0,W=!0)=>{if(ae&&q&&!e.disabled){if(a.action=!0,W&&Array.isArray(le(s,O))){const ne=q(le(s,O),ae.argA,ae.argB);H&&vt(s,O,ne)}if(W&&Array.isArray(le(t.errors,O))){const ne=q(le(t.errors,O),ae.argA,ae.argB);H&&vt(t.errors,O,ne),Xee(t.errors,O)}if((h.touchedFields||f.touchedFields)&&W&&Array.isArray(le(t.touchedFields,O))){const ne=q(le(t.touchedFields,O),ae.argA,ae.argB);H&&vt(t.touchedFields,O,ne)}(h.dirtyFields||f.dirtyFields)&&(t.dirtyFields=hg(r,i)),p.state.next({name:O,isDirty:F(O,B),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else vt(i,O,B)},x=(O,B)=>{vt(t.errors,O,B),p.state.next({errors:t.errors})},b=O=>{t.errors=O,p.state.next({errors:t.errors,isValid:!1})},S=(O,B,q,ae)=>{const H=le(s,O);if(H){const W=le(i,O,dn(q)?le(r,O):q);dn(W)||ae&&ae.defaultChecked||B?vt(i,O,B?W:g2(H._f)):R(O,W),a.mount&&g()}},k=(O,B,q,ae,H)=>{let W=!1,ne=!1;const _e={name:O};if(!e.disabled){if(!q||ae){(h.isDirty||f.isDirty)&&(ne=t.isDirty,t.isDirty=_e.isDirty=F(),W=ne!==_e.isDirty);const We=il(le(r,O),B);ne=!!le(t.dirtyFields,O),We?wn(t.dirtyFields,O):vt(t.dirtyFields,O,!0),_e.dirtyFields=t.dirtyFields,W=W||(h.dirtyFields||f.dirtyFields)&&ne!==!We}if(q){const We=le(t.touchedFields,O);We||(vt(t.touchedFields,O,q),_e.touchedFields=t.touchedFields,W=W||(h.touchedFields||f.touchedFields)&&We!==q)}W&&H&&p.state.next(_e)}return W?_e:{}},j=(O,B,q,ae)=>{const H=le(t.errors,O),W=(h.isValid||f.isValid)&&Mr(B)&&t.isValid!==B;if(e.delayError&&q?(l=y(()=>x(O,q)),l(e.delayError)):(clearTimeout(d),l=null,q?vt(t.errors,O,q):wn(t.errors,O)),(q?!il(H,q):H)||!Ks(ae)||W){const ne={...ae,...W&&Mr(B)?{isValid:B}:{},errors:t.errors,name:O};t={...t,...ne},p.state.next(ne)}},N=async O=>{_(O,!0);const B=await e.resolver(i,e.context,Hee(O||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return _(O),B},P=async O=>{const{errors:B}=await N(O);if(O)for(const q of O){const ae=le(B,q);ae?vt(t.errors,q,ae):wn(t.errors,q)}else t.errors=B;return B},D=async(O,B,q={valid:!0})=>{for(const ae in O){const H=O[ae];if(H){const{_f:W,...ne}=H;if(W){const _e=o.array.has(W.name),We=H._f&&Wee(H._f);We&&h.validatingFields&&_([ae],!0);const vn=await _2(H,o.disabled,i,m,e.shouldUseNativeValidation&&!B,_e);if(We&&h.validatingFields&&_([ae]),vn[W.name]&&(q.valid=!1,B))break;!B&&(le(vn,W.name)?_e?Qee(t.errors,vn,W.name):vt(t.errors,W.name,vn[W.name]):wn(t.errors,W.name))}!Ks(ne)&&await D(ne,B,q)}}return q.valid},T=()=>{for(const O of o.unMount){const B=le(s,O);B&&(B._f.refs?B._f.refs.every(q=>!Q1(q)):!Q1(B._f.ref))&&X(O)}o.unMount=new Set},F=(O,B)=>!e.disabled&&(O&&B&&vt(i,O,B),!il(K(),r)),M=(O,B,q)=>xB(O,o,{...a.mount?i:dn(B)?r:Ha(O)?{[O]:B}:B},q,B),U=O=>AN(le(a.mount?i:r,O,e.shouldUnregister?le(r,O,[]):[])),R=(O,B,q={})=>{const ae=le(s,O);let H=B;if(ae){const W=ae._f;W&&(!W.disabled&&vt(i,O,kB(B,W)),H=F0(W.ref)&&Rs(B)?"":B,bB(W.ref)?[...W.ref.options].forEach(ne=>ne.selected=H.includes(ne.value)):W.refs?Qx(W.ref)?W.refs.forEach(ne=>{(!ne.defaultChecked||!ne.disabled)&&(Array.isArray(H)?ne.checked=!!H.find(_e=>_e===ne.value):ne.checked=H===ne.value||!!H)}):W.refs.forEach(ne=>ne.checked=ne.value===H):PN(W.ref)?W.ref.value="":(W.ref.value=H,W.ref.type||p.state.next({name:O,values:An(i)})))}(q.shouldDirty||q.shouldTouch)&&k(O,H,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&L(O)},V=(O,B,q)=>{for(const ae in B){if(!B.hasOwnProperty(ae))return;const H=B[ae],W=O+"."+ae,ne=le(s,W);(o.array.has(O)||fn(H)||ne&&!ne._f)&&!Zd(H)?V(W,H,q):R(W,H,q)}},z=(O,B,q={})=>{const ae=le(s,O),H=o.array.has(O),W=An(B);vt(i,O,W),H?(p.array.next({name:O,values:An(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&p.state.next({name:O,dirtyFields:hg(r,i),isDirty:F(O,W)})):ae&&!ae._f&&!Rs(W)?V(O,W,q):R(O,W,q),x2(O,o)&&p.state.next({...t,name:O}),p.state.next({name:a.mount?O:void 0,values:An(i)})},$=async O=>{a.mount=!0;const B=O.target;let q=B.name,ae=!0;const H=le(s,q),W=We=>{ae=Number.isNaN(We)||Zd(We)&&isNaN(We.getTime())||il(We,le(i,q,We))},ne=v2(e.mode),_e=v2(e.reValidateMode);if(H){let We,vn;const us=B.type?g2(H._f):gB(O),Us=O.type===L0.BLUR||O.type===L0.FOCUS_OUT,Cl=!qee(H._f)&&!e.resolver&&!le(t.errors,q)&&!H._f.deps||Kee(Us,le(t.touchedFields,q),t.isSubmitted,_e,ne),yi=x2(q,o,Us);vt(i,q,us),Us?(!B||!B.readOnly)&&(H._f.onBlur&&H._f.onBlur(O),l&&l(0)):H._f.onChange&&H._f.onChange(O);const ws=k(q,us,Us),kl=!Ks(ws)||yi;if(!Us&&p.state.next({name:q,type:O.type,values:An(i)}),Cl)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Us&&g():Us||g()),kl&&p.state.next({name:q,...yi?{}:ws});if(!Us&&yi&&p.state.next({...t}),e.resolver){const{errors:dr}=await N([q]);if(W(us),ae){const Rd=w2(t.errors,s,q),El=w2(dr,s,Rd.name||q);We=El.error,q=El.name,vn=Ks(dr)}}else _([q],!0),We=(await _2(H,o.disabled,i,m,e.shouldUseNativeValidation))[q],_([q]),W(us),ae&&(We?vn=!1:(h.isValid||f.isValid)&&(vn=await D(s,!0)));ae&&(H._f.deps&&L(H._f.deps),j(q,vn,We,ws))}},I=(O,B)=>{if(le(t.errors,B)&&O.focus)return O.focus(),1},L=async(O,B={})=>{let q,ae;const H=nv(O);if(e.resolver){const W=await P(dn(O)?O:H);q=Ks(W),ae=O?!H.some(ne=>le(W,ne)):q}else O?(ae=(await Promise.all(H.map(async W=>{const ne=le(s,W);return await D(ne&&ne._f?{[W]:ne}:ne)}))).every(Boolean),!(!ae&&!t.isValid)&&g()):ae=q=await D(s);return p.state.next({...!Ha(O)||(h.isValid||f.isValid)&&q!==t.isValid?{}:{name:O},...e.resolver||!O?{isValid:q}:{},errors:t.errors}),B.shouldFocus&&!ae&&sv(s,I,O?H:o.mount),ae},K=O=>{const B={...a.mount?i:r};return dn(O)?B:Ha(O)?le(B,O):O.map(q=>le(B,q))},ie=(O,B)=>({invalid:!!le((B||t).errors,O),isDirty:!!le((B||t).dirtyFields,O),error:le((B||t).errors,O),isValidating:!!le(t.validatingFields,O),isTouched:!!le((B||t).touchedFields,O)}),Z=O=>{O&&nv(O).forEach(B=>wn(t.errors,B)),p.state.next({errors:O?t.errors:{}})},re=(O,B,q)=>{const ae=(le(s,O,{_f:{}})._f||{}).ref,H=le(t.errors,O)||{},{ref:W,message:ne,type:_e,...We}=H;vt(t.errors,O,{...We,...B,ref:ae}),p.state.next({name:O,errors:t.errors,isValid:!1}),q&&q.shouldFocus&&ae&&ae.focus&&ae.focus()},he=(O,B)=>Wi(O)?p.state.subscribe({next:q=>"values"in q&&O(M(void 0,B),q)}):M(O,B,!0),De=O=>p.state.subscribe({next:B=>{Yee(O.name,B.name,O.exact)&&Gee(B,O.formState||h,ds,O.reRenderRoot)&&O.callback({values:{...i},...t,...B,defaultValues:r})}}).unsubscribe,je=O=>(a.mount=!0,f={...f,...O.formState},De({...O,formState:f})),X=(O,B={})=>{for(const q of O?nv(O):o.mount)o.mount.delete(q),o.array.delete(q),B.keepValue||(wn(s,q),wn(i,q)),!B.keepError&&wn(t.errors,q),!B.keepDirty&&wn(t.dirtyFields,q),!B.keepTouched&&wn(t.touchedFields,q),!B.keepIsValidating&&wn(t.validatingFields,q),!e.shouldUnregister&&!B.keepDefaultValue&&wn(r,q);p.state.next({values:An(i)}),p.state.next({...t,...B.keepDirty?{isDirty:F()}:{}}),!B.keepIsValid&&g()},He=({disabled:O,name:B})=>{(Mr(O)&&a.mount||O||o.disabled.has(B))&&(O?o.disabled.add(B):o.disabled.delete(B))},Be=(O,B={})=>{let q=le(s,O);const ae=Mr(B.disabled)||Mr(e.disabled);return vt(s,O,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:O}},name:O,mount:!0,...B}}),o.mount.add(O),q?He({disabled:Mr(B.disabled)?B.disabled:e.disabled,name:O}):S(O,!0,B.value),{...ae?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:fg(B.min),max:fg(B.max),minLength:fg(B.minLength),maxLength:fg(B.maxLength),pattern:fg(B.pattern)}:{},name:O,onChange:$,onBlur:$,ref:H=>{if(H){Be(O,B),q=le(s,O);const W=dn(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,ne=zee(W),_e=q._f.refs||[];if(ne?_e.find(We=>We===W):W===q._f.ref)return;vt(s,O,{_f:{...q._f,...ne?{refs:[..._e.filter(Q1),W,...Array.isArray(le(r,O))?[{}]:[]],ref:{type:W.type,name:O}}:{ref:W}}}),S(O,!1,void 0,W)}else q=le(s,O,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(vB(o.array,O)&&a.action)&&o.unMount.add(O)}}},Re=()=>e.shouldFocusError&&sv(s,I,o.mount),Te=O=>{Mr(O)&&(p.state.next({disabled:O}),sv(s,(B,q)=>{const ae=le(s,q);ae&&(B.disabled=ae._f.disabled||O,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(H=>{H.disabled=ae._f.disabled||O}))},0,!1))},Ne=(O,B)=>async q=>{let ae;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let H=An(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:ne}=await N();t.errors=W,H=An(ne)}else await D(s);if(o.disabled.size)for(const W of o.disabled)wn(H,W);if(wn(t.errors,"root"),Ks(t.errors)){p.state.next({errors:{}});try{await O(H,q)}catch(W){ae=W}}else B&&await B({...t.errors},q),Re(),setTimeout(Re);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ks(t.errors)&&!ae,submitCount:t.submitCount+1,errors:t.errors}),ae)throw ae},zt=(O,B={})=>{le(s,O)&&(dn(B.defaultValue)?z(O,An(le(r,O))):(z(O,B.defaultValue),vt(r,O,An(B.defaultValue))),B.keepTouched||wn(t.touchedFields,O),B.keepDirty||(wn(t.dirtyFields,O),t.isDirty=B.defaultValue?F(O,An(le(r,O))):F()),B.keepError||(wn(t.errors,O),h.isValid&&g()),p.state.next({...t}))},gn=(O,B={})=>{const q=O?An(O):r,ae=An(q),H=Ks(O),W=H?r:ae;if(B.keepDefaultValues||(r=q),!B.keepValues){if(B.keepDirtyValues){const ne=new Set([...o.mount,...Object.keys(hg(r,i))]);for(const _e of Array.from(ne))le(t.dirtyFields,_e)?vt(W,_e,le(i,_e)):z(_e,le(W,_e))}else{if(EN&&dn(O))for(const ne of o.mount){const _e=le(s,ne);if(_e&&_e._f){const We=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(F0(We)){const vn=We.closest("form");if(vn){vn.reset();break}}}}if(B.keepFieldsRef)for(const ne of o.mount)z(ne,le(W,ne));else s={}}i=e.shouldUnregister?B.keepDefaultValues?An(r):{}:An(W),p.array.next({values:{...W}}),p.state.next({values:{...W}})}o={mount:B.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!B.keepIsValid||!!B.keepDirtyValues,a.watch=!!e.shouldUnregister,p.state.next({submitCount:B.keepSubmitCount?t.submitCount:0,isDirty:H?!1:B.keepDirty?t.isDirty:!!(B.keepDefaultValues&&!il(O,r)),isSubmitted:B.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:H?{}:B.keepDirtyValues?B.keepDefaultValues&&i?hg(r,i):t.dirtyFields:B.keepDefaultValues&&O?hg(r,O):B.keepDirty?t.dirtyFields:{},touchedFields:B.keepTouched?t.touchedFields:{},errors:B.keepErrors?t.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},lr=(O,B)=>gn(Wi(O)?O(i):O,B),cr=(O,B={})=>{const q=le(s,O),ae=q&&q._f;if(ae){const H=ae.refs?ae.refs[0]:ae.ref;H.focus&&(H.focus(),B.shouldSelect&&Wi(H.select)&&H.select())}},ds=O=>{t={...t,...O}},zs={control:{register:Be,unregister:X,getFieldState:ie,handleSubmit:Ne,setError:re,_subscribe:De,_runSchema:N,_focusError:Re,_getWatch:M,_getDirty:F,_setValid:g,_setFieldArray:w,_setDisabledField:He,_setErrors:b,_getFieldArray:U,_reset:gn,_resetDefaultValues:()=>Wi(e.defaultValues)&&e.defaultValues().then(O=>{lr(O,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Te,_subjects:p,_proxyFormState:h,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(O){a=O},get _defaultValues(){return r},get _names(){return o},set _names(O){o=O},get _formState(){return t},get _options(){return e},set _options(O){e={...e,...O}}},subscribe:je,trigger:L,register:Be,handleSubmit:Ne,watch:he,setValue:z,getValues:K,reset:lr,resetField:zt,clearErrors:Z,unregister:X,setError:re,setFocus:cr,getFieldState:ie};return{...zs,formControl:zs}}function DN(n={}){const e=G.useRef(void 0),t=G.useRef(void 0),[s,r]=G.useState({isDirty:!1,isValidating:!1,isLoading:Wi(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Wi(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:s},n.defaultValues&&!Wi(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:a,...o}=Jee(n);e.current={...o,formState:s}}const i=e.current.control;return i._options=n,TN(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),G.useEffect(()=>i._disableForm(n.disabled),[i,n.disabled]),G.useEffect(()=>{n.mode&&(i._options.mode=n.mode),n.reValidateMode&&(i._options.reValidateMode=n.reValidateMode)},[i,n.mode,n.reValidateMode]),G.useEffect(()=>{n.errors&&(i._setErrors(n.errors),i._focusError())},[i,n.errors]),G.useEffect(()=>{n.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,n.shouldUnregister]),G.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),G.useEffect(()=>{n.values&&!il(n.values,t.current)?(i._reset(n.values,{keepFieldsRef:!0,...i._options.resetOptions}),t.current=n.values,r(a=>({...a}))):i._resetDefaultValues()},[i,n.values]),G.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=yB(s,i),e.current}const S2=(n,e,t)=>{if(n&&"reportValidity"in n){const s=le(t,e);n.setCustomValidity(s&&s.message||""),n.reportValidity()}},AB=(n,e)=>{for(const t in e.fields){const s=e.fields[t];s&&s.ref&&"reportValidity"in s.ref?S2(s.ref,t,n):s.refs&&s.refs.forEach(r=>S2(r,t,n))}},ete=(n,e)=>{e.shouldUseNativeValidation&&AB(n,e);const t={};for(const s in n){const r=le(e.fields,s),i=Object.assign(n[s]||{},{ref:r&&r.ref});if(tte(e.names||Object.keys(n),s)){const a=Object.assign({},le(t,s));vt(a,"root",i),vt(t,s,a)}else vt(t,s,i)}return t},tte=(n,e)=>n.some(t=>t.startsWith(e+"."));var nte=function(n,e){for(var t={};n.length;){var s=n[0],r=s.code,i=s.message,a=s.path.join(".");if(!t[a])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];t[a]={message:o.message,type:o.code}}else t[a]={message:i,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return n.push(f)})}),e){var l=t[a].types,d=l&&l[s.code];t[a]=wB(a,e,t,r,d?[].concat(d,s.message):s.message)}n.shift()}return t},MN=function(n,e,t){return t===void 0&&(t={}),function(s,r,i){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(d){return i.shouldUseNativeValidation&&AB({},i),{errors:{},values:t.raw?s:d}})}catch(d){return o(d)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:ete(nte(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ct;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function t(r){throw new Error}n.assertNever=t,n.arrayToEnum=r=>{const i={};for(const a of r)i[a]=a;return i},n.getValidEnumValues=r=>{const i=n.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),a={};for(const o of i)a[o]=r[o];return n.objectValues(a)},n.objectValues=r=>n.objectKeys(r).map(function(i){return r[i]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.push(a);return i},n.find=(r,i)=>{for(const a of r)if(i(a))return a},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}n.joinValues=s,n.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(ct||(ct={}));var C2;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(C2||(C2={}));const ye=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zl=n=>{switch(typeof n){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(n)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(n)?ye.array:n===null?ye.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ye.promise:typeof Map<"u"&&n instanceof Map?ye.map:typeof Set<"u"&&n instanceof Set?ye.set:typeof Date<"u"&&n instanceof Date?ye.date:ye.object;default:return ye.unknown}},se=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class yl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)s._errors.push(t(a));else{let o=s,l=0;for(;l<a.path.length;){const d=a.path[l];l===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(a))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return r(this),s}static assert(e){if(!(e instanceof yl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const r of this.issues)if(r.path.length>0){const i=r.path[0];t[i]=t[i]||[],t[i].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}yl.create=n=>new yl(n);const aA=(n,e)=>{let t;switch(n.code){case se.invalid_type:n.received===ye.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case se.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ct.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:t=`Unrecognized key(s) in object: ${ct.joinValues(n.keys,", ")}`;break;case se.invalid_union:t="Invalid input";break;case se.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ct.joinValues(n.options)}`;break;case se.invalid_enum_value:t=`Invalid enum value. Expected ${ct.joinValues(n.options)}, received '${n.received}'`;break;case se.invalid_arguments:t="Invalid function arguments";break;case se.invalid_return_type:t="Invalid function return type";break;case se.invalid_date:t="Invalid date";break;case se.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ct.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case se.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case se.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case se.custom:t="Invalid input";break;case se.invalid_intersection_types:t="Intersection results could not be merged";break;case se.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case se.not_finite:t="Number must be finite";break;default:t=e.defaultError,ct.assertNever(n)}return{message:t}};let ste=aA;function rte(){return ste}const ite=n=>{const{data:e,path:t,errorMaps:s,issueData:r}=n,i=[...t,...r.path||[]],a={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let o="";const l=s.filter(d=>!!d).slice().reverse();for(const d of l)o=d(a,{data:e,defaultError:o}).message;return{...r,path:i,message:o}};function ce(n,e){const t=rte(),s=ite({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===aA?void 0:aA].filter(r=>!!r)});n.common.issues.push(s)}class Ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const r of t){if(r.status==="aborted")return Fe;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const r of t){const i=await r.key,a=await r.value;s.push({key:i,value:a})}return Ur.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const r of t){const{key:i,value:a}=r;if(i.status==="aborted"||a.status==="aborted")return Fe;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(s[i.value]=a.value)}return{status:e.value,value:s}}}const Fe=Object.freeze({status:"aborted"}),Bg=n=>({status:"dirty",value:n}),gi=n=>({status:"valid",value:n}),k2=n=>n.status==="aborted",E2=n=>n.status==="dirty",Am=n=>n.status==="valid",z0=n=>typeof Promise<"u"&&n instanceof Promise;var xe;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xe||(xe={}));class vd{constructor(e,t,s,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const A2=(n,e)=>{if(Am(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new yl(n.common.issues);return this._error=t,this._error}}};function Je(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:r}=n;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(a,o)=>{const{message:l}=n;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??s??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??t??o.defaultError}},description:r}}class lt{get description(){return this._def.description}_getType(e){return zl(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:zl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ur,ctx:{common:e.parent.common,data:e.data,parsedType:zl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(z0(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){const s={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zl(e)},r=this._parseSync({data:e,path:s.path,parent:s});return A2(s,r)}"~validate"(e){var s,r;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zl(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return Am(i)?{value:i.value}:{issues:t.common.issues}}catch(i){(r=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>Am(i)?{value:i.value}:{issues:t.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zl(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await(z0(r)?r:Promise.resolve(r));return A2(s,i)}refine(e,t){const s=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,i)=>{const a=e(r),o=()=>i.addIssue({code:se.custom,...s(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof t=="function"?t(s,r):t),!1))}_refinement(e){return new Tm({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return rd.create(this,this._def)}nullable(){return Pm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ka.create(this)}promise(){return W0.create(this,this._def)}or(e){return V0.create([this,e],this._def)}and(e){return H0.create(this,e,this._def)}transform(e){return new Tm({...Je(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new cA({...Je(this._def),innerType:this,defaultValue:t,typeName:$e.ZodDefault})}brand(){return new jte({typeName:$e.ZodBranded,type:this,...Je(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new dA({...Je(this._def),innerType:this,catchValue:t,typeName:$e.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ON.create(this,e)}readonly(){return uA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ate=/^c[^\s-]{8,}$/i,ote=/^[0-9a-z]+$/,lte=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,dte=/^[a-z0-9_-]{21}$/i,ute=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hte=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fte=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pte="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Z1;const mte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vte=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yte=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xte=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wte=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bte=new RegExp(`^${jB}$`);function NB(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function _te(n){return new RegExp(`^${NB(n)}$`)}function Ste(n){let e=`${jB}T${NB(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Cte(n,e){return!!((e==="v4"||!e)&&mte.test(n)||(e==="v6"||!e)&&vte.test(n))}function kte(n,e){if(!ute.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function Ete(n,e){return!!((e==="v4"||!e)&&gte.test(n)||(e==="v6"||!e)&&yte.test(n))}class ll extends lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const i=this._getOrReturnCtx(e);return ce(i,{code:se.invalid_type,expected:ye.string,received:i.parsedType}),Fe}const s=new Ur;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),ce(r,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),ce(r,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(r=this._getOrReturnCtx(e,r),a?ce(r,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ce(r,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")fte.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"email",code:se.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Z1||(Z1=new RegExp(pte,"u")),Z1.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"emoji",code:se.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")cte.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"uuid",code:se.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")dte.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"nanoid",code:se.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")ate.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"cuid",code:se.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")ote.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"cuid2",code:se.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")lte.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"ulid",code:se.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),ce(r,{validation:"url",code:se.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"regex",code:se.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),ce(r,{code:se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),ce(r,{code:se.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),ce(r,{code:se.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?Ste(i).test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:se.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?bte.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:se.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?_te(i).test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:se.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?hte.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"duration",code:se.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?Cte(e.data,i.version)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"ip",code:se.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?kte(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"jwt",code:se.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?Ete(e.data,i.version)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"cidr",code:se.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?xte.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"base64",code:se.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?wte.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"base64url",code:se.invalid_string,message:i.message}),s.dirty()):ct.assertNever(i);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(r=>e.test(r),{validation:t,code:se.invalid_string,...xe.errToObj(s)})}_addCheck(e){return new ll({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...xe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...xe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...xe.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...xe.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...xe.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...xe.errToObj(t)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new ll({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ll({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ll({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ll.create=n=>new ll({checks:[],typeName:$e.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Je(n)});function Ate(n,e){const t=(n.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=t>s?t:s,i=Number.parseInt(n.toFixed(r).replace(".","")),a=Number.parseInt(e.toFixed(r).replace(".",""));return i%a/10**r}class kh extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const i=this._getOrReturnCtx(e);return ce(i,{code:se.invalid_type,expected:ye.number,received:i.parsedType}),Fe}let s;const r=new Ur;for(const i of this._def.checks)i.kind==="int"?ct.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:se.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ce(s,{code:se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ce(s,{code:se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?Ate(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),ce(s,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),ce(s,{code:se.not_finite,message:i.message}),r.dirty()):ct.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,xe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,xe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,xe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,xe.toString(t))}setLimit(e,t,s,r){return new kh({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:xe.toString(r)}]})}_addCheck(e){return new kh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}kh.create=n=>new kh({checks:[],typeName:$e.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Je(n)});class Eh extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let s;const r=new Ur;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),ce(s,{code:se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),ce(s,{code:se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),ce(s,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):ct.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ce(t,{code:se.invalid_type,expected:ye.bigint,received:t.parsedType}),Fe}gte(e,t){return this.setLimit("min",e,!0,xe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,xe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,xe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,xe.toString(t))}setLimit(e,t,s,r){return new Eh({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:xe.toString(r)}]})}_addCheck(e){return new Eh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Eh.create=n=>new Eh({checks:[],typeName:$e.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Je(n)});class U0 extends lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const s=this._getOrReturnCtx(e);return ce(s,{code:se.invalid_type,expected:ye.boolean,received:s.parsedType}),Fe}return gi(e.data)}}U0.create=n=>new U0({typeName:$e.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Je(n)});class jm extends lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const i=this._getOrReturnCtx(e);return ce(i,{code:se.invalid_type,expected:ye.date,received:i.parsedType}),Fe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ce(i,{code:se.invalid_date}),Fe}const s=new Ur;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),ce(r,{code:se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),ce(r,{code:se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):ct.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jm({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}jm.create=n=>new jm({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:$e.ZodDate,...Je(n)});class j2 extends lt{_parse(e){if(this._getType(e)!==ye.symbol){const s=this._getOrReturnCtx(e);return ce(s,{code:se.invalid_type,expected:ye.symbol,received:s.parsedType}),Fe}return gi(e.data)}}j2.create=n=>new j2({typeName:$e.ZodSymbol,...Je(n)});class N2 extends lt{_parse(e){if(this._getType(e)!==ye.undefined){const s=this._getOrReturnCtx(e);return ce(s,{code:se.invalid_type,expected:ye.undefined,received:s.parsedType}),Fe}return gi(e.data)}}N2.create=n=>new N2({typeName:$e.ZodUndefined,...Je(n)});class T2 extends lt{_parse(e){if(this._getType(e)!==ye.null){const s=this._getOrReturnCtx(e);return ce(s,{code:se.invalid_type,expected:ye.null,received:s.parsedType}),Fe}return gi(e.data)}}T2.create=n=>new T2({typeName:$e.ZodNull,...Je(n)});class P2 extends lt{constructor(){super(...arguments),this._any=!0}_parse(e){return gi(e.data)}}P2.create=n=>new P2({typeName:$e.ZodAny,...Je(n)});class R2 extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gi(e.data)}}R2.create=n=>new R2({typeName:$e.ZodUnknown,...Je(n)});class yd extends lt{_parse(e){const t=this._getOrReturnCtx(e);return ce(t,{code:se.invalid_type,expected:ye.never,received:t.parsedType}),Fe}}yd.create=n=>new yd({typeName:$e.ZodNever,...Je(n)});class D2 extends lt{_parse(e){if(this._getType(e)!==ye.undefined){const s=this._getOrReturnCtx(e);return ce(s,{code:se.invalid_type,expected:ye.void,received:s.parsedType}),Fe}return gi(e.data)}}D2.create=n=>new D2({typeName:$e.ZodVoid,...Je(n)});class Ka extends lt{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),r=this._def;if(t.parsedType!==ye.array)return ce(t,{code:se.invalid_type,expected:ye.array,received:t.parsedType}),Fe;if(r.exactLength!==null){const a=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(a||o)&&(ce(t,{code:a?se.too_big:se.too_small,minimum:o?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(ce(t,{code:se.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(ce(t,{code:se.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>r.type._parseAsync(new vd(t,a,t.path,o)))).then(a=>Ur.mergeArray(s,a));const i=[...t.data].map((a,o)=>r.type._parseSync(new vd(t,a,t.path,o)));return Ur.mergeArray(s,i)}get element(){return this._def.type}min(e,t){return new Ka({...this._def,minLength:{value:e,message:xe.toString(t)}})}max(e,t){return new Ka({...this._def,maxLength:{value:e,message:xe.toString(t)}})}length(e,t){return new Ka({...this._def,exactLength:{value:e,message:xe.toString(t)}})}nonempty(e){return this.min(1,e)}}Ka.create=(n,e)=>new Ka({type:n,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...Je(e)});function ff(n){if(n instanceof bn){const e={};for(const t in n.shape){const s=n.shape[t];e[t]=rd.create(ff(s))}return new bn({...n._def,shape:()=>e})}else return n instanceof Ka?new Ka({...n._def,type:ff(n.element)}):n instanceof rd?rd.create(ff(n.unwrap())):n instanceof Pm?Pm.create(ff(n.unwrap())):n instanceof Ah?Ah.create(n.items.map(e=>ff(e))):n}class bn extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ct.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ye.object){const d=this._getOrReturnCtx(e);return ce(d,{code:se.invalid_type,expected:ye.object,received:d.parsedType}),Fe}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof yd&&this._def.unknownKeys==="strip"))for(const d in r.data)a.includes(d)||o.push(d);const l=[];for(const d of a){const h=i[d],f=r.data[d];l.push({key:{status:"valid",value:d},value:h._parse(new vd(r,f,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof yd){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of o)l.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(d==="strict")o.length>0&&(ce(r,{code:se.unrecognized_keys,keys:o}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of o){const f=r.data[h];l.push({key:{status:"valid",value:h},value:d._parse(new vd(r,f,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of l){const f=await h.key,p=await h.value;d.push({key:f,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Ur.mergeObjectSync(s,d)):Ur.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new bn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var i,a;const r=((a=(i=this._def).errorMap)==null?void 0:a.call(i,t,s).message)??s.defaultError;return t.code==="unrecognized_keys"?{message:xe.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new bn({...this._def,unknownKeys:"strip"})}passthrough(){return new bn({...this._def,unknownKeys:"passthrough"})}extend(e){return new bn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new bn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$e.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new bn({...this._def,catchall:e})}pick(e){const t={};for(const s of ct.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new bn({...this._def,shape:()=>t})}omit(e){const t={};for(const s of ct.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new bn({...this._def,shape:()=>t})}deepPartial(){return ff(this)}partial(e){const t={};for(const s of ct.objectKeys(this.shape)){const r=this.shape[s];e&&!e[s]?t[s]=r:t[s]=r.optional()}return new bn({...this._def,shape:()=>t})}required(e){const t={};for(const s of ct.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof rd;)i=i._def.innerType;t[s]=i}return new bn({...this._def,shape:()=>t})}keyof(){return TB(ct.objectKeys(this.shape))}}bn.create=(n,e)=>new bn({shape:()=>n,unknownKeys:"strip",catchall:yd.create(),typeName:$e.ZodObject,...Je(e)});bn.strictCreate=(n,e)=>new bn({shape:()=>n,unknownKeys:"strict",catchall:yd.create(),typeName:$e.ZodObject,...Je(e)});bn.lazycreate=(n,e)=>new bn({shape:n,unknownKeys:"strip",catchall:yd.create(),typeName:$e.ZodObject,...Je(e)});class V0 extends lt{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function r(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new yl(o.ctx.common.issues));return ce(t,{code:se.invalid_union,unionErrors:a}),Fe}if(t.common.async)return Promise.all(s.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(r);{let i;const a=[];for(const l of s){const d={...t,common:{...t.common,issues:[]},parent:null},h=l._parseSync({data:t.data,path:t.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new yl(l));return ce(t,{code:se.invalid_union,unionErrors:o}),Fe}}get options(){return this._def.options}}V0.create=(n,e)=>new V0({options:n,typeName:$e.ZodUnion,...Je(e)});function oA(n,e){const t=zl(n),s=zl(e);if(n===e)return{valid:!0,data:n};if(t===ye.object&&s===ye.object){const r=ct.objectKeys(e),i=ct.objectKeys(n).filter(o=>r.indexOf(o)!==-1),a={...n,...e};for(const o of i){const l=oA(n[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===ye.array&&s===ye.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<n.length;i++){const a=n[i],o=e[i],l=oA(a,o);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return t===ye.date&&s===ye.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class H0 extends lt{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=(i,a)=>{if(k2(i)||k2(a))return Fe;const o=oA(i.value,a.value);return o.valid?((E2(i)||E2(a))&&t.dirty(),{status:t.value,value:o.data}):(ce(s,{code:se.invalid_intersection_types}),Fe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,a])=>r(i,a)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}H0.create=(n,e,t)=>new H0({left:n,right:e,typeName:$e.ZodIntersection,...Je(t)});class Ah extends lt{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ye.array)return ce(s,{code:se.invalid_type,expected:ye.array,received:s.parsedType}),Fe;if(s.data.length<this._def.items.length)return ce(s,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&s.data.length>this._def.items.length&&(ce(s,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...s.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new vd(s,a,s.path,o)):null}).filter(a=>!!a);return s.common.async?Promise.all(i).then(a=>Ur.mergeArray(t,a)):Ur.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Ah({...this._def,rest:e})}}Ah.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ah({items:n,typeName:$e.ZodTuple,rest:null,...Je(e)})};class M2 extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ye.map)return ce(s,{code:se.invalid_type,expected:ye.map,received:s.parsedType}),Fe;const r=this._def.keyType,i=this._def.valueType,a=[...s.data.entries()].map(([o,l],d)=>({key:r._parse(new vd(s,o,s.path,[d,"key"])),value:i._parse(new vd(s,l,s.path,[d,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const d=await l.key,h=await l.value;if(d.status==="aborted"||h.status==="aborted")return Fe;(d.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(d.value,h.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const d=l.key,h=l.value;if(d.status==="aborted"||h.status==="aborted")return Fe;(d.status==="dirty"||h.status==="dirty")&&t.dirty(),o.set(d.value,h.value)}return{status:t.value,value:o}}}}M2.create=(n,e,t)=>new M2({valueType:e,keyType:n,typeName:$e.ZodMap,...Je(t)});class Bv extends lt{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ye.set)return ce(s,{code:se.invalid_type,expected:ye.set,received:s.parsedType}),Fe;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(ce(s,{code:se.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(ce(s,{code:se.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(l){const d=new Set;for(const h of l){if(h.status==="aborted")return Fe;h.status==="dirty"&&t.dirty(),d.add(h.value)}return{status:t.value,value:d}}const o=[...s.data.values()].map((l,d)=>i._parse(new vd(s,l,s.path,d)));return s.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new Bv({...this._def,minSize:{value:e,message:xe.toString(t)}})}max(e,t){return new Bv({...this._def,maxSize:{value:e,message:xe.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Bv.create=(n,e)=>new Bv({valueType:n,minSize:null,maxSize:null,typeName:$e.ZodSet,...Je(e)});class O2 extends lt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}O2.create=(n,e)=>new O2({getter:n,typeName:$e.ZodLazy,...Je(e)});class lA extends lt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ce(t,{received:t.data,code:se.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}lA.create=(n,e)=>new lA({value:n,typeName:$e.ZodLiteral,...Je(e)});function TB(n,e){return new Nm({values:n,typeName:$e.ZodEnum,...Je(e)})}class Nm extends lt{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return ce(t,{expected:ct.joinValues(s),received:t.parsedType,code:se.invalid_type}),Fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return ce(t,{received:t.data,code:se.invalid_enum_value,options:s}),Fe}return gi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Nm.create(e,{...this._def,...t})}exclude(e,t=this._def){return Nm.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}Nm.create=TB;class I2 extends lt{_parse(e){const t=ct.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==ye.string&&s.parsedType!==ye.number){const r=ct.objectValues(t);return ce(s,{expected:ct.joinValues(r),received:s.parsedType,code:se.invalid_type}),Fe}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=ct.objectValues(t);return ce(s,{received:s.data,code:se.invalid_enum_value,options:r}),Fe}return gi(e.data)}get enum(){return this._def.values}}I2.create=(n,e)=>new I2({values:n,typeName:$e.ZodNativeEnum,...Je(e)});class W0 extends lt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ye.promise&&t.common.async===!1)return ce(t,{code:se.invalid_type,expected:ye.promise,received:t.parsedType}),Fe;const s=t.parsedType===ye.promise?t.data:Promise.resolve(t.data);return gi(s.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}}W0.create=(n,e)=>new W0({type:n,typeName:$e.ZodPromise,...Je(e)});class Tm extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:a=>{ce(s,a),a.fatal?t.abort():t.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const a=r.transform(s.data,i);if(s.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return Fe;const l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?Fe:l.status==="dirty"||t.value==="dirty"?Bg(l.value):l});{if(t.value==="aborted")return Fe;const o=this._def.schema._parseSync({data:a,path:s.path,parent:s});return o.status==="aborted"?Fe:o.status==="dirty"||t.value==="dirty"?Bg(o.value):o}}if(r.type==="refinement"){const a=o=>{const l=r.refinement(o,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Fe:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?Fe:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Am(a))return Fe;const o=r.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>Am(a)?Promise.resolve(r.transform(a.value,i)).then(o=>({status:t.value,value:o})):Fe);ct.assertNever(r)}}Tm.create=(n,e,t)=>new Tm({schema:n,typeName:$e.ZodEffects,effect:e,...Je(t)});Tm.createWithPreprocess=(n,e,t)=>new Tm({schema:e,effect:{type:"preprocess",transform:n},typeName:$e.ZodEffects,...Je(t)});class rd extends lt{_parse(e){return this._getType(e)===ye.undefined?gi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rd.create=(n,e)=>new rd({innerType:n,typeName:$e.ZodOptional,...Je(e)});class Pm extends lt{_parse(e){return this._getType(e)===ye.null?gi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pm.create=(n,e)=>new Pm({innerType:n,typeName:$e.ZodNullable,...Je(e)});class cA extends lt{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===ye.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}cA.create=(n,e)=>new cA({innerType:n,typeName:$e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Je(e)});class dA extends lt{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return z0(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yl(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new yl(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}dA.create=(n,e)=>new dA({innerType:n,typeName:$e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Je(e)});class L2 extends lt{_parse(e){if(this._getType(e)!==ye.nan){const s=this._getOrReturnCtx(e);return ce(s,{code:se.invalid_type,expected:ye.nan,received:s.parsedType}),Fe}return{status:"valid",value:e.data}}}L2.create=n=>new L2({typeName:$e.ZodNaN,...Je(n)});class jte extends lt{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class ON extends lt{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Fe:i.status==="dirty"?(t.dirty(),Bg(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?Fe:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,t){return new ON({in:e,out:t,typeName:$e.ZodPipeline})}}class uA extends lt{_parse(e){const t=this._def.innerType._parse(e),s=r=>(Am(r)&&(r.value=Object.freeze(r.value)),r);return z0(t)?t.then(r=>s(r)):s(t)}unwrap(){return this._def.innerType}}uA.create=(n,e)=>new uA({innerType:n,typeName:$e.ZodReadonly,...Je(e)});var $e;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})($e||($e={}));const On=ll.create;kh.create;Eh.create;const Nte=U0.create,J1=jm.create;yd.create;Ka.create;const IN=bn.create;V0.create;H0.create;Ah.create;const F2=lA.create,zv=Nm.create;W0.create;rd.create;Pm.create;const Tte={string:n=>ll.create({...n,coerce:!0}),number:n=>kh.create({...n,coerce:!0}),boolean:n=>U0.create({...n,coerce:!0}),bigint:n=>Eh.create({...n,coerce:!0}),date:n=>jm.create({...n,coerce:!0})};var Pte="Label",PB=v.forwardRef((n,e)=>c.jsx(ve.label,{...n,ref:e,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||((r=n.onMouseDown)==null||r.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));PB.displayName=Pte;var RB=PB;const Rte=Bm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=v.forwardRef(({className:n,...e},t)=>c.jsx(RB,{ref:t,className:Q(Rte(),n),...e}));Se.displayName=RB.displayName;const LN=Iee,DB=v.createContext({}),qt=({...n})=>c.jsx(DB.Provider,{value:{name:n.name},children:c.jsx(Bee,{...n})}),kS=()=>{const n=v.useContext(DB),e=v.useContext(MB),{getFieldState:t,formState:s}=CS(),r=t(n.name,s);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:n.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},MB=v.createContext({}),It=v.forwardRef(({className:n,...e},t)=>{const s=v.useId();return c.jsx(MB.Provider,{value:{id:s},children:c.jsx("div",{ref:t,className:Q("space-y-2",n),...e})})});It.displayName="FormItem";const Lt=v.forwardRef(({className:n,...e},t)=>{const{error:s,formItemId:r}=kS();return c.jsx(Se,{ref:t,className:Q(s&&"text-destructive",n),htmlFor:r,...e})});Lt.displayName="FormLabel";const Ft=v.forwardRef(({...n},e)=>{const{error:t,formItemId:s,formDescriptionId:r,formMessageId:i}=kS();return c.jsx(Cd,{ref:e,id:s,"aria-describedby":t?`${r} ${i}`:`${r}`,"aria-invalid":!!t,...n})});Ft.displayName="FormControl";const Dte=v.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:s}=kS();return c.jsx("p",{ref:t,id:s,className:Q("text-sm text-muted-foreground",n),...e})});Dte.displayName="FormDescription";const $t=v.forwardRef(({className:n,children:e,...t},s)=>{const{error:r,formMessageId:i}=kS(),a=r?String(r==null?void 0:r.message):e;return a?c.jsx("p",{ref:s,id:i,className:Q("text-sm font-medium text-destructive",n),...t,children:a}):null});$t.displayName="FormMessage";const Ja=v.forwardRef(({className:n,...e},t)=>c.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));Ja.displayName="Textarea";function hA(n,[e,t]){return Math.min(t,Math.max(e,n))}function FN(n){const e=v.useRef({value:n,previous:n});return v.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Mte=[" ","Enter","ArrowUp","ArrowDown"],Ote=[" ","Enter"],jh="Select",[ES,AS,Ite]=L_(jh),[Ym,wle]=cs(jh,[Ite,kd]),jS=kd(),[Lte,jd]=Ym(jh),[Fte,$te]=Ym(jh),OB=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:r,onOpenChange:i,value:a,defaultValue:o,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:p,required:m,form:y}=n,g=jS(e),[_,w]=v.useState(null),[x,b]=v.useState(null),[S,k]=v.useState(!1),j=zx(d),[N,P]=Qi({prop:s,defaultProp:r??!1,onChange:i,caller:jh}),[D,T]=Qi({prop:a,defaultProp:o,onChange:l,caller:jh}),F=v.useRef(null),M=_?y||!!_.closest("form"):!0,[U,R]=v.useState(new Set),V=Array.from(U).map(z=>z.props.value).join(";");return c.jsx(W_,{...g,children:c.jsxs(Lte,{required:m,scope:e,trigger:_,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:di(),value:D,onValueChange:T,open:N,onOpenChange:P,dir:j,triggerPointerDownPosRef:F,disabled:p,children:[c.jsx(ES.Provider,{scope:e,children:c.jsx(Fte,{scope:n.__scopeSelect,onNativeOptionAdd:v.useCallback(z=>{R($=>new Set($).add(z))},[]),onNativeOptionRemove:v.useCallback(z=>{R($=>{const I=new Set($);return I.delete(z),I})},[]),children:t})}),M?c.jsxs(i5,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:D,onChange:z=>T(z.target.value),disabled:p,form:y,children:[D===void 0?c.jsx("option",{value:""}):null,Array.from(U)]},V):null]})})};OB.displayName=jh;var IB="SelectTrigger",LB=v.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...r}=n,i=jS(t),a=jd(IB,t),o=a.disabled||s,l=Ie(e,a.onTriggerChange),d=AS(t),h=v.useRef("touch"),[f,p,m]=o5(g=>{const _=d().filter(b=>!b.disabled),w=_.find(b=>b.value===a.value),x=l5(_,g,w);x!==void 0&&a.onValueChange(x.value)}),y=g=>{o||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(Tx,{asChild:!0,...i,children:c.jsx(ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":a5(a.value)?"":void 0,...r,ref:l,onClick:te(r.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&y(g)}),onPointerDown:te(r.onPointerDown,g=>{h.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:te(r.onKeyDown,g=>{const _=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(_&&g.key===" ")&&Mte.includes(g.key)&&(y(),g.preventDefault())})})})});LB.displayName=IB;var FB="SelectValue",$B=v.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:r,children:i,placeholder:a="",...o}=n,l=jd(FB,t),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=Ie(e,l.onValueNodeChange);return pn(()=>{d(h)},[d,h]),c.jsx(ve.span,{...o,ref:f,style:{pointerEvents:"none"},children:a5(l.value)?c.jsx(c.Fragment,{children:a}):i})});$B.displayName=FB;var Bte="SelectIcon",BB=v.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...r}=n;return c.jsx(ve.span,{"aria-hidden":!0,...r,ref:e,children:s||"▼"})});BB.displayName=Bte;var zte="SelectPortal",zB=n=>c.jsx($m,{asChild:!0,...n});zB.displayName=zte;var Nh="SelectContent",UB=v.forwardRef((n,e)=>{const t=jd(Nh,n.__scopeSelect),[s,r]=v.useState();if(pn(()=>{r(new DocumentFragment)},[]),!t.open){const i=s;return i?Mh.createPortal(c.jsx(VB,{scope:n.__scopeSelect,children:c.jsx(ES.Slot,{scope:n.__scopeSelect,children:c.jsx("div",{children:n.children})})}),i):null}return c.jsx(HB,{...n,ref:e})});UB.displayName=Nh;var ki=10,[VB,Nd]=Ym(Nh),Ute="SelectContentImpl",Vte=ld("SelectContent.RemoveScroll"),HB=v.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:_,...w}=n,x=jd(Nh,t),[b,S]=v.useState(null),[k,j]=v.useState(null),N=Ie(e,X=>S(X)),[P,D]=v.useState(null),[T,F]=v.useState(null),M=AS(t),[U,R]=v.useState(!1),V=v.useRef(!1);v.useEffect(()=>{if(b)return oS(b)},[b]),iS();const z=v.useCallback(X=>{const[He,...Be]=M().map(Ne=>Ne.ref.current),[Re]=Be.slice(-1),Te=document.activeElement;for(const Ne of X)if(Ne===Te||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===He&&k&&(k.scrollTop=0),Ne===Re&&k&&(k.scrollTop=k.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==Te))return},[M,k]),$=v.useCallback(()=>z([P,b]),[z,P,b]);v.useEffect(()=>{U&&$()},[U,$]);const{onOpenChange:I,triggerPointerDownPosRef:L}=x;v.useEffect(()=>{if(b){let X={x:0,y:0};const He=Re=>{var Te,Ne;X={x:Math.abs(Math.round(Re.pageX)-(((Te=L.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Ne=L.current)==null?void 0:Ne.y)??0))}},Be=Re=>{X.x<=10&&X.y<=10?Re.preventDefault():b.contains(Re.target)||I(!1),document.removeEventListener("pointermove",He),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",He),document.addEventListener("pointerup",Be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",Be,{capture:!0})}}},[b,I,L]),v.useEffect(()=>{const X=()=>I(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[I]);const[K,ie]=o5(X=>{const He=M().filter(Te=>!Te.disabled),Be=He.find(Te=>Te.ref.current===document.activeElement),Re=l5(He,X,Be);Re&&setTimeout(()=>Re.ref.current.focus())}),Z=v.useCallback((X,He,Be)=>{const Re=!V.current&&!Be;(x.value!==void 0&&x.value===He||Re)&&(D(X),Re&&(V.current=!0))},[x.value]),re=v.useCallback(()=>b==null?void 0:b.focus(),[b]),he=v.useCallback((X,He,Be)=>{const Re=!V.current&&!Be;(x.value!==void 0&&x.value===He||Re)&&F(X)},[x.value]),De=s==="popper"?fA:WB,je=De===fA?{side:o,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:_}:{};return c.jsx(VB,{scope:t,content:b,viewport:k,onViewportChange:j,itemRefCallback:Z,selectedItem:P,onItemLeave:re,itemTextRefCallback:he,focusSelectedItem:$,selectedItemText:T,position:s,isPositioned:U,searchRef:K,children:c.jsx(Ix,{as:Vte,allowPinchZoom:!0,children:c.jsx(Ox,{asChild:!0,trapped:x.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:te(r,X=>{var He;(He=x.trigger)==null||He.focus({preventScroll:!0}),X.preventDefault()}),children:c.jsx(Oh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:c.jsx(De,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:X=>X.preventDefault(),...w,...je,onPlaced:()=>R(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:te(w.onKeyDown,X=>{const He=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!He&&X.key.length===1&&ie(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Re=M().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Te=X.target,Ne=Re.indexOf(Te);Re=Re.slice(Ne+1)}setTimeout(()=>z(Re)),X.preventDefault()}})})})})})})});HB.displayName=Ute;var Hte="SelectItemAlignedPosition",WB=v.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...r}=n,i=jd(Nh,t),a=Nd(Nh,t),[o,l]=v.useState(null),[d,h]=v.useState(null),f=Ie(e,N=>h(N)),p=AS(t),m=v.useRef(!1),y=v.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:w,focusSelectedItem:x}=a,b=v.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&g&&_&&w){const N=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(i.dir!=="rtl"){const Te=T.left-P.left,Ne=D.left-Te,zt=N.left-Ne,gn=N.width+zt,lr=Math.max(gn,P.width),cr=window.innerWidth-ki,ds=hA(Ne,[ki,Math.max(ki,cr-lr)]);o.style.minWidth=gn+"px",o.style.left=ds+"px"}else{const Te=P.right-T.right,Ne=window.innerWidth-D.right-Te,zt=window.innerWidth-N.right-Ne,gn=N.width+zt,lr=Math.max(gn,P.width),cr=window.innerWidth-ki,ds=hA(Ne,[ki,Math.max(ki,cr-lr)]);o.style.minWidth=gn+"px",o.style.right=ds+"px"}const F=p(),M=window.innerHeight-ki*2,U=g.scrollHeight,R=window.getComputedStyle(d),V=parseInt(R.borderTopWidth,10),z=parseInt(R.paddingTop,10),$=parseInt(R.borderBottomWidth,10),I=parseInt(R.paddingBottom,10),L=V+z+U+I+$,K=Math.min(_.offsetHeight*5,L),ie=window.getComputedStyle(g),Z=parseInt(ie.paddingTop,10),re=parseInt(ie.paddingBottom,10),he=N.top+N.height/2-ki,De=M-he,je=_.offsetHeight/2,X=_.offsetTop+je,He=V+z+X,Be=L-He;if(He<=he){const Te=F.length>0&&_===F[F.length-1].ref.current;o.style.bottom="0px";const Ne=d.clientHeight-g.offsetTop-g.offsetHeight,zt=Math.max(De,je+(Te?re:0)+Ne+$),gn=He+zt;o.style.height=gn+"px"}else{const Te=F.length>0&&_===F[0].ref.current;o.style.top="0px";const zt=Math.max(he,V+g.offsetTop+(Te?Z:0)+je)+Be;o.style.height=zt+"px",g.scrollTop=He-he+g.offsetTop}o.style.margin=`${ki}px 0`,o.style.minHeight=K+"px",o.style.maxHeight=M+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,o,d,g,_,w,i.dir,s]);pn(()=>b(),[b]);const[S,k]=v.useState();pn(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const j=v.useCallback(N=>{N&&y.current===!0&&(b(),x==null||x(),y.current=!1)},[b,x]);return c.jsx(qte,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(ve.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});WB.displayName=Hte;var Wte="SelectPopperPosition",fA=v.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:r=ki,...i}=n,a=jS(t);return c.jsx(q_,{...a,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fA.displayName=Wte;var[qte,$N]=Ym(Nh,{}),pA="SelectViewport",qB=v.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...r}=n,i=Nd(pA,t),a=$N(pA,t),o=Ie(e,i.onViewportChange),l=v.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(ES.Slot,{scope:t,children:c.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:te(r.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&f){const m=Math.abs(l.current-h.scrollTop);if(m>0){const y=window.innerHeight-ki*2,g=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),w=Math.max(g,_);if(w<y){const x=w+m,b=Math.min(y,x),S=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});qB.displayName=pA;var GB="SelectGroup",[Gte,Yte]=Ym(GB),Kte=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=di();return c.jsx(Gte,{scope:t,id:r,children:c.jsx(ve.div,{role:"group","aria-labelledby":r,...s,ref:e})})});Kte.displayName=GB;var YB="SelectLabel",KB=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=Yte(YB,t);return c.jsx(ve.div,{id:r.id,...s,ref:e})});KB.displayName=YB;var q0="SelectItem",[Xte,XB]=Ym(q0),QB=v.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:r=!1,textValue:i,...a}=n,o=jd(q0,t),l=Nd(q0,t),d=o.value===s,[h,f]=v.useState(i??""),[p,m]=v.useState(!1),y=Ie(e,x=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,x,s,r)}),g=di(),_=v.useRef("touch"),w=()=>{r||(o.onValueChange(s),o.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Xte,{scope:t,value:s,disabled:r,textId:g,isSelected:d,onItemTextChange:v.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:c.jsx(ES.ItemSlot,{scope:t,value:s,disabled:r,textValue:h,children:c.jsx(ve.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:y,onFocus:te(a.onFocus,()=>m(!0)),onBlur:te(a.onBlur,()=>m(!1)),onClick:te(a.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:te(a.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:te(a.onPointerDown,x=>{_.current=x.pointerType}),onPointerMove:te(a.onPointerMove,x=>{var b;_.current=x.pointerType,r?(b=l.onItemLeave)==null||b.call(l):_.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(a.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:te(a.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(Ote.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});QB.displayName=q0;var zg="SelectItemText",ZB=v.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:r,...i}=n,a=jd(zg,t),o=Nd(zg,t),l=XB(zg,t),d=$te(zg,t),[h,f]=v.useState(null),p=Ie(e,w=>f(w),l.onItemTextChange,w=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,w,l.value,l.disabled)}),m=h==null?void 0:h.textContent,y=v.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=d;return pn(()=>(g(y),()=>_(y)),[g,_,y]),c.jsxs(c.Fragment,{children:[c.jsx(ve.span,{id:l.textId,...i,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Mh.createPortal(i.children,a.valueNode):null]})});ZB.displayName=zg;var JB="SelectItemIndicator",e5=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return XB(JB,t).isSelected?c.jsx(ve.span,{"aria-hidden":!0,...s,ref:e}):null});e5.displayName=JB;var mA="SelectScrollUpButton",t5=v.forwardRef((n,e)=>{const t=Nd(mA,n.__scopeSelect),s=$N(mA,n.__scopeSelect),[r,i]=v.useState(!1),a=Ie(e,s.onScrollButtonChange);return pn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const d=l.scrollTop>0;i(d)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),r?c.jsx(s5,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});t5.displayName=mA;var gA="SelectScrollDownButton",n5=v.forwardRef((n,e)=>{const t=Nd(gA,n.__scopeSelect),s=$N(gA,n.__scopeSelect),[r,i]=v.useState(!1),a=Ie(e,s.onScrollButtonChange);return pn(()=>{if(t.viewport&&t.isPositioned){let o=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),r?c.jsx(s5,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});n5.displayName=gA;var s5=v.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...r}=n,i=Nd("SelectScrollButton",t),a=v.useRef(null),o=AS(t),l=v.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),pn(()=>{var h;const d=o().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[o]),c.jsx(ve.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:te(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:te(r.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:te(r.onPointerLeave,()=>{l()})})}),Qte="SelectSeparator",r5=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return c.jsx(ve.div,{"aria-hidden":!0,...s,ref:e})});r5.displayName=Qte;var vA="SelectArrow",Zte=v.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=jS(t),i=jd(vA,t),a=Nd(vA,t);return i.open&&a.position==="popper"?c.jsx(G_,{...r,...s,ref:e}):null});Zte.displayName=vA;var Jte="SelectBubbleInput",i5=v.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const r=v.useRef(null),i=Ie(s,r),a=FN(e);return v.useEffect(()=>{const o=r.current;if(!o)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&h){const f=new Event("change",{bubbles:!0});h.call(o,e),o.dispatchEvent(f)}},[a,e]),c.jsx(ve.select,{...t,style:{...HO,...t.style},ref:i,defaultValue:e})});i5.displayName=Jte;function a5(n){return n===""||n===void 0}function o5(n){const e=on(n),t=v.useRef(""),s=v.useRef(0),r=v.useCallback(a=>{const o=t.current+a;e(o),function l(d){t.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),i=v.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,r,i]}function l5(n,e,t){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let a=ene(n,Math.max(i,0));r.length===1&&(a=a.filter(d=>d!==t));const l=a.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function ene(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var tne=OB,c5=LB,nne=$B,sne=BB,rne=zB,d5=UB,ine=qB,u5=KB,h5=QB,ane=ZB,one=e5,f5=t5,p5=n5,m5=r5;const xt=tne,wt=nne,ht=v.forwardRef(({className:n,children:e,...t},s)=>c.jsxs(c5,{ref:s,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,c.jsx(sne,{asChild:!0,children:c.jsx(f0,{className:"h-4 w-4 opacity-50"})})]}));ht.displayName=c5.displayName;const g5=v.forwardRef(({className:n,...e},t)=>c.jsx(f5,{ref:t,className:Q("flex cursor-default items-center justify-center py-1",n),...e,children:c.jsx(ak,{className:"h-4 w-4"})}));g5.displayName=f5.displayName;const v5=v.forwardRef(({className:n,...e},t)=>c.jsx(p5,{ref:t,className:Q("flex cursor-default items-center justify-center py-1",n),...e,children:c.jsx(f0,{className:"h-4 w-4"})}));v5.displayName=p5.displayName;const ft=v.forwardRef(({className:n,children:e,position:t="popper",...s},r)=>c.jsx(rne,{children:c.jsxs(d5,{ref:r,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[c.jsx(g5,{}),c.jsx(ine,{className:Q("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(v5,{})]})}));ft.displayName=d5.displayName;const lne=v.forwardRef(({className:n,...e},t)=>c.jsx(u5,{ref:t,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));lne.displayName=u5.displayName;const Y=v.forwardRef(({className:n,children:e,...t},s)=>c.jsxs(h5,{ref:s,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(one,{children:c.jsx(jj,{className:"h-4 w-4"})})}),c.jsx(ane,{children:e})]}));Y.displayName=h5.displayName;const cne=v.forwardRef(({className:n,...e},t)=>c.jsx(m5,{ref:t,className:Q("-mx-1 my-1 h-px bg-muted",n),...e}));cne.displayName=m5.displayName;const dne=IN({name:On().min(2,"Nome deve ter pelo menos 2 caracteres"),email:On().email("Email inválido"),phone:On().optional(),address:On().optional(),document_number:On().optional(),client_type:zv(["individual","company"]),notes:On().optional(),status:zv(["active","inactive","potential"])});function une({client:n,onSuccess:e,onCancel:t}){const{toast:s}=or(),r=DN({resolver:MN(dne),defaultValues:{name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",address:(n==null?void 0:n.address)||"",document_number:(n==null?void 0:n.document_number)||"",client_type:(n==null?void 0:n.client_type)||"individual",notes:(n==null?void 0:n.notes)||"",status:(n==null?void 0:n.status)||"active"}});async function i(a){try{n?(await Ve.updateClient(n.id,{name:a.name,email:a.email,phone:a.phone||null,address:a.address||null,document_number:a.document_number||null,client_type:a.client_type,status:a.status,notes:a.notes||null}),s({title:"Sucesso",description:"Cliente atualizado com sucesso"})):(await Ve.createClient(a),s({title:"Sucesso",description:"Cliente criado com sucesso"})),e()}catch{s({title:"Erro",description:"Não foi possível salvar o cliente",variant:"destructive"})}}return c.jsx(LN,{...r,children:c.jsxs("form",{onSubmit:r.handleSubmit(i),className:"space-y-4",children:[c.jsx(qt,{control:r.control,name:"name",render:({field:a})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Nome"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"Nome do cliente",...a})}),c.jsx($t,{})]})}),c.jsx(qt,{control:r.control,name:"email",render:({field:a})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Email"}),c.jsx(Ft,{children:c.jsx(Ue,{type:"email",placeholder:"email@exemplo.com",...a})}),c.jsx($t,{})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(qt,{control:r.control,name:"phone",render:({field:a})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Telefone"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"(11) 99999-9999",...a})}),c.jsx($t,{})]})}),c.jsx(qt,{control:r.control,name:"client_type",render:({field:a})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Tipo"}),c.jsxs(xt,{onValueChange:a.onChange,defaultValue:a.value,children:[c.jsx(Ft,{children:c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o tipo"})})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"individual",children:"Pessoa Física"}),c.jsx(Y,{value:"company",children:"Empresa"})]})]}),c.jsx($t,{})]})})]}),c.jsx(qt,{control:r.control,name:"document_number",render:({field:a})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"CPF/CNPJ"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"000.000.000-00",...a})}),c.jsx($t,{})]})}),c.jsx(qt,{control:r.control,name:"address",render:({field:a})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Endereço"}),c.jsx(Ft,{children:c.jsx(Ja,{placeholder:"Endereço completo",...a})}),c.jsx($t,{})]})}),c.jsx(qt,{control:r.control,name:"status",render:({field:a})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Status"}),c.jsxs(xt,{onValueChange:a.onChange,defaultValue:a.value,children:[c.jsx(Ft,{children:c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o status"})})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"active",children:"Ativo"}),c.jsx(Y,{value:"inactive",children:"Inativo"}),c.jsx(Y,{value:"potential",children:"Potencial"})]})]}),c.jsx($t,{})]})}),c.jsx(qt,{control:r.control,name:"notes",render:({field:a})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Observações"}),c.jsx(Ft,{children:c.jsx(Ja,{placeholder:"Observações sobre o cliente",...a})}),c.jsx($t,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(be,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),c.jsx(be,{type:"submit",children:n?"Atualizar":"Criar"})]})]})})}var y5="AlertDialog",[hne,ble]=cs(y5,[iF]),Sl=iF(),x5=n=>{const{__scopeAlertDialog:e,...t}=n,s=Sl(e);return c.jsx(iN,{...s,...t,modal:!0})};x5.displayName=y5;var fne="AlertDialogTrigger",pne=v.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...s}=n,r=Sl(t);return c.jsx(bF,{...r,...s,ref:e})});pne.displayName=fne;var mne="AlertDialogPortal",w5=n=>{const{__scopeAlertDialog:e,...t}=n,s=Sl(e);return c.jsx(aN,{...s,...t})};w5.displayName=mne;var gne="AlertDialogOverlay",b5=v.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...s}=n,r=Sl(t);return c.jsx(Lx,{...r,...s,ref:e})});b5.displayName=gne;var zf="AlertDialogContent",[vne,yne]=hne(zf),xne=BO("AlertDialogContent"),_5=v.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:s,...r}=n,i=Sl(t),a=v.useRef(null),o=Ie(e,a),l=v.useRef(null);return c.jsx(pX,{contentName:zf,titleName:S5,docsSlug:"alert-dialog",children:c.jsx(vne,{scope:t,cancelRef:l,children:c.jsxs(Fx,{role:"alertdialog",...i,...r,ref:o,onOpenAutoFocus:te(r.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[c.jsx(xne,{children:s}),c.jsx(bne,{contentRef:a})]})})})});_5.displayName=zf;var S5="AlertDialogTitle",C5=v.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...s}=n,r=Sl(t);return c.jsx($x,{...r,...s,ref:e})});C5.displayName=S5;var k5="AlertDialogDescription",E5=v.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...s}=n,r=Sl(t);return c.jsx(Bx,{...r,...s,ref:e})});E5.displayName=k5;var wne="AlertDialogAction",A5=v.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...s}=n,r=Sl(t);return c.jsx(cS,{...r,...s,ref:e})});A5.displayName=wne;var j5="AlertDialogCancel",N5=v.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...s}=n,{cancelRef:r}=yne(j5,t),i=Sl(t),a=Ie(e,r);return c.jsx(cS,{...i,...s,ref:a})});N5.displayName=j5;var bne=({contentRef:n})=>{const e=`\`${zf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zf}\` by passing a \`${k5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById((s=n.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},_ne=x5,Sne=w5,T5=b5,P5=_5,R5=A5,D5=N5,M5=C5,O5=E5;const BN=_ne,Cne=Sne,I5=v.forwardRef(({className:n,...e},t)=>c.jsx(T5,{className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));I5.displayName=T5.displayName;const NS=v.forwardRef(({className:n,...e},t)=>c.jsxs(Cne,{children:[c.jsx(I5,{}),c.jsx(P5,{ref:t,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));NS.displayName=P5.displayName;const TS=({className:n,...e})=>c.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",n),...e});TS.displayName="AlertDialogHeader";const PS=({className:n,...e})=>c.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});PS.displayName="AlertDialogFooter";const RS=v.forwardRef(({className:n,...e},t)=>c.jsx(M5,{ref:t,className:Q("text-lg font-semibold",n),...e}));RS.displayName=M5.displayName;const DS=v.forwardRef(({className:n,...e},t)=>c.jsx(O5,{ref:t,className:Q("text-sm text-muted-foreground",n),...e}));DS.displayName=O5.displayName;const MS=v.forwardRef(({className:n,...e},t)=>c.jsx(R5,{ref:t,className:Q(Rv(),n),...e}));MS.displayName=R5.displayName;const OS=v.forwardRef(({className:n,...e},t)=>c.jsx(D5,{ref:t,className:Q(Rv({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));OS.displayName=D5.displayName;function yA({phoneNumber:n,message:e="",size:t="sm",variant:s="outline"}){if(!n)return null;const i=`https://wa.me/${n.replace(/\D/g,"")}${e?`?text=${encodeURIComponent(e)}`:""}`;return c.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:c.jsx(be,{size:t,variant:s,className:"text-green-600 hover:text-green-700",children:t==="icon"?c.jsx(IP,{className:"h-5 w-5"}):c.jsxs(c.Fragment,{children:[c.jsx(IP,{className:"h-4 w-4 mr-1"}),"WhatsApp"]})})})}function kne({client:n,onEdit:e,onDelete:t,cases:s}){const r=a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-600";case"potential":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-600"}},i=a=>{switch(a){case"active":return"Ativo";case"inactive":return"Inativo";case"potential":return"Potencial";default:return a}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Ce,{children:c.jsx(Oe,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Em,{className:"h-16 w-16",children:c.jsx(hh,{className:"text-lg",children:n.name.split(" ").map(a=>a[0]).join("").toUpperCase()})}),c.jsxs("div",{children:[c.jsx(Ke,{className:"text-2xl break-words",children:n.name}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[c.jsx(jt,{className:r(n.status),children:i(n.status)}),c.jsx(jt,{variant:"outline",children:n.client_type==="company"?"Empresa":"Pessoa Física"})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.phone&&c.jsx(yA,{phoneNumber:n.phone,message:`Olá ${n.name}, tudo bem?`}),c.jsxs(be,{variant:"outline",onClick:e,className:"flex-1 sm:flex-none",children:[c.jsx(B_,{className:"h-4 w-4 mr-2"})," Editar"]}),c.jsxs(be,{variant:"destructive",onClick:t,className:"flex-1 sm:flex-none",children:[c.jsx(Rj,{className:"h-4 w-4 mr-2"})," Excluir"]})]})]})})}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{children:"Informações de Contato"})}),c.jsxs(Ee,{className:"space-y-4",children:[n.email&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(wm,{className:"h-5 w-5 text-muted-foreground"}),c.jsx("span",{children:n.email})]}),n.phone&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(gI,{className:"h-5 w-5 text-muted-foreground"}),c.jsx("span",{children:n.phone}),c.jsx(yA,{phoneNumber:n.phone,size:"sm",message:`Olá ${n.name}, tudo bem?`})]}),n.address&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(mI,{className:"h-5 w-5 text-muted-foreground"}),c.jsx("span",{children:n.address})]}),n.document_number&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(yh,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("span",{children:[n.client_type==="company"?"CNPJ":"CPF",": ",n.document_number]})]})]})]})]})}function Ene(){const[n,e]=v.useState(""),[t,s]=v.useState([]),[r,i]=v.useState({}),[a,o]=v.useState(!0),[l,d]=v.useState(!1),[h,f]=v.useState(!1),[p,m]=v.useState(!1),[y,g]=v.useState(null),{toast:_}=or(),w=async()=>{try{o(!0);const P=await Ve.getClients();s(P);const D=P.map(async M=>{try{const U=await Ve.getCasesByClient(M.id);return{clientId:M.id,cases:U}}catch(U){return console.error(`Erro ao carregar casos do cliente ${M.id}:`,U),{clientId:M.id,cases:[]}}}),T=await Promise.all(D),F={};T.forEach(M=>{F[M.clientId]=M.cases}),i(F)}catch(P){console.error("Erro ao carregar clientes e casos:",P),_({title:"Erro",description:"Não foi possível carregar os clientes. Tente novamente mais tarde.",variant:"destructive"})}finally{o(!1)}};v.useEffect(()=>{w()},[]);const x=async()=>{await w(),d(!1),_({title:"Sucesso!",description:"Operação concluída com sucesso."})},b=async()=>{if(y)try{await Ve.deleteClient(y.id),await w(),m(!1),f(!1),_({title:"Sucesso!",description:"Cliente excluído com sucesso."})}catch(P){console.error("Erro ao excluir cliente:",P),_({title:"Erro",description:"Não foi possível excluir o cliente. Tente novamente mais tarde.",variant:"destructive"})}},S=P=>{g(P),f(!0)},k=t.filter(P=>P.name.toLowerCase().includes(n.toLowerCase())||P.email.toLowerCase().includes(n.toLowerCase())||P.phone&&P.phone.includes(n)||P.document_number&&P.document_number.includes(n)),j=P=>{switch(P){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-600";case"potential":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-600"}},N=P=>{switch(P){case"active":return"Ativo";case"inactive":return"Inativo";case"potential":return"Potencial";default:return P}};return c.jsxs(ir,{title:"Clientes",breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Clientes"}],children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Clientes"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie seus clientes e visualize informações"})]}),c.jsxs(Ch,{open:l,onOpenChange:d,children:[c.jsx(fB,{asChild:!0,children:c.jsxs(be,{className:"bg-gradient-primary w-full sm:w-auto",children:[c.jsx(bv,{className:"mr-2 h-4 w-4"}),"Novo Cliente"]})}),c.jsxs(pd,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(md,{children:[c.jsx(gd,{children:"Novo Cliente"}),c.jsx(_S,{children:"Preencha os dados do novo cliente"})]}),c.jsx(une,{onCancel:()=>d(!1),onSuccess:x})]})]})]}),c.jsx(Ce,{className:"mb-6",children:c.jsx(Ee,{className:"p-4 sm:p-6",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_v,{className:"h-4 w-4 text-muted-foreground"}),c.jsx(Ue,{placeholder:"Buscar clientes por nome, email, telefone ou documento...",value:n,onChange:P=>e(P.target.value),className:"flex-1"})]})})}),a?c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((P,D)=>c.jsxs(Ce,{className:"animate-pulse",children:[c.jsx(Oe,{className:"pb-3",children:c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})}),c.jsx(Ee,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-3 bg-muted rounded w-full"}),c.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})]},D))}):c.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:k.map(P=>{var D;return c.jsxs(Ce,{className:"hover:shadow-md transition-shadow w-full",children:[c.jsx(Oe,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[c.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[c.jsx(Em,{children:c.jsx(hh,{className:"bg-primary/10 text-primary",children:P.name.split(" ").map(T=>T[0]).join("").toUpperCase().slice(0,2)})}),c.jsx(Ke,{className:"text-lg truncate",children:P.name})]}),c.jsx(jt,{className:j(P.status),children:N(P.status)})]})}),c.jsxs(Ee,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground break-words",children:[c.jsx(wm,{className:"h-4 w-4"}),c.jsx("span",{className:"truncate",children:P.email})]}),P.phone&&c.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[c.jsx(gI,{className:"h-4 w-4 shrink-0"}),c.jsx("span",{className:"truncate",children:P.phone})]}),c.jsx(yA,{phoneNumber:P.phone,size:"icon",variant:"ghost",message:`Olá ${P.name}, tudo bem?`})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[c.jsx(h0,{className:"h-4 w-4"}),c.jsx("span",{className:"truncate",children:((D=r[P.id])==null?void 0:D.length)>0?`${r[P.id].length} caso(s)`:"Nenhum caso"})]}),c.jsx("div",{className:"pt-3 border-t",children:c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cliente desde: ",new Date(P.created_at).toLocaleDateString("pt-BR")]})}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:c.jsxs(be,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>S(P),children:[c.jsx(ok,{className:"mr-1 h-3 w-3"}),"Ver Detalhes"]})})]})]},P.id)})}),c.jsx(Ch,{open:h,onOpenChange:f,children:c.jsxs(pd,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx(md,{children:c.jsx(gd,{children:"Detalhes do Cliente"})}),y&&c.jsx(kne,{client:y,onEdit:()=>{f(!1)},onDelete:()=>{f(!1),m(!0)},cases:r[y.id]||[]})]})}),c.jsx(BN,{open:p,onOpenChange:m,children:c.jsxs(NS,{children:[c.jsxs(TS,{children:[c.jsx(RS,{children:"Confirmar exclusão"}),c.jsxs(DS,{children:['Tem certeza que deseja excluir o cliente "',y==null?void 0:y.name,'"? Esta ação não pode ser desfeita.']})]}),c.jsxs(PS,{children:[c.jsx(OS,{children:"Cancelar"}),c.jsx(MS,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})}),!a&&t.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"mx-auto w-20 h-20 bg-muted rounded-full flex items-center justify-center mb-4",children:c.jsx(fI,{className:"h-10 w-10 text-muted-foreground"})}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum cliente encontrado"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Comece adicionando seu primeiro cliente."}),c.jsxs(be,{onClick:()=>d(!0),children:[c.jsx(bv,{className:"mr-2 h-4 w-4"}),"Novo Cliente"]})]}),!a&&k.length===0&&t.length>0&&c.jsx("div",{className:"text-center py-12",children:c.jsxs("p",{className:"text-muted-foreground",children:['Nenhum cliente encontrado para "',n,'".']})})]})}function ot(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Vr(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function Ds(n,e){const t=ot(n);return isNaN(e)?Vr(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function ea(n,e){const t=ot(n);if(isNaN(e))return Vr(n,NaN);if(!e)return t;const s=t.getDate(),r=Vr(n,t.getTime());r.setMonth(t.getMonth()+e+1,0);const i=r.getDate();return s>=i?r:(t.setFullYear(r.getFullYear(),r.getMonth(),s),t)}const zN=6048e5,Ane=864e5;let jne={};function Zx(){return jne}function eo(n,e){var o,l,d,h;const t=Zx(),s=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,r=ot(n),i=r.getDay(),a=(i<s?7:0)+i-s;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Th(n){return eo(n,{weekStartsOn:1})}function L5(n){const e=ot(n),t=e.getFullYear(),s=Vr(n,0);s.setFullYear(t+1,0,4),s.setHours(0,0,0,0);const r=Th(s),i=Vr(n,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const a=Th(i);return e.getTime()>=r.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function Rm(n){const e=ot(n);return e.setHours(0,0,0,0),e}function G0(n){const e=ot(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Wa(n,e){const t=Rm(n),s=Rm(e),r=+t-G0(t),i=+s-G0(s);return Math.round((r-i)/Ane)}function Nne(n){const e=L5(n),t=Vr(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Th(t)}function xA(n,e){const t=e*7;return Ds(n,t)}function Tne(n,e){return ea(n,e*12)}function Pne(n){let e;return n.forEach(function(t){const s=ot(t);(e===void 0||e<s||isNaN(Number(s)))&&(e=s)}),e||new Date(NaN)}function Rne(n){let e;return n.forEach(t=>{const s=ot(t);(!e||e>s||isNaN(+s))&&(e=s)}),e||new Date(NaN)}function tr(n,e){const t=Rm(n),s=Rm(e);return+t==+s}function UN(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Dne(n){if(!UN(n)&&typeof n!="number")return!1;const e=ot(n);return!isNaN(Number(e))}function Uv(n,e){const t=ot(n),s=ot(e),r=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return r*12+i}function Mne(n,e,t){const s=eo(n,t),r=eo(e,t),i=+s-G0(s),a=+r-G0(r);return Math.round((i-a)/zN)}function VN(n){const e=ot(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function ar(n){const e=ot(n);return e.setDate(1),e.setHours(0,0,0,0),e}function F5(n){const e=ot(n),t=Vr(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function HN(n,e){var o,l,d,h;const t=Zx(),s=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,r=ot(n),i=r.getDay(),a=(i<s?-7:0)+6-(i-s);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function $5(n){return HN(n,{weekStartsOn:1})}const One={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ine=(n,e,t)=>{let s;const r=One[n];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Uf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Lne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$ne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bne={date:Uf({formats:Lne,defaultWidth:"full"}),time:Uf({formats:Fne,defaultWidth:"full"}),dateTime:Uf({formats:$ne,defaultWidth:"full"})},zne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Une=(n,e,t,s)=>zne[n];function za(n){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let r;if(s==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):a;r=n.formattingValues[o]||n.formattingValues[a]}else{const a=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;r=n.values[o]||n.values[a]}const i=n.argumentCallback?n.argumentCallback(e):e;return r[i]}}const Vne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kne=(n,e)=>{const t=Number(n),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Xne={ordinalNumber:Kne,era:za({values:Vne,defaultWidth:"wide"}),quarter:za({values:Hne,defaultWidth:"wide",argumentCallback:n=>n-1}),month:za({values:Wne,defaultWidth:"wide"}),day:za({values:qne,defaultWidth:"wide"}),dayPeriod:za({values:Gne,defaultWidth:"wide",formattingValues:Yne,defaultFormattingWidth:"wide"})};function Ua(n){return(e,t={})=>{const s=t.width,r=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],i=e.match(r);if(!i)return null;const a=i[0],o=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?Zne(o,f=>f.test(a)):Qne(o,f=>f.test(a));let d;d=n.valueCallback?n.valueCallback(l):l,d=t.valueCallback?t.valueCallback(d):d;const h=e.slice(a.length);return{value:d,rest:h}}}function Qne(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Zne(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function B5(n){return(e,t={})=>{const s=e.match(n.matchPattern);if(!s)return null;const r=s[0],i=e.match(n.parsePattern);if(!i)return null;let a=n.valueCallback?n.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(r.length);return{value:a,rest:o}}}const Jne=/^(\d+)(th|st|nd|rd)?/i,ese=/\d+/i,tse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nse={any:[/^b/i,/^(a|c)/i]},sse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rse={any:[/1/i,/2/i,/3/i,/4/i]},ise={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ase={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ose={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},use={ordinalNumber:B5({matchPattern:Jne,parsePattern:ese,valueCallback:n=>parseInt(n,10)}),era:Ua({matchPatterns:tse,defaultMatchWidth:"wide",parsePatterns:nse,defaultParseWidth:"any"}),quarter:Ua({matchPatterns:sse,defaultMatchWidth:"wide",parsePatterns:rse,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ua({matchPatterns:ise,defaultMatchWidth:"wide",parsePatterns:ase,defaultParseWidth:"any"}),day:Ua({matchPatterns:ose,defaultMatchWidth:"wide",parsePatterns:lse,defaultParseWidth:"any"}),dayPeriod:Ua({matchPatterns:cse,defaultMatchWidth:"any",parsePatterns:dse,defaultParseWidth:"any"})},z5={code:"en-US",formatDistance:Ine,formatLong:Bne,formatRelative:Une,localize:Xne,match:use,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hse(n){const e=ot(n);return Wa(e,F5(e))+1}function U5(n){const e=ot(n),t=+Th(e)-+Nne(e);return Math.round(t/zN)+1}function V5(n,e){var h,f,p,m;const t=ot(n),s=t.getFullYear(),r=Zx(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,a=Vr(n,0);a.setFullYear(s+1,0,i),a.setHours(0,0,0,0);const o=eo(a,e),l=Vr(n,0);l.setFullYear(s,0,i),l.setHours(0,0,0,0);const d=eo(l,e);return t.getTime()>=o.getTime()?s+1:t.getTime()>=d.getTime()?s:s-1}function fse(n,e){var o,l,d,h;const t=Zx(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,r=V5(n,e),i=Vr(n,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),eo(i,e)}function H5(n,e){const t=ot(n),s=+eo(t,e)-+fse(t,e);return Math.round(s/zN)+1}function yt(n,e){const t=n<0?"-":"",s=Math.abs(n).toString().padStart(e,"0");return t+s}const Ml={y(n,e){const t=n.getFullYear(),s=t>0?t:1-t;return yt(e==="yy"?s%100:s,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):yt(t+1,2)},d(n,e){return yt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return yt(n.getHours()%12||12,e.length)},H(n,e){return yt(n.getHours(),e.length)},m(n,e){return yt(n.getMinutes(),e.length)},s(n,e){return yt(n.getSeconds(),e.length)},S(n,e){const t=e.length,s=n.getMilliseconds(),r=Math.trunc(s*Math.pow(10,t-3));return yt(r,e.length)}},tf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$2={G:function(n,e,t){const s=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(s,{width:"abbreviated"});case"GGGGG":return t.era(s,{width:"narrow"});case"GGGG":default:return t.era(s,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const s=n.getFullYear(),r=s>0?s:1-s;return t.ordinalNumber(r,{unit:"year"})}return Ml.y(n,e)},Y:function(n,e,t,s){const r=V5(n,s),i=r>0?r:1-r;if(e==="YY"){const a=i%100;return yt(a,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):yt(i,e.length)},R:function(n,e){const t=L5(n);return yt(t,e.length)},u:function(n,e){const t=n.getFullYear();return yt(t,e.length)},Q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return yt(s,2);case"Qo":return t.ordinalNumber(s,{unit:"quarter"});case"QQQ":return t.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(s,{width:"wide",context:"formatting"})}},q:function(n,e,t){const s=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return yt(s,2);case"qo":return t.ordinalNumber(s,{unit:"quarter"});case"qqq":return t.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(s,{width:"wide",context:"standalone"})}},M:function(n,e,t){const s=n.getMonth();switch(e){case"M":case"MM":return Ml.M(n,e);case"Mo":return t.ordinalNumber(s+1,{unit:"month"});case"MMM":return t.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(s,{width:"wide",context:"formatting"})}},L:function(n,e,t){const s=n.getMonth();switch(e){case"L":return String(s+1);case"LL":return yt(s+1,2);case"Lo":return t.ordinalNumber(s+1,{unit:"month"});case"LLL":return t.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(s,{width:"wide",context:"standalone"})}},w:function(n,e,t,s){const r=H5(n,s);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},I:function(n,e,t){const s=U5(n);return e==="Io"?t.ordinalNumber(s,{unit:"week"}):yt(s,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ml.d(n,e)},D:function(n,e,t){const s=hse(n);return e==="Do"?t.ordinalNumber(s,{unit:"dayOfYear"}):yt(s,e.length)},E:function(n,e,t){const s=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(s,{width:"short",context:"formatting"});case"EEEE":default:return t.day(s,{width:"wide",context:"formatting"})}},e:function(n,e,t,s){const r=n.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return yt(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,t,s){const r=n.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return yt(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,t){const s=n.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return yt(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(s,{width:"short",context:"formatting"});case"iiii":default:return t.day(s,{width:"wide",context:"formatting"})}},a:function(n,e,t){const r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){const s=n.getHours();let r;switch(s===12?r=tf.noon:s===0?r=tf.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,t){const s=n.getHours();let r;switch(s>=17?r=tf.evening:s>=12?r=tf.afternoon:s>=4?r=tf.morning:r=tf.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let s=n.getHours()%12;return s===0&&(s=12),t.ordinalNumber(s,{unit:"hour"})}return Ml.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ml.H(n,e)},K:function(n,e,t){const s=n.getHours()%12;return e==="Ko"?t.ordinalNumber(s,{unit:"hour"}):yt(s,e.length)},k:function(n,e,t){let s=n.getHours();return s===0&&(s=24),e==="ko"?t.ordinalNumber(s,{unit:"hour"}):yt(s,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ml.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ml.s(n,e)},S:function(n,e){return Ml.S(n,e)},X:function(n,e,t){const s=n.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return z2(s);case"XXXX":case"XX":return Vd(s);case"XXXXX":case"XXX":default:return Vd(s,":")}},x:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"x":return z2(s);case"xxxx":case"xx":return Vd(s);case"xxxxx":case"xxx":default:return Vd(s,":")}},O:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+B2(s,":");case"OOOO":default:return"GMT"+Vd(s,":")}},z:function(n,e,t){const s=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+B2(s,":");case"zzzz":default:return"GMT"+Vd(s,":")}},t:function(n,e,t){const s=Math.trunc(n.getTime()/1e3);return yt(s,e.length)},T:function(n,e,t){const s=n.getTime();return yt(s,e.length)}};function B2(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),r=Math.trunc(s/60),i=s%60;return i===0?t+String(r):t+String(r)+e+yt(i,2)}function z2(n,e){return n%60===0?(n>0?"-":"+")+yt(Math.abs(n)/60,2):Vd(n,e)}function Vd(n,e=""){const t=n>0?"-":"+",s=Math.abs(n),r=yt(Math.trunc(s/60),2),i=yt(s%60,2);return t+r+e+i}const U2=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},W5=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pse=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],s=t[1],r=t[2];if(!r)return U2(n,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",U2(s,e)).replace("{{time}}",W5(r,e))},mse={p:W5,P:pse},gse=/^D+$/,vse=/^Y+$/,yse=["D","DD","YY","YYYY"];function xse(n){return gse.test(n)}function wse(n){return vse.test(n)}function bse(n,e,t){const s=_se(n,e,t);if(console.warn(s),yse.includes(n))throw new RangeError(s)}function _se(n,e,t){const s=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${s} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kse=/^'([^]*?)'?$/,Ese=/''/g,Ase=/[a-zA-Z]/;function Td(n,e,t){var h,f,p,m,y,g,_,w;const s=Zx(),r=(t==null?void 0:t.locale)??s.locale??z5,i=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((g=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((w=(_=s.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??0,o=ot(n);if(!Dne(o))throw new RangeError("Invalid time value");let l=e.match(Cse).map(x=>{const b=x[0];if(b==="p"||b==="P"){const S=mse[b];return S(x,r.formatLong)}return x}).join("").match(Sse).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:jse(x)};if($2[b])return{isToken:!0,value:x};if(b.match(Ase))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:r};return l.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&wse(b)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&xse(b))&&bse(b,e,String(n));const S=$2[b[0]];return S(o,b,r.localize,d)}).join("")}function jse(n){const e=n.match(kse);return e?e[1].replace(Ese,"'"):n}function Nse(n){const e=ot(n),t=e.getFullYear(),s=e.getMonth(),r=Vr(n,0);return r.setFullYear(t,s+1,0),r.setHours(0,0,0,0),r.getDate()}function Tse(n){return Math.trunc(+ot(n)/1e3)}function Pse(n){const e=ot(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function Rse(n,e){return Mne(Pse(n),ar(n),e)+1}function wA(n,e){const t=ot(n),s=ot(e);return t.getTime()>s.getTime()}function q5(n,e){const t=ot(n),s=ot(e);return+t<+s}function WN(n,e){const t=ot(n),s=ot(e);return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()}function Dse(n,e){const t=ot(n),s=ot(e);return t.getFullYear()===s.getFullYear()}function eC(n,e){return Ds(n,-e)}function tC(n,e){const t=ot(n),s=t.getFullYear(),r=t.getDate(),i=Vr(n,0);i.setFullYear(s,e,15),i.setHours(0,0,0,0);const a=Nse(i);return t.setMonth(e,Math.min(r,a)),t}function V2(n,e){const t=ot(n);return isNaN(+t)?Vr(n,NaN):(t.setFullYear(e),t)}const Mse={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Ose=(n,e,t)=>{let s;const r=Mse[n];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",String(e)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"em "+s:"há "+s:s},Ise={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Lse={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Fse={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$se={date:Uf({formats:Ise,defaultWidth:"full"}),time:Uf({formats:Lse,defaultWidth:"full"}),dateTime:Uf({formats:Fse,defaultWidth:"full"})},Bse={lastWeek:n=>{const e=n.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},zse=(n,e,t,s)=>{const r=Bse[n];return typeof r=="function"?r(e):r},Use={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Vse={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Hse={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Wse={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},qse={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Gse={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Yse=(n,e)=>{const t=Number(n);return(e==null?void 0:e.unit)==="week"?t+"ª":t+"º"},Kse={ordinalNumber:Yse,era:za({values:Use,defaultWidth:"wide"}),quarter:za({values:Vse,defaultWidth:"wide",argumentCallback:n=>n-1}),month:za({values:Hse,defaultWidth:"wide"}),day:za({values:Wse,defaultWidth:"wide"}),dayPeriod:za({values:qse,defaultWidth:"wide",formattingValues:Gse,defaultFormattingWidth:"wide"})},Xse=/^(\d+)[ºªo]?/i,Qse=/\d+/i,Zse={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Jse={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},ere={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},tre={any:[/1/i,/2/i,/3/i,/4/i]},nre={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},sre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},rre={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},ire={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},are={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},ore={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},lre={ordinalNumber:B5({matchPattern:Xse,parsePattern:Qse,valueCallback:n=>parseInt(n,10)}),era:Ua({matchPatterns:Zse,defaultMatchWidth:"wide",parsePatterns:Jse,defaultParseWidth:"any"}),quarter:Ua({matchPatterns:ere,defaultMatchWidth:"wide",parsePatterns:tre,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ua({matchPatterns:nre,defaultMatchWidth:"wide",parsePatterns:sre,defaultParseWidth:"any"}),day:Ua({matchPatterns:rre,defaultMatchWidth:"wide",parsePatterns:ire,defaultParseWidth:"any"}),dayPeriod:Ua({matchPatterns:are,defaultMatchWidth:"any",parsePatterns:ore,defaultParseWidth:"any"})},cre={code:"pt-BR",formatDistance:Ose,formatLong:$se,formatRelative:zse,localize:Kse,match:lre,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Pe=function(){return Pe=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pe.apply(this,arguments)};function dre(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t}function G5(n,e,t){for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return n.concat(i||Array.prototype.slice.call(e))}function Jx(n){return n.mode==="multiple"}function ew(n){return n.mode==="range"}function IS(n){return n.mode==="single"}var ure={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function hre(n,e){return Td(n,"LLLL y",e)}function fre(n,e){return Td(n,"d",e)}function pre(n,e){return Td(n,"LLLL",e)}function mre(n){return"".concat(n)}function gre(n,e){return Td(n,"cccccc",e)}function vre(n,e){return Td(n,"yyyy",e)}var yre=Object.freeze({__proto__:null,formatCaption:hre,formatDay:fre,formatMonthCaption:pre,formatWeekNumber:mre,formatWeekdayName:gre,formatYearCaption:vre}),xre=function(n,e,t){return Td(n,"do MMMM (EEEE)",t)},wre=function(){return"Month: "},bre=function(){return"Go to next month"},_re=function(){return"Go to previous month"},Sre=function(n,e){return Td(n,"cccc",e)},Cre=function(n){return"Week n. ".concat(n)},kre=function(){return"Year: "},Ere=Object.freeze({__proto__:null,labelDay:xre,labelMonthDropdown:wre,labelNext:bre,labelPrevious:_re,labelWeekNumber:Cre,labelWeekday:Sre,labelYearDropdown:kre});function Are(){var n="buttons",e=ure,t=z5,s={},r={},i=1,a={},o=new Date;return{captionLayout:n,classNames:e,formatters:yre,labels:Ere,locale:t,modifiersClassNames:s,modifiers:r,numberOfMonths:i,styles:a,today:o,mode:"default"}}function jre(n){var e=n.fromYear,t=n.toYear,s=n.fromMonth,r=n.toMonth,i=n.fromDate,a=n.toDate;return s?i=ar(s):e&&(i=new Date(e,0,1)),r?a=VN(r):t&&(a=new Date(t,11,31)),{fromDate:i?Rm(i):void 0,toDate:a?Rm(a):void 0}}var Y5=v.createContext(void 0);function Nre(n){var e,t=n.initialProps,s=Are(),r=jre(t),i=r.fromDate,a=r.toDate,o=(e=t.captionLayout)!==null&&e!==void 0?e:s.captionLayout;o!=="buttons"&&(!i||!a)&&(o="buttons");var l;(IS(t)||Jx(t)||ew(t))&&(l=t.onSelect);var d=Pe(Pe(Pe({},s),t),{captionLayout:o,classNames:Pe(Pe({},s.classNames),t.classNames),components:Pe({},t.components),formatters:Pe(Pe({},s.formatters),t.formatters),fromDate:i,labels:Pe(Pe({},s.labels),t.labels),mode:t.mode||s.mode,modifiers:Pe(Pe({},s.modifiers),t.modifiers),modifiersClassNames:Pe(Pe({},s.modifiersClassNames),t.modifiersClassNames),onSelect:l,styles:Pe(Pe({},s.styles),t.styles),toDate:a});return c.jsx(Y5.Provider,{value:d,children:n.children})}function Rt(){var n=v.useContext(Y5);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}function K5(n){var e=Rt(),t=e.locale,s=e.classNames,r=e.styles,i=e.formatters.formatCaption;return c.jsx("div",{className:s.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:n.id,children:i(n.displayMonth,{locale:t})})}function Tre(n){return c.jsx("svg",Pe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},n,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function X5(n){var e,t,s=n.onChange,r=n.value,i=n.children,a=n.caption,o=n.className,l=n.style,d=Rt(),h=(t=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&t!==void 0?t:Tre;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:d.classNames.vhidden,children:n["aria-label"]}),c.jsx("select",{name:n.name,"aria-label":n["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:r,onChange:s,children:i}),c.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[a,c.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Pre(n){var e,t=Rt(),s=t.fromDate,r=t.toDate,i=t.styles,a=t.locale,o=t.formatters.formatMonthCaption,l=t.classNames,d=t.components,h=t.labels.labelMonthDropdown;if(!s)return c.jsx(c.Fragment,{});if(!r)return c.jsx(c.Fragment,{});var f=[];if(Dse(s,r))for(var p=ar(s),m=s.getMonth();m<=r.getMonth();m++)f.push(tC(p,m));else for(var p=ar(new Date),m=0;m<=11;m++)f.push(tC(p,m));var y=function(_){var w=Number(_.target.value),x=tC(ar(n.displayMonth),w);n.onChange(x)},g=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:X5;return c.jsx(g,{name:"months","aria-label":h(),className:l.dropdown_month,style:i.dropdown_month,onChange:y,value:n.displayMonth.getMonth(),caption:o(n.displayMonth,{locale:a}),children:f.map(function(_){return c.jsx("option",{value:_.getMonth(),children:o(_,{locale:a})},_.getMonth())})})}function Rre(n){var e,t=n.displayMonth,s=Rt(),r=s.fromDate,i=s.toDate,a=s.locale,o=s.styles,l=s.classNames,d=s.components,h=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,p=[];if(!r)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});for(var m=r.getFullYear(),y=i.getFullYear(),g=m;g<=y;g++)p.push(V2(F5(new Date),g));var _=function(x){var b=V2(ar(t),Number(x.target.value));n.onChange(b)},w=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:X5;return c.jsx(w,{name:"years","aria-label":f(),className:l.dropdown_year,style:o.dropdown_year,onChange:_,value:t.getFullYear(),caption:h(t,{locale:a}),children:p.map(function(x){return c.jsx("option",{value:x.getFullYear(),children:h(x,{locale:a})},x.getFullYear())})})}function Dre(n,e){var t=v.useState(n),s=t[0],r=t[1],i=e===void 0?s:e;return[i,r]}function Mre(n){var e=n.month,t=n.defaultMonth,s=n.today,r=e||t||s||new Date,i=n.toDate,a=n.fromDate,o=n.numberOfMonths,l=o===void 0?1:o;if(i&&Uv(i,r)<0){var d=-1*(l-1);r=ea(i,d)}return a&&Uv(r,a)<0&&(r=a),ar(r)}function Ore(){var n=Rt(),e=Mre(n),t=Dre(e,n.month),s=t[0],r=t[1],i=function(a){var o;if(!n.disableNavigation){var l=ar(a);r(l),(o=n.onMonthChange)===null||o===void 0||o.call(n,l)}};return[s,i]}function Ire(n,e){for(var t=e.reverseMonths,s=e.numberOfMonths,r=ar(n),i=ar(ea(r,s)),a=Uv(i,r),o=[],l=0;l<a;l++){var d=ea(r,l);o.push(d)}return t&&(o=o.reverse()),o}function Lre(n,e){if(!e.disableNavigation){var t=e.toDate,s=e.pagedNavigation,r=e.numberOfMonths,i=r===void 0?1:r,a=s?i:1,o=ar(n);if(!t)return ea(o,a);var l=Uv(t,n);if(!(l<i))return ea(o,a)}}function Fre(n,e){if(!e.disableNavigation){var t=e.fromDate,s=e.pagedNavigation,r=e.numberOfMonths,i=r===void 0?1:r,a=s?i:1,o=ar(n);if(!t)return ea(o,-a);var l=Uv(o,t);if(!(l<=0))return ea(o,-a)}}var Q5=v.createContext(void 0);function $re(n){var e=Rt(),t=Ore(),s=t[0],r=t[1],i=Ire(s,e),a=Lre(s,e),o=Fre(s,e),l=function(f){return i.some(function(p){return WN(f,p)})},d=function(f,p){l(f)||(p&&q5(f,p)?r(ea(f,1+e.numberOfMonths*-1)):r(f))},h={currentMonth:s,displayMonths:i,goToMonth:r,goToDate:d,previousMonth:o,nextMonth:a,isDateDisplayed:l};return c.jsx(Q5.Provider,{value:h,children:n.children})}function tw(){var n=v.useContext(Q5);if(!n)throw new Error("useNavigation must be used within a NavigationProvider");return n}function H2(n){var e,t=Rt(),s=t.classNames,r=t.styles,i=t.components,a=tw().goToMonth,o=function(h){a(ea(h,n.displayIndex?-n.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:K5,d=c.jsx(l,{id:n.id,displayMonth:n.displayMonth});return c.jsxs("div",{className:s.caption_dropdowns,style:r.caption_dropdowns,children:[c.jsx("div",{className:s.vhidden,children:d}),c.jsx(Pre,{onChange:o,displayMonth:n.displayMonth}),c.jsx(Rre,{onChange:o,displayMonth:n.displayMonth})]})}function Bre(n){return c.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zre(n){return c.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Y0=v.forwardRef(function(n,e){var t=Rt(),s=t.classNames,r=t.styles,i=[s.button_reset,s.button];n.className&&i.push(n.className);var a=i.join(" "),o=Pe(Pe({},r.button_reset),r.button);return n.style&&Object.assign(o,n.style),c.jsx("button",Pe({},n,{ref:e,type:"button",className:a,style:o}))});function Ure(n){var e,t,s=Rt(),r=s.dir,i=s.locale,a=s.classNames,o=s.styles,l=s.labels,d=l.labelPrevious,h=l.labelNext,f=s.components;if(!n.nextMonth&&!n.previousMonth)return c.jsx(c.Fragment,{});var p=d(n.previousMonth,{locale:i}),m=[a.nav_button,a.nav_button_previous].join(" "),y=h(n.nextMonth,{locale:i}),g=[a.nav_button,a.nav_button_next].join(" "),_=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:zre,w=(t=f==null?void 0:f.IconLeft)!==null&&t!==void 0?t:Bre;return c.jsxs("div",{className:a.nav,style:o.nav,children:[!n.hidePrevious&&c.jsx(Y0,{name:"previous-month","aria-label":p,className:m,style:o.nav_button_previous,disabled:!n.previousMonth,onClick:n.onPreviousClick,children:r==="rtl"?c.jsx(_,{className:a.nav_icon,style:o.nav_icon}):c.jsx(w,{className:a.nav_icon,style:o.nav_icon})}),!n.hideNext&&c.jsx(Y0,{name:"next-month","aria-label":y,className:g,style:o.nav_button_next,disabled:!n.nextMonth,onClick:n.onNextClick,children:r==="rtl"?c.jsx(w,{className:a.nav_icon,style:o.nav_icon}):c.jsx(_,{className:a.nav_icon,style:o.nav_icon})})]})}function W2(n){var e=Rt().numberOfMonths,t=tw(),s=t.previousMonth,r=t.nextMonth,i=t.goToMonth,a=t.displayMonths,o=a.findIndex(function(y){return WN(n.displayMonth,y)}),l=o===0,d=o===a.length-1,h=e>1&&(l||!d),f=e>1&&(d||!l),p=function(){s&&i(s)},m=function(){r&&i(r)};return c.jsx(Ure,{displayMonth:n.displayMonth,hideNext:h,hidePrevious:f,nextMonth:r,previousMonth:s,onPreviousClick:p,onNextClick:m})}function Vre(n){var e,t=Rt(),s=t.classNames,r=t.disableNavigation,i=t.styles,a=t.captionLayout,o=t.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:K5,d;return r?d=c.jsx(l,{id:n.id,displayMonth:n.displayMonth}):a==="dropdown"?d=c.jsx(H2,{displayMonth:n.displayMonth,id:n.id}):a==="dropdown-buttons"?d=c.jsxs(c.Fragment,{children:[c.jsx(H2,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id}),c.jsx(W2,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id})]}):d=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:n.id,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),c.jsx(W2,{displayMonth:n.displayMonth,id:n.id})]}),c.jsx("div",{className:s.caption,style:i.caption,children:d})}function Hre(n){var e=Rt(),t=e.footer,s=e.styles,r=e.classNames.tfoot;return t?c.jsx("tfoot",{className:r,style:s.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:t})})}):c.jsx(c.Fragment,{})}function Wre(n,e,t){for(var s=t?Th(new Date):eo(new Date,{locale:n,weekStartsOn:e}),r=[],i=0;i<7;i++){var a=Ds(s,i);r.push(a)}return r}function qre(){var n=Rt(),e=n.classNames,t=n.styles,s=n.showWeekNumber,r=n.locale,i=n.weekStartsOn,a=n.ISOWeek,o=n.formatters.formatWeekdayName,l=n.labels.labelWeekday,d=Wre(r,i,a);return c.jsxs("tr",{style:t.head_row,className:e.head_row,children:[s&&c.jsx("td",{style:t.head_cell,className:e.head_cell}),d.map(function(h,f){return c.jsx("th",{scope:"col",className:e.head_cell,style:t.head_cell,"aria-label":l(h,{locale:r}),children:o(h,{locale:r})},f)})]})}function Gre(){var n,e=Rt(),t=e.classNames,s=e.styles,r=e.components,i=(n=r==null?void 0:r.HeadRow)!==null&&n!==void 0?n:qre;return c.jsx("thead",{style:s.head,className:t.head,children:c.jsx(i,{})})}function Yre(n){var e=Rt(),t=e.locale,s=e.formatters.formatDay;return c.jsx(c.Fragment,{children:s(n.date,{locale:t})})}var qN=v.createContext(void 0);function Kre(n){if(!Jx(n.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(qN.Provider,{value:e,children:n.children})}return c.jsx(Xre,{initialProps:n.initialProps,children:n.children})}function Xre(n){var e=n.initialProps,t=n.children,s=e.selected,r=e.min,i=e.max,a=function(d,h,f){var p,m;(p=e.onDayClick)===null||p===void 0||p.call(e,d,h,f);var y=!!(h.selected&&r&&(s==null?void 0:s.length)===r);if(!y){var g=!!(!h.selected&&i&&(s==null?void 0:s.length)===i);if(!g){var _=s?G5([],s):[];if(h.selected){var w=_.findIndex(function(x){return tr(d,x)});_.splice(w,1)}else _.push(d);(m=e.onSelect)===null||m===void 0||m.call(e,_,d,h,f)}}},o={disabled:[]};s&&o.disabled.push(function(d){var h=i&&s.length>i-1,f=s.some(function(p){return tr(p,d)});return!!(h&&!f)});var l={selected:s,onDayClick:a,modifiers:o};return c.jsx(qN.Provider,{value:l,children:t})}function GN(){var n=v.useContext(qN);if(!n)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return n}function Qre(n,e){var t=e||{},s=t.from,r=t.to;return s&&r?tr(r,n)&&tr(s,n)?void 0:tr(r,n)?{from:r,to:void 0}:tr(s,n)?void 0:wA(s,n)?{from:n,to:r}:{from:s,to:n}:r?wA(n,r)?{from:r,to:n}:{from:n,to:r}:s?q5(n,s)?{from:n,to:s}:{from:s,to:n}:{from:n,to:void 0}}var YN=v.createContext(void 0);function Zre(n){if(!ew(n.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(YN.Provider,{value:e,children:n.children})}return c.jsx(Jre,{initialProps:n.initialProps,children:n.children})}function Jre(n){var e=n.initialProps,t=n.children,s=e.selected,r=s||{},i=r.from,a=r.to,o=e.min,l=e.max,d=function(m,y,g){var _,w;(_=e.onDayClick)===null||_===void 0||_.call(e,m,y,g);var x=Qre(m,s);(w=e.onSelect)===null||w===void 0||w.call(e,x,m,y,g)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],a?(h.range_end=[a],tr(i,a)||(h.range_middle=[{after:i,before:a}])):h.range_end=[i]):a&&(h.range_start=[a],h.range_end=[a]),o&&(i&&!a&&h.disabled.push({after:eC(i,o-1),before:Ds(i,o-1)}),i&&a&&h.disabled.push({after:i,before:Ds(i,o-1)}),!i&&a&&h.disabled.push({after:eC(a,o-1),before:Ds(a,o-1)})),l){if(i&&!a&&(h.disabled.push({before:Ds(i,-l+1)}),h.disabled.push({after:Ds(i,l-1)})),i&&a){var f=Wa(a,i)+1,p=l-f;h.disabled.push({before:eC(i,p)}),h.disabled.push({after:Ds(a,p)})}!i&&a&&(h.disabled.push({before:Ds(a,-l+1)}),h.disabled.push({after:Ds(a,l-1)}))}return c.jsx(YN.Provider,{value:{selected:s,onDayClick:d,modifiers:h},children:t})}function KN(){var n=v.useContext(YN);if(!n)throw new Error("useSelectRange must be used within a SelectRangeProvider");return n}function zb(n){return Array.isArray(n)?G5([],n):n!==void 0?[n]:[]}function eie(n){var e={};return Object.entries(n).forEach(function(t){var s=t[0],r=t[1];e[s]=zb(r)}),e}var ta;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(ta||(ta={}));var tie=ta.Selected,oo=ta.Disabled,nie=ta.Hidden,sie=ta.Today,nC=ta.RangeEnd,sC=ta.RangeMiddle,rC=ta.RangeStart,rie=ta.Outside;function iie(n,e,t){var s,r=(s={},s[tie]=zb(n.selected),s[oo]=zb(n.disabled),s[nie]=zb(n.hidden),s[sie]=[n.today],s[nC]=[],s[sC]=[],s[rC]=[],s[rie]=[],s);return n.fromDate&&r[oo].push({before:n.fromDate}),n.toDate&&r[oo].push({after:n.toDate}),Jx(n)?r[oo]=r[oo].concat(e.modifiers[oo]):ew(n)&&(r[oo]=r[oo].concat(t.modifiers[oo]),r[rC]=t.modifiers[rC],r[sC]=t.modifiers[sC],r[nC]=t.modifiers[nC]),r}var Z5=v.createContext(void 0);function aie(n){var e=Rt(),t=GN(),s=KN(),r=iie(e,t,s),i=eie(e.modifiers),a=Pe(Pe({},r),i);return c.jsx(Z5.Provider,{value:a,children:n.children})}function J5(){var n=v.useContext(Z5);if(!n)throw new Error("useModifiers must be used within a ModifiersProvider");return n}function oie(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function lie(n){return!!(n&&typeof n=="object"&&"from"in n)}function cie(n){return!!(n&&typeof n=="object"&&"after"in n)}function die(n){return!!(n&&typeof n=="object"&&"before"in n)}function uie(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function hie(n,e){var t,s=e.from,r=e.to;if(s&&r){var i=Wa(r,s)<0;i&&(t=[r,s],s=t[0],r=t[1]);var a=Wa(n,s)>=0&&Wa(r,n)>=0;return a}return r?tr(r,n):s?tr(s,n):!1}function fie(n){return UN(n)}function pie(n){return Array.isArray(n)&&n.every(UN)}function mie(n,e){return e.some(function(t){if(typeof t=="boolean")return t;if(fie(t))return tr(n,t);if(pie(t))return t.includes(n);if(lie(t))return hie(n,t);if(uie(t))return t.dayOfWeek.includes(n.getDay());if(oie(t)){var s=Wa(t.before,n),r=Wa(t.after,n),i=s>0,a=r<0,o=wA(t.before,t.after);return o?a&&i:i||a}return cie(t)?Wa(n,t.after)>0:die(t)?Wa(t.before,n)>0:typeof t=="function"?t(n):!1})}function XN(n,e,t){var s=Object.keys(e).reduce(function(i,a){var o=e[a];return mie(n,o)&&i.push(a),i},[]),r={};return s.forEach(function(i){return r[i]=!0}),t&&!WN(n,t)&&(r.outside=!0),r}function gie(n,e){for(var t=ar(n[0]),s=VN(n[n.length-1]),r,i,a=t;a<=s;){var o=XN(a,e),l=!o.disabled&&!o.hidden;if(!l){a=Ds(a,1);continue}if(o.selected)return a;o.today&&!i&&(i=a),r||(r=a),a=Ds(a,1)}return i||r}var vie=365;function ez(n,e){var t=e.moveBy,s=e.direction,r=e.context,i=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:n}:a,l=r.weekStartsOn,d=r.fromDate,h=r.toDate,f=r.locale,p={day:Ds,week:xA,month:ea,year:Tne,startOfWeek:function(_){return r.ISOWeek?Th(_):eo(_,{locale:f,weekStartsOn:l})},endOfWeek:function(_){return r.ISOWeek?$5(_):HN(_,{locale:f,weekStartsOn:l})}},m=p[t](n,s==="after"?1:-1);s==="before"&&d?m=Pne([d,m]):s==="after"&&h&&(m=Rne([h,m]));var y=!0;if(i){var g=XN(m,i);y=!g.disabled&&!g.hidden}return y?m:o.count>vie?o.lastFocused:ez(m,{moveBy:t,direction:s,context:r,modifiers:i,retry:Pe(Pe({},o),{count:o.count+1})})}var tz=v.createContext(void 0);function yie(n){var e=tw(),t=J5(),s=v.useState(),r=s[0],i=s[1],a=v.useState(),o=a[0],l=a[1],d=gie(e.displayMonths,t),h=r??(o&&e.isDateDisplayed(o))?o:d,f=function(){l(r),i(void 0)},p=function(_){i(_)},m=Rt(),y=function(_,w){if(r){var x=ez(r,{moveBy:_,direction:w,context:m,modifiers:t});tr(r,x)||(e.goToDate(x,r),p(x))}},g={focusedDay:r,focusTarget:h,blur:f,focus:p,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return c.jsx(tz.Provider,{value:g,children:n.children})}function QN(){var n=v.useContext(tz);if(!n)throw new Error("useFocusContext must be used within a FocusProvider");return n}function xie(n,e){var t=J5(),s=XN(n,t,e);return s}var ZN=v.createContext(void 0);function wie(n){if(!IS(n.initialProps)){var e={selected:void 0};return c.jsx(ZN.Provider,{value:e,children:n.children})}return c.jsx(bie,{initialProps:n.initialProps,children:n.children})}function bie(n){var e=n.initialProps,t=n.children,s=function(i,a,o){var l,d,h;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,a,o),a.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,i,a,o);return}(h=e.onSelect)===null||h===void 0||h.call(e,i,i,a,o)},r={selected:e.selected,onDayClick:s};return c.jsx(ZN.Provider,{value:r,children:t})}function nz(){var n=v.useContext(ZN);if(!n)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return n}function _ie(n,e){var t=Rt(),s=nz(),r=GN(),i=KN(),a=QN(),o=a.focusDayAfter,l=a.focusDayBefore,d=a.focusWeekAfter,h=a.focusWeekBefore,f=a.blur,p=a.focus,m=a.focusMonthBefore,y=a.focusMonthAfter,g=a.focusYearBefore,_=a.focusYearAfter,w=a.focusStartOfWeek,x=a.focusEndOfWeek,b=function($){var I,L,K,ie;IS(t)?(I=s.onDayClick)===null||I===void 0||I.call(s,n,e,$):Jx(t)?(L=r.onDayClick)===null||L===void 0||L.call(r,n,e,$):ew(t)?(K=i.onDayClick)===null||K===void 0||K.call(i,n,e,$):(ie=t.onDayClick)===null||ie===void 0||ie.call(t,n,e,$)},S=function($){var I;p(n),(I=t.onDayFocus)===null||I===void 0||I.call(t,n,e,$)},k=function($){var I;f(),(I=t.onDayBlur)===null||I===void 0||I.call(t,n,e,$)},j=function($){var I;(I=t.onDayMouseEnter)===null||I===void 0||I.call(t,n,e,$)},N=function($){var I;(I=t.onDayMouseLeave)===null||I===void 0||I.call(t,n,e,$)},P=function($){var I;(I=t.onDayPointerEnter)===null||I===void 0||I.call(t,n,e,$)},D=function($){var I;(I=t.onDayPointerLeave)===null||I===void 0||I.call(t,n,e,$)},T=function($){var I;(I=t.onDayTouchCancel)===null||I===void 0||I.call(t,n,e,$)},F=function($){var I;(I=t.onDayTouchEnd)===null||I===void 0||I.call(t,n,e,$)},M=function($){var I;(I=t.onDayTouchMove)===null||I===void 0||I.call(t,n,e,$)},U=function($){var I;(I=t.onDayTouchStart)===null||I===void 0||I.call(t,n,e,$)},R=function($){var I;(I=t.onDayKeyUp)===null||I===void 0||I.call(t,n,e,$)},V=function($){var I;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),t.dir==="rtl"?o():l();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),t.dir==="rtl"?l():o();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),d();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),h();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?g():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?_():y();break;case"Home":$.preventDefault(),$.stopPropagation(),w();break;case"End":$.preventDefault(),$.stopPropagation(),x();break}(I=t.onDayKeyDown)===null||I===void 0||I.call(t,n,e,$)},z={onClick:b,onFocus:S,onBlur:k,onKeyDown:V,onKeyUp:R,onMouseEnter:j,onMouseLeave:N,onPointerEnter:P,onPointerLeave:D,onTouchCancel:T,onTouchEnd:F,onTouchMove:M,onTouchStart:U};return z}function Sie(){var n=Rt(),e=nz(),t=GN(),s=KN(),r=IS(n)?e.selected:Jx(n)?t.selected:ew(n)?s.selected:void 0;return r}function Cie(n){return Object.values(ta).includes(n)}function kie(n,e){var t=[n.classNames.day];return Object.keys(e).forEach(function(s){var r=n.modifiersClassNames[s];if(r)t.push(r);else if(Cie(s)){var i=n.classNames["day_".concat(s)];i&&t.push(i)}}),t}function Eie(n,e){var t=Pe({},n.styles.day);return Object.keys(e).forEach(function(s){var r;t=Pe(Pe({},t),(r=n.modifiersStyles)===null||r===void 0?void 0:r[s])}),t}function Aie(n,e,t){var s,r,i,a=Rt(),o=QN(),l=xie(n,e),d=_ie(n,l),h=Sie(),f=!!(a.onDayClick||a.mode!=="default");v.useEffect(function(){var j;l.outside||o.focusedDay&&f&&tr(o.focusedDay,n)&&((j=t.current)===null||j===void 0||j.focus())},[o.focusedDay,n,t,f,l.outside]);var p=kie(a,l).join(" "),m=Eie(a,l),y=!!(l.outside&&!a.showOutsideDays||l.hidden),g=(i=(r=a.components)===null||r===void 0?void 0:r.DayContent)!==null&&i!==void 0?i:Yre,_=c.jsx(g,{date:n,displayMonth:e,activeModifiers:l}),w={style:m,className:p,children:_,role:"gridcell"},x=o.focusTarget&&tr(o.focusTarget,n)&&!l.outside,b=o.focusedDay&&tr(o.focusedDay,n),S=Pe(Pe(Pe({},w),(s={disabled:l.disabled,role:"gridcell"},s["aria-selected"]=l.selected,s.tabIndex=b||x?0:-1,s)),d),k={isButton:f,isHidden:y,activeModifiers:l,selectedDays:h,buttonProps:S,divProps:w};return k}function jie(n){var e=v.useRef(null),t=Aie(n.date,n.displayMonth,e);return t.isHidden?c.jsx("div",{role:"gridcell"}):t.isButton?c.jsx(Y0,Pe({name:"day",ref:e},t.buttonProps)):c.jsx("div",Pe({},t.divProps))}function Nie(n){var e=n.number,t=n.dates,s=Rt(),r=s.onWeekNumberClick,i=s.styles,a=s.classNames,o=s.locale,l=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,h=d(Number(e),{locale:o});if(!r)return c.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:h});var f=l(Number(e),{locale:o}),p=function(m){r(e,t,m)};return c.jsx(Y0,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:p,children:h})}function Tie(n){var e,t,s=Rt(),r=s.styles,i=s.classNames,a=s.showWeekNumber,o=s.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:jie,d=(t=o==null?void 0:o.WeekNumber)!==null&&t!==void 0?t:Nie,h;return a&&(h=c.jsx("td",{className:i.cell,style:r.cell,children:c.jsx(d,{number:n.weekNumber,dates:n.dates})})),c.jsxs("tr",{className:i.row,style:r.row,children:[h,n.dates.map(function(f){return c.jsx("td",{className:i.cell,style:r.cell,role:"presentation",children:c.jsx(l,{displayMonth:n.displayMonth,date:f})},Tse(f))})]})}function q2(n,e,t){for(var s=t!=null&&t.ISOWeek?$5(e):HN(e,t),r=t!=null&&t.ISOWeek?Th(n):eo(n,t),i=Wa(s,r),a=[],o=0;o<=i;o++)a.push(Ds(r,o));var l=a.reduce(function(d,h){var f=t!=null&&t.ISOWeek?U5(h):H5(h,t),p=d.find(function(m){return m.weekNumber===f});return p?(p.dates.push(h),d):(d.push({weekNumber:f,dates:[h]}),d)},[]);return l}function Pie(n,e){var t=q2(ar(n),VN(n),e);if(e!=null&&e.useFixedWeeks){var s=Rse(n,e);if(s<6){var r=t[t.length-1],i=r.dates[r.dates.length-1],a=xA(i,6-s),o=q2(xA(i,1),a,e);t.push.apply(t,o)}}return t}function Rie(n){var e,t,s,r=Rt(),i=r.locale,a=r.classNames,o=r.styles,l=r.hideHead,d=r.fixedWeeks,h=r.components,f=r.weekStartsOn,p=r.firstWeekContainsDate,m=r.ISOWeek,y=Pie(n.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),g=(e=h==null?void 0:h.Head)!==null&&e!==void 0?e:Gre,_=(t=h==null?void 0:h.Row)!==null&&t!==void 0?t:Tie,w=(s=h==null?void 0:h.Footer)!==null&&s!==void 0?s:Hre;return c.jsxs("table",{id:n.id,className:a.table,style:o.table,role:"grid","aria-labelledby":n["aria-labelledby"],children:[!l&&c.jsx(g,{}),c.jsx("tbody",{className:a.tbody,style:o.tbody,children:y.map(function(x){return c.jsx(_,{displayMonth:n.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),c.jsx(w,{displayMonth:n.displayMonth})]})}function Die(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Mie=Die()?v.useLayoutEffect:v.useEffect,iC=!1,Oie=0;function G2(){return"react-day-picker-".concat(++Oie)}function Iie(n){var e,t=n??(iC?G2():null),s=v.useState(t),r=s[0],i=s[1];return Mie(function(){r===null&&i(G2())},[]),v.useEffect(function(){iC===!1&&(iC=!0)},[]),(e=n??r)!==null&&e!==void 0?e:void 0}function Lie(n){var e,t,s=Rt(),r=s.dir,i=s.classNames,a=s.styles,o=s.components,l=tw().displayMonths,d=Iie(s.id?"".concat(s.id,"-").concat(n.displayIndex):void 0),h=s.id?"".concat(s.id,"-grid-").concat(n.displayIndex):void 0,f=[i.month],p=a.month,m=n.displayIndex===0,y=n.displayIndex===l.length-1,g=!m&&!y;r==="rtl"&&(e=[m,y],y=e[0],m=e[1]),m&&(f.push(i.caption_start),p=Pe(Pe({},p),a.caption_start)),y&&(f.push(i.caption_end),p=Pe(Pe({},p),a.caption_end)),g&&(f.push(i.caption_between),p=Pe(Pe({},p),a.caption_between));var _=(t=o==null?void 0:o.Caption)!==null&&t!==void 0?t:Vre;return c.jsxs("div",{className:f.join(" "),style:p,children:[c.jsx(_,{id:d,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),c.jsx(Rie,{id:h,"aria-labelledby":d,displayMonth:n.displayMonth})]},n.displayIndex)}function Fie(n){var e=Rt(),t=e.classNames,s=e.styles;return c.jsx("div",{className:t.months,style:s.months,children:n.children})}function $ie(n){var e,t,s=n.initialProps,r=Rt(),i=QN(),a=tw(),o=v.useState(!1),l=o[0],d=o[1];v.useEffect(function(){r.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),d(!0)))},[r.initialFocus,l,i.focus,i.focusTarget,i]);var h=[r.classNames.root,r.className];r.numberOfMonths>1&&h.push(r.classNames.multiple_months),r.showWeekNumber&&h.push(r.classNames.with_weeknumber);var f=Pe(Pe({},r.styles.root),r.style),p=Object.keys(s).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var _;return Pe(Pe({},y),(_={},_[g]=s[g],_))},{}),m=(t=(e=s.components)===null||e===void 0?void 0:e.Months)!==null&&t!==void 0?t:Fie;return c.jsx("div",Pe({className:h.join(" "),style:f,dir:r.dir,id:r.id,nonce:s.nonce,title:s.title,lang:s.lang},p,{children:c.jsx(m,{children:a.displayMonths.map(function(y,g){return c.jsx(Lie,{displayIndex:g,displayMonth:y},g)})})}))}function Bie(n){var e=n.children,t=dre(n,["children"]);return c.jsx(Nre,{initialProps:t,children:c.jsx($re,{children:c.jsx(wie,{initialProps:t,children:c.jsx(Kre,{initialProps:t,children:c.jsx(Zre,{initialProps:t,children:c.jsx(aie,{children:c.jsx(yie,{children:e})})})})})})})}function zie(n){return c.jsx(Bie,Pe({},n,{children:c.jsx($ie,{initialProps:n})}))}function sz({className:n,classNames:e,showOutsideDays:t=!0,...s}){return c.jsx(zie,{showOutsideDays:t,className:Q("p-3",n),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Q(Rv({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Q(Rv({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...r})=>c.jsx(eH,{className:"h-4 w-4"}),IconRight:({...r})=>c.jsx(Nj,{className:"h-4 w-4"})},...s})}sz.displayName="Calendar";var LS="Popover",[rz,_le]=cs(LS,[kd]),nw=kd(),[Uie,Pd]=rz(LS),iz=n=>{const{__scopePopover:e,children:t,open:s,defaultOpen:r,onOpenChange:i,modal:a=!1}=n,o=nw(e),l=v.useRef(null),[d,h]=v.useState(!1),[f,p]=Qi({prop:s,defaultProp:r??!1,onChange:i,caller:LS});return c.jsx(W_,{...o,children:c.jsx(Uie,{scope:e,contentId:di(),triggerRef:l,open:f,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(m=>!m),[p]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>h(!0),[]),onCustomAnchorRemove:v.useCallback(()=>h(!1),[]),modal:a,children:t})})};iz.displayName=LS;var az="PopoverAnchor",Vie=v.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=Pd(az,t),i=nw(t),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=r;return v.useEffect(()=>(a(),()=>o()),[a,o]),c.jsx(Tx,{...i,...s,ref:e})});Vie.displayName=az;var oz="PopoverTrigger",lz=v.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=Pd(oz,t),i=nw(t),a=Ie(e,r.triggerRef),o=c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":fz(r.open),...s,ref:a,onClick:te(n.onClick,r.onOpenToggle)});return r.hasCustomAnchor?o:c.jsx(Tx,{asChild:!0,...i,children:o})});lz.displayName=oz;var JN="PopoverPortal",[Hie,Wie]=rz(JN,{forceMount:void 0}),cz=n=>{const{__scopePopover:e,forceMount:t,children:s,container:r}=n,i=Pd(JN,e);return c.jsx(Hie,{scope:e,forceMount:t,children:c.jsx(Gn,{present:t||i.open,children:c.jsx($m,{asChild:!0,container:r,children:s})})})};cz.displayName=JN;var Dm="PopoverContent",dz=v.forwardRef((n,e)=>{const t=Wie(Dm,n.__scopePopover),{forceMount:s=t.forceMount,...r}=n,i=Pd(Dm,n.__scopePopover);return c.jsx(Gn,{present:s||i.open,children:i.modal?c.jsx(Gie,{...r,ref:e}):c.jsx(Yie,{...r,ref:e})})});dz.displayName=Dm;var qie=ld("PopoverContent.RemoveScroll"),Gie=v.forwardRef((n,e)=>{const t=Pd(Dm,n.__scopePopover),s=v.useRef(null),r=Ie(e,s),i=v.useRef(!1);return v.useEffect(()=>{const a=s.current;if(a)return oS(a)},[]),c.jsx(Ix,{as:qie,allowPinchZoom:!0,children:c.jsx(uz,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(n.onCloseAutoFocus,a=>{var o;a.preventDefault(),i.current||(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:te(n.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,d=o.button===2||l;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:te(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Yie=v.forwardRef((n,e)=>{const t=Pd(Dm,n.__scopePopover),s=v.useRef(!1),r=v.useRef(!1);return c.jsx(uz,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,i),i.defaultPrevented||(s.current||(o=t.triggerRef.current)==null||o.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var l,d;(l=n.onInteractOutside)==null||l.call(n,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((d=t.triggerRef.current)==null?void 0:d.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),uz=v.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:h,...f}=n,p=Pd(Dm,t),m=nw(t);return iS(),c.jsx(Ox,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:c.jsx(Oh,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:c.jsx(q_,{"data-state":fz(p.open),role:"dialog",id:p.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hz="PopoverClose",Kie=v.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=Pd(hz,t);return c.jsx(ve.button,{type:"button",...s,ref:e,onClick:te(n.onClick,()=>r.onOpenChange(!1))})});Kie.displayName=hz;var Xie="PopoverArrow",Qie=v.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=nw(t);return c.jsx(G_,{...r,...s,ref:e})});Qie.displayName=Xie;function fz(n){return n?"open":"closed"}var Zie=iz,Jie=lz,eae=cz,pz=dz;const tae=Zie,nae=Jie,mz=v.forwardRef(({className:n,align:e="center",sideOffset:t=4,...s},r)=>c.jsx(eae,{children:c.jsx(pz,{ref:r,align:e,sideOffset:t,className:Q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})}));mz.displayName=pz.displayName;const sae=IN({title:On().min(2,"Título deve ter pelo menos 2 caracteres"),case_number:On().min(1,"Número do caso é obrigatório"),case_type:On().min(1,"Tipo do caso é obrigatório"),description:On().optional(),client_id:On().min(1,"Selecione um cliente"),status:zv(["open","in_progress","closed","archived"]),priority:zv(["low","medium","high","urgent"]),value:Tte.number().optional().nullable(),start_date:J1().optional().nullable(),expected_end_date:J1().optional().nullable(),actual_end_date:J1().optional().nullable(),court:On().optional(),judge:On().optional(),opposing_party:On().optional()}),rae=[{value:"civil",label:"Civil"},{value:"criminal",label:"Criminal"},{value:"family",label:"Família"},{value:"commercial",label:"Comercial"},{value:"labor",label:"Trabalhista"},{value:"tax",label:"Tributário"},{value:"administrative",label:"Administrativo"},{value:"constitutional",label:"Constitucional"},{value:"environmental",label:"Ambiental"},{value:"consumer",label:"Consumidor"},{value:"real_estate",label:"Imobiliário"},{value:"intellectual_property",label:"Propriedade Intelectual"},{value:"bankruptcy",label:"Falência e Recuperação"},{value:"immigration",label:"Imigração"},{value:"other",label:"Outros"}];function gz({onSuccess:n,onCancel:e,case:t}){const[s,r]=v.useState([]),[i,a]=v.useState(!1),{toast:o}=or();v.useEffect(()=>{(async()=>{try{const f=await Ve.getClients();r(f)}catch{o({title:"Erro ao carregar clientes",description:"Não foi possível carregar a lista de clientes.",variant:"destructive"})}})()},[]);const l=DN({resolver:MN(sae),defaultValues:{title:(t==null?void 0:t.title)||"",case_number:(t==null?void 0:t.case_number)||"",case_type:(t==null?void 0:t.case_type)||"",description:(t==null?void 0:t.description)||"",client_id:(t==null?void 0:t.client_id)||"",status:(t==null?void 0:t.status)||"open",priority:(t==null?void 0:t.priority)||"medium",value:(t==null?void 0:t.value)||void 0,start_date:t!=null&&t.start_date?new Date(t.start_date):void 0,expected_end_date:t!=null&&t.expected_end_date?new Date(t.expected_end_date):void 0,actual_end_date:t!=null&&t.actual_end_date?new Date(t.actual_end_date):void 0,court:(t==null?void 0:t.court)||"",judge:(t==null?void 0:t.judge)||"",opposing_party:(t==null?void 0:t.opposing_party)||""}});v.useEffect(()=>{t&&l.reset({title:t.title||"",case_number:t.case_number||"",case_type:t.case_type||"",description:t.description||"",client_id:t.client_id||"",status:t.status||"open",priority:t.priority||"medium",value:t.value||void 0,start_date:t.start_date?new Date(t.start_date):void 0,expected_end_date:t.expected_end_date?new Date(t.expected_end_date):void 0,actual_end_date:t.actual_end_date?new Date(t.actual_end_date):void 0,court:t.court||"",judge:t.judge||"",opposing_party:t.opposing_party||""})},[t,l]);const d=async h=>{a(!0);try{const f={...h,value:h.value===void 0?null:h.value,start_date:h.start_date?h.start_date.toISOString().split("T")[0]:null,expected_end_date:h.expected_end_date?h.expected_end_date.toISOString().split("T")[0]:null,actual_end_date:h.actual_end_date?h.actual_end_date.toISOString().split("T")[0]:null},p=t?await Ve.updateCase(t.id,f):await Ve.createCase(f);n(p)}catch(f){console.error("Failed to save case:",f),o({title:"Erro ao salvar o caso",description:"Não foi possível salvar as informações. Verifique se todos os campos estão preenchidos corretamente.",variant:"destructive"})}finally{a(!1)}};return c.jsx(LN,{...l,children:c.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[c.jsx(qt,{control:l.control,name:"client_id",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Cliente"}),c.jsxs(xt,{onValueChange:h.onChange,value:h.value,children:[c.jsx(Ft,{children:c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione um cliente"})})}),c.jsx(ft,{children:s.map(f=>c.jsx(Y,{value:f.id,children:f.name},f.id))})]}),c.jsx($t,{})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(qt,{control:l.control,name:"title",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Título"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"Título do caso",...h})}),c.jsx($t,{})]})}),c.jsx(qt,{control:l.control,name:"case_number",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Número do Caso"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"Ex: 12345/2025",...h})}),c.jsx($t,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(qt,{control:l.control,name:"case_type",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Tipo de Caso"}),c.jsxs(xt,{onValueChange:h.onChange,value:h.value,children:[c.jsx(Ft,{children:c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o tipo de caso"})})}),c.jsx(ft,{children:rae.map(f=>c.jsx(Y,{value:f.value,children:f.label},f.value))})]}),c.jsx($t,{})]})}),c.jsx(qt,{control:l.control,name:"value",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Valor da Causa (R$)"}),c.jsx(Ft,{children:c.jsx(Ue,{type:"number",step:"0.01",placeholder:"Ex: 15000.50",...h})}),c.jsx($t,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(qt,{control:l.control,name:"status",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Status"}),c.jsxs(xt,{onValueChange:h.onChange,value:h.value,children:[c.jsx(Ft,{children:c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o status"})})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"open",children:"Aberto"}),c.jsx(Y,{value:"in_progress",children:"Em Progresso"}),c.jsx(Y,{value:"closed",children:"Fechado"}),c.jsx(Y,{value:"archived",children:"Arquivado"})]})]}),c.jsx($t,{})]})}),c.jsx(qt,{control:l.control,name:"priority",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Prioridade"}),c.jsxs(xt,{onValueChange:h.onChange,value:h.value,children:[c.jsx(Ft,{children:c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione a prioridade"})})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"low",children:"Baixa"}),c.jsx(Y,{value:"medium",children:"Média"}),c.jsx(Y,{value:"high",children:"Alta"}),c.jsx(Y,{value:"urgent",children:"Urgente"})]})]}),c.jsx($t,{})]})}),c.jsx(qt,{control:l.control,name:"start_date",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Data de Início"}),c.jsxs(tae,{children:[c.jsx(nae,{asChild:!0,children:c.jsx(Ft,{children:c.jsxs(be,{variant:"outline",className:Q("w-full pl-3 text-left font-normal",!h.value&&"text-muted-foreground"),children:[h.value?Td(h.value,"PPP",{locale:cre}):c.jsx("span",{children:"Selecione uma data"}),c.jsx(Ki,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),c.jsx(mz,{className:"w-auto p-0",align:"start",children:c.jsx(sz,{mode:"single",selected:h.value||void 0,onSelect:h.onChange,disabled:f=>f>new Date||f<new Date("1900-01-01"),initialFocus:!0})})]}),c.jsx($t,{})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(qt,{control:l.control,name:"court",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Tribunal"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"Nome do tribunal",...h})}),c.jsx($t,{})]})}),c.jsx(qt,{control:l.control,name:"judge",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Juiz"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"Nome do juiz",...h})}),c.jsx($t,{})]})})]}),c.jsx(qt,{control:l.control,name:"opposing_party",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Parte Contrária"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"Nome da parte contrária",...h})}),c.jsx($t,{})]})}),c.jsx(qt,{control:l.control,name:"description",render:({field:h})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Descrição"}),c.jsx(Ft,{children:c.jsx(Ja,{placeholder:"Descrição detalhada do caso",...h})}),c.jsx($t,{})]})}),c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx(be,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),c.jsx(be,{type:"submit",disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx(jx,{className:"mr-2 h-4 w-4 animate-spin"}),"Aguarde"]}):t?"Atualizar":"Criar"})]})]})})}function iae(){const[n,e]=v.useState([]),[t,s]=v.useState(!0),[r,i]=v.useState(!1),{toast:a}=or(),o=async()=>{try{s(!0);const y=await Ve.getCases();e(y)}catch{a({title:"Erro ao carregar os casos",description:"Não foi possível carregar a lista de casos. Tente novamente mais tarde.",variant:"destructive"})}finally{s(!1)}};v.useEffect(()=>{o()},[]);const l=()=>{i(!1),o()},d=y=>{switch(y){case"open":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"in_progress":return"bg-blue-100 text-blue-700 border-blue-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";case"archived":return"bg-slate-100 text-slate-700 border-slate-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},h=y=>{switch(y){case"open":return"Aberto";case"in_progress":return"Em Progresso";case"closed":return"Fechado";case"archived":return"Arquivado";default:return y}},f=y=>{switch(y){case"urgent":return"bg-red-100 text-red-700 border-red-200";case"high":return"bg-orange-100 text-orange-700 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},p=y=>{switch(y){case"urgent":return"Urgente";case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return y}},m=y=>{switch(y){case"civil":return"Civil";case"criminal":return"Criminal";case"family":return"Família";case"commercial":return"Comercial";case"labor":return"Trabalhista";case"tax":return"Tributário";case"administrative":return"Administrativo";case"constitutional":return"Constitucional";case"environmental":return"Ambiental";case"consumer":return"Consumidor";case"real_estate":return"Imobiliário";case"intellectual_property":return"Propriedade Intelectual";case"bankruptcy":return"Falência e Recuperação";case"immigration":return"Imigração";case"other":return"Outros";default:return y}};return t?c.jsx(ir,{title:"Casos",breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Casos"}],children:c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(jx,{className:"h-8 w-8 animate-spin"})})}):c.jsxs(ir,{title:"Casos",breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Casos"}],children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Gestão de Casos"}),c.jsxs(be,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[c.jsx(bv,{className:"mr-2 h-4 w-4"})," Novo Caso"]})]}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Visualize, crie e gerencie todos os casos do escritório."}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length===0?c.jsxs("div",{className:"col-span-full text-center py-12",children:[c.jsx(cd,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),c.jsx("p",{className:"text-muted-foreground text-lg",children:"Nenhum caso encontrado."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'Clique em "Novo Caso" para começar.'})]}):n.map(y=>c.jsx(Zg,{to:`/cases/${y.id}`,className:"group",children:c.jsxs(Ce,{className:"h-full transition-all duration-300 ease-in-out hover:shadow-lg hover:shadow-blue-100 hover:border-blue-200 hover:-translate-y-1 cursor-pointer border border-gray-200",children:[c.jsxs(Oe,{className:"pb-3",children:[c.jsx("div",{className:"flex items-start justify-between mb-2",children:c.jsx(Ke,{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-700 transition-colors line-clamp-2",children:y.title})}),c.jsxs(uB,{className:"text-sm text-gray-600 font-medium",children:["Nº ",y.case_number]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[c.jsx(jt,{className:`text-xs font-medium ${d(y.status)}`,children:h(y.status)}),c.jsx(jt,{className:`text-xs font-medium ${f(y.priority)}`,children:p(y.priority)})]})]}),c.jsxs(Ee,{className:"pt-0",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(cd,{className:"h-4 w-4 mr-2 text-gray-400"}),c.jsx("span",{className:"font-medium",children:m(y.case_type)})]}),y.client&&c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(Xa,{className:"h-4 w-4 mr-2 text-gray-400"}),c.jsx("span",{children:y.client.name})]}),y.value&&c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(Tj,{className:"h-4 w-4 mr-2 text-gray-400"}),c.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(y.value))})]}),y.start_date&&c.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[c.jsx(Ki,{className:"h-4 w-4 mr-2 text-gray-400"}),c.jsx("span",{children:new Date(y.start_date).toLocaleDateString("pt-BR")})]})]}),y.description&&c.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:y.description})})]})]})},y.id))}),c.jsx(Ch,{open:r,onOpenChange:i,children:c.jsxs(pd,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsx(md,{children:c.jsx(gd,{children:"Criar Novo Caso"})}),c.jsx(gz,{onSuccess:l,onCancel:()=>i(!1)})]})})]})}function aae({case:n,onEdit:e,onDelete:t}){const s=l=>{switch(l){case"open":return"bg-success/10 text-success";case"closed":return"bg-muted text-muted-foreground";case"pending":return"bg-warning/10 text-warning";case"appeal":return"bg-blue-100 text-blue-700";default:return"bg-muted text-muted-foreground"}},r=l=>{switch(l){case"open":return"Aberto";case"closed":return"Fechado";case"pending":return"Pendente";case"appeal":return"Em Recurso";default:return l}},i=l=>{switch(l){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-muted text-muted-foreground"}},a=l=>{switch(l){case"urgent":return"Urgente";case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return l}},o=l=>{switch(l){case"civil":return"Civil";case"criminal":return"Criminal";case"family":return"Família";case"commercial":return"Comercial";case"labor":return"Trabalhista";case"tax":return"Tributário";default:return l}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Ce,{children:c.jsx(Oe,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(Ke,{className:"text-2xl",children:n.title}),c.jsxs("p",{className:"text-muted-foreground mt-1",children:["Processo: ",n.case_number]}),c.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[c.jsx(jt,{className:s(n.status),children:r(n.status)}),c.jsx(jt,{className:i(n.priority),children:a(n.priority)}),c.jsx(jt,{variant:"outline",children:o(n.case_type)})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(be,{variant:"outline",onClick:e,children:[c.jsx(B_,{className:"h-4 w-4 mr-2"}),"Editar"]}),c.jsxs(be,{variant:"destructive",onClick:t,children:[c.jsx(Rj,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{children:"Informações do Caso"})}),c.jsxs(Ee,{className:"space-y-4",children:[n.value&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Tj,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Valor da Causa:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(n.value))})]})]}),n.start_date&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ki,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Data de Início:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(n.start_date).toLocaleDateString("pt-BR")})]})]}),n.expected_end_date&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ki,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Previsão de Conclusão:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(n.expected_end_date).toLocaleDateString("pt-BR")})]})]}),n.actual_end_date&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ki,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Data de Conclusão:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(n.actual_end_date).toLocaleDateString("pt-BR")})]})]})]})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{children:"Informações Judiciais"})}),c.jsxs(Ee,{className:"space-y-4",children:[n.court&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(fI,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Tribunal:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:n.court})]})]}),n.judge&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(cd,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Juiz:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:n.judge})]})]}),n.opposing_party&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Xa,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Parte Contrária:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:n.opposing_party})]})]})]})]})]}),n.description&&c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{children:"Descrição"})}),c.jsx(Ee,{children:c.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:n.description})})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{children:"Informações do Sistema"})}),c.jsxs(Ee,{className:"space-y-2",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Criado em:"})," ",new Date(n.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"Última atualização:"})," ",new Date(n.updated_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]})}function oae(){const{id:n}=bG(),e=Px(),{toast:t}=or(),[s,r]=v.useState(null),[i,a]=v.useState(!0),[o,l]=v.useState(!1),[d,h]=v.useState(!1);v.useEffect(()=>{n&&f()},[n]);const f=async()=>{if(n)try{const w=(await Ve.getCases()).find(x=>x.id===n);w?r(w):(t({title:"Erro",description:"Caso não encontrado",variant:"destructive"}),e("/cases"))}catch{t({title:"Erro",description:"Não foi possível carregar o caso",variant:"destructive"}),e("/cases")}finally{a(!1)}},p=()=>{l(!0)},m=()=>{l(!1),f()},y=()=>{h(!0)},g=async()=>{if(s){try{await Ve.deleteCase(s.id),t({title:"Sucesso",description:"Caso excluído com sucesso"}),e("/cases")}catch{t({title:"Erro",description:"Não foi possível excluir o caso",variant:"destructive"})}h(!1)}};return i?c.jsx(ir,{breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Casos",href:"/cases"},{label:"Carregando..."}],children:c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(jx,{className:"h-8 w-8 animate-spin"})})}):s?c.jsxs(ir,{breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Casos",href:"/cases"},{label:s.title}],children:[c.jsx(aae,{case:s,onEdit:p,onDelete:y}),c.jsx(Ch,{open:o,onOpenChange:l,children:c.jsxs(pd,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsx(md,{children:c.jsx(gd,{children:"Editar Caso"})}),c.jsx(gz,{case:s,onSuccess:m,onCancel:()=>l(!1)})]})}),c.jsx(BN,{open:d,onOpenChange:h,children:c.jsxs(NS,{children:[c.jsxs(TS,{children:[c.jsx(RS,{children:"Confirmar Exclusão"}),c.jsxs(DS,{children:['Tem certeza que deseja excluir o caso "',s.title,'"? Esta ação não pode ser desfeita.']})]}),c.jsxs(PS,{children:[c.jsx(OS,{children:"Cancelar"}),c.jsx(MS,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:g,children:"Excluir"})]})]})})]}):c.jsx(ir,{breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Casos",href:"/cases"},{label:"Caso não encontrado"}],children:c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Caso não encontrado."})})})}var vz={exports:{}},lae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cae=lae,dae=cae;function yz(){}function xz(){}xz.resetWarningCache=yz;var uae=function(){function n(s,r,i,a,o,l){if(l!==dae){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xz,resetWarningCache:yz};return t.PropTypes=t,t};vz.exports=uae();var hae=vz.exports;const At=jA(hae),fae=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Mm(n,e,t){const s=pae(n),{webkitRelativePath:r}=n,i=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${n.name}`;return typeof s.path!="string"&&Y2(s,"path",i),Y2(s,"relativePath",i),s}function pae(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const s=e.split(".").pop().toLowerCase(),r=fae.get(s);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}function Y2(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const mae=[".DS_Store","Thumbs.db"];function gae(n){return Fh(this,void 0,void 0,function*(){return K0(n)&&vae(n.dataTransfer)?bae(n.dataTransfer,n.type):yae(n)?xae(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?wae(n):[]})}function vae(n){return K0(n)}function yae(n){return K0(n)&&K0(n.target)}function K0(n){return typeof n=="object"&&n!==null}function xae(n){return bA(n.target.files).map(e=>Mm(e))}function wae(n){return Fh(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>Mm(t))})}function bae(n,e){return Fh(this,void 0,void 0,function*(){if(n.items){const t=bA(n.items).filter(r=>r.kind==="file");if(e!=="drop")return t;const s=yield Promise.all(t.map(_ae));return K2(wz(s))}return K2(bA(n.files).map(t=>Mm(t)))})}function K2(n){return n.filter(e=>mae.indexOf(e.name)===-1)}function bA(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const s=n[t];e.push(s)}return e}function _ae(n){if(typeof n.webkitGetAsEntry!="function")return X2(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?bz(e):X2(n,e)}function wz(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?wz(t):[t]],[])}function X2(n,e){return Fh(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const i=yield n.getAsFileSystemHandle();if(i===null)throw new Error(`${n} is not a File`);if(i!==void 0){const a=yield i.getFile();return a.handle=i,Mm(a)}}const s=n.getAsFile();if(!s)throw new Error(`${n} is not a File`);return Mm(s,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function Sae(n){return Fh(this,void 0,void 0,function*(){return n.isDirectory?bz(n):Cae(n)})}function bz(n){const e=n.createReader();return new Promise((t,s)=>{const r=[];function i(){e.readEntries(a=>Fh(this,void 0,void 0,function*(){if(a.length){const o=Promise.all(a.map(Sae));r.push(o),i()}else try{const o=yield Promise.all(r);t(o)}catch(o){s(o)}}),a=>{s(a)})}i()})}function Cae(n){return Fh(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(s=>{const r=Mm(s,n.fullPath);e(r)},s=>{t(s)})})})}var aC=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var s=n.name||"",r=(n.type||"").toLowerCase(),i=r.replace(/\/.*$/,"");return t.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?s.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):r===o})}return!0};function Q2(n){return Aae(n)||Eae(n)||Sz(n)||kae()}function kae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eae(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Aae(n){if(Array.isArray(n))return _A(n)}function Z2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,s)}return t}function J2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(t),!0).forEach(function(s){_z(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Z2(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function _z(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vv(n,e){return Tae(n)||Nae(n,e)||Sz(n,e)||jae()}function jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sz(n,e){if(n){if(typeof n=="string")return _A(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _A(n,e)}}function _A(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function Nae(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s=[],r=!0,i=!1,a,o;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(s.push(a.value),!(e&&s.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(i)throw o}}return s}}function Tae(n){if(Array.isArray(n))return n}var Pae=typeof aC=="function"?aC:aC.default,Rae="file-invalid-type",Dae="file-too-large",Mae="file-too-small",Oae="too-many-files",Iae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),s=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:Rae,message:"File type must be ".concat(s)}},eD=function(e){return{code:Dae,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},tD=function(e){return{code:Mae,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Lae={code:Oae,message:"Too many files"};function Cz(n,e){var t=n.type==="application/x-moz-file"||Pae(n,e);return[t,t?null:Iae(e)]}function kz(n,e,t){if(Wd(n.size))if(Wd(e)&&Wd(t)){if(n.size>t)return[!1,eD(t)];if(n.size<e)return[!1,tD(e)]}else{if(Wd(e)&&n.size<e)return[!1,tD(e)];if(Wd(t)&&n.size>t)return[!1,eD(t)]}return[!0,null]}function Wd(n){return n!=null}function Fae(n){var e=n.files,t=n.accept,s=n.minSize,r=n.maxSize,i=n.multiple,a=n.maxFiles,o=n.validator;return!i&&e.length>1||i&&a>=1&&e.length>a?!1:e.every(function(l){var d=Cz(l,t),h=Vv(d,1),f=h[0],p=kz(l,s,r),m=Vv(p,1),y=m[0],g=o?o(l):null;return f&&y&&!g})}function X0(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Hw(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function nD(n){n.preventDefault()}function $ae(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Bae(n){return n.indexOf("Edge/")!==-1}function zae(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $ae(n)||Bae(n)}function ca(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(s){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return e.some(function(o){return!X0(s)&&o&&o.apply(void 0,[s].concat(i)),X0(s)})}}function Uae(){return"showOpenFilePicker"in window}function Vae(n){if(Wd(n)){var e=Object.entries(n).filter(function(t){var s=Vv(t,2),r=s[0],i=s[1],a=!0;return Ez(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(i)||!i.every(Az))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(t,s){var r=Vv(s,2),i=r[0],a=r[1];return J2(J2({},t),{},_z({},i,a))},{});return[{description:"Files",accept:e}]}return n}function Hae(n){if(Wd(n))return Object.entries(n).reduce(function(e,t){var s=Vv(t,2),r=s[0],i=s[1];return[].concat(Q2(e),[r],Q2(i))},[]).filter(function(e){return Ez(e)||Az(e)}).join(",")}function Wae(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function qae(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function Ez(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function Az(n){return/^.*\.[\w]+$/.test(n)}var Gae=["children"],Yae=["open"],Kae=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Xae=["refKey","onChange","onClick"];function Qae(n){return eoe(n)||Jae(n)||jz(n)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jae(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function eoe(n){if(Array.isArray(n))return SA(n)}function oC(n,e){return soe(n)||noe(n,e)||jz(n,e)||toe()}function toe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jz(n,e){if(n){if(typeof n=="string")return SA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return SA(n,e)}}function SA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=n[t];return s}function noe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s=[],r=!0,i=!1,a,o;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(s.push(a.value),!(e&&s.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(i)throw o}}return s}}function soe(n){if(Array.isArray(n))return n}function sD(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,s)}return t}function Zt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(t),!0).forEach(function(s){CA(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sD(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function CA(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Q0(n,e){if(n==null)return{};var t=roe(n,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function roe(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var eT=v.forwardRef(function(n,e){var t=n.children,s=Q0(n,Gae),r=Tz(s),i=r.open,a=Q0(r,Yae);return v.useImperativeHandle(e,function(){return{open:i}},[i]),G.createElement(v.Fragment,null,t(Zt(Zt({},a),{},{open:i})))});eT.displayName="Dropzone";var Nz={disabled:!1,getFilesFromEvent:gae,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};eT.defaultProps=Nz;eT.propTypes={children:At.func,accept:At.objectOf(At.arrayOf(At.string)),multiple:At.bool,preventDropOnDocument:At.bool,noClick:At.bool,noKeyboard:At.bool,noDrag:At.bool,noDragEventsBubbling:At.bool,minSize:At.number,maxSize:At.number,maxFiles:At.number,disabled:At.bool,getFilesFromEvent:At.func,onFileDialogCancel:At.func,onFileDialogOpen:At.func,useFsAccessApi:At.bool,autoFocus:At.bool,onDragEnter:At.func,onDragLeave:At.func,onDragOver:At.func,onDrop:At.func,onDropAccepted:At.func,onDropRejected:At.func,onError:At.func,validator:At.func};var kA={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Tz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Zt(Zt({},Nz),n),t=e.accept,s=e.disabled,r=e.getFilesFromEvent,i=e.maxSize,a=e.minSize,o=e.multiple,l=e.maxFiles,d=e.onDragEnter,h=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,y=e.onDropRejected,g=e.onFileDialogCancel,_=e.onFileDialogOpen,w=e.useFsAccessApi,x=e.autoFocus,b=e.preventDropOnDocument,S=e.noClick,k=e.noKeyboard,j=e.noDrag,N=e.noDragEventsBubbling,P=e.onError,D=e.validator,T=v.useMemo(function(){return Hae(t)},[t]),F=v.useMemo(function(){return Vae(t)},[t]),M=v.useMemo(function(){return typeof _=="function"?_:rD},[_]),U=v.useMemo(function(){return typeof g=="function"?g:rD},[g]),R=v.useRef(null),V=v.useRef(null),z=v.useReducer(ioe,kA),$=oC(z,2),I=$[0],L=$[1],K=I.isFocused,ie=I.isFileDialogActive,Z=v.useRef(typeof window<"u"&&window.isSecureContext&&w&&Uae()),re=function(){!Z.current&&ie&&setTimeout(function(){if(V.current){var W=V.current.files;W.length||(L({type:"closeDialog"}),U())}},300)};v.useEffect(function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}},[V,ie,U,Z]);var he=v.useRef([]),De=function(W){R.current&&R.current.contains(W.target)||(W.preventDefault(),he.current=[])};v.useEffect(function(){return b&&(document.addEventListener("dragover",nD,!1),document.addEventListener("drop",De,!1)),function(){b&&(document.removeEventListener("dragover",nD),document.removeEventListener("drop",De))}},[R,b]),v.useEffect(function(){return!s&&x&&R.current&&R.current.focus(),function(){}},[R,x,s]);var je=v.useCallback(function(H){P?P(H):console.error(H)},[P]),X=v.useCallback(function(H){H.preventDefault(),H.persist(),O(H),he.current=[].concat(Qae(he.current),[H.target]),Hw(H)&&Promise.resolve(r(H)).then(function(W){if(!(X0(H)&&!N)){var ne=W.length,_e=ne>0&&Fae({files:W,accept:T,minSize:a,maxSize:i,multiple:o,maxFiles:l,validator:D}),We=ne>0&&!_e;L({isDragAccept:_e,isDragReject:We,isDragActive:!0,type:"setDraggedFiles"}),d&&d(H)}}).catch(function(W){return je(W)})},[r,d,je,N,T,a,i,o,l,D]),He=v.useCallback(function(H){H.preventDefault(),H.persist(),O(H);var W=Hw(H);if(W&&H.dataTransfer)try{H.dataTransfer.dropEffect="copy"}catch{}return W&&f&&f(H),!1},[f,N]),Be=v.useCallback(function(H){H.preventDefault(),H.persist(),O(H);var W=he.current.filter(function(_e){return R.current&&R.current.contains(_e)}),ne=W.indexOf(H.target);ne!==-1&&W.splice(ne,1),he.current=W,!(W.length>0)&&(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Hw(H)&&h&&h(H))},[R,h,N]),Re=v.useCallback(function(H,W){var ne=[],_e=[];H.forEach(function(We){var vn=Cz(We,T),us=oC(vn,2),Us=us[0],Cl=us[1],yi=kz(We,a,i),ws=oC(yi,2),kl=ws[0],dr=ws[1],Rd=D?D(We):null;if(Us&&kl&&!Rd)ne.push(We);else{var El=[Cl,dr];Rd&&(El=El.concat(Rd)),_e.push({file:We,errors:El.filter(function(rw){return rw})})}}),(!o&&ne.length>1||o&&l>=1&&ne.length>l)&&(ne.forEach(function(We){_e.push({file:We,errors:[Lae]})}),ne.splice(0)),L({acceptedFiles:ne,fileRejections:_e,isDragReject:_e.length>0,type:"setFiles"}),p&&p(ne,_e,W),_e.length>0&&y&&y(_e,W),ne.length>0&&m&&m(ne,W)},[L,o,T,a,i,l,p,m,y,D]),Te=v.useCallback(function(H){H.preventDefault(),H.persist(),O(H),he.current=[],Hw(H)&&Promise.resolve(r(H)).then(function(W){X0(H)&&!N||Re(W,H)}).catch(function(W){return je(W)}),L({type:"reset"})},[r,Re,je,N]),Ne=v.useCallback(function(){if(Z.current){L({type:"openDialog"}),M();var H={multiple:o,types:F};window.showOpenFilePicker(H).then(function(W){return r(W)}).then(function(W){Re(W,null),L({type:"closeDialog"})}).catch(function(W){Wae(W)?(U(W),L({type:"closeDialog"})):qae(W)?(Z.current=!1,V.current?(V.current.value=null,V.current.click()):je(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):je(W)});return}V.current&&(L({type:"openDialog"}),M(),V.current.value=null,V.current.click())},[L,M,U,w,Re,je,F,o]),zt=v.useCallback(function(H){!R.current||!R.current.isEqualNode(H.target)||(H.key===" "||H.key==="Enter"||H.keyCode===32||H.keyCode===13)&&(H.preventDefault(),Ne())},[R,Ne]),gn=v.useCallback(function(){L({type:"focus"})},[]),lr=v.useCallback(function(){L({type:"blur"})},[]),cr=v.useCallback(function(){S||(zae()?setTimeout(Ne,0):Ne())},[S,Ne]),ds=function(W){return s?null:W},ra=function(W){return k?null:ds(W)},zs=function(W){return j?null:ds(W)},O=function(W){N&&W.stopPropagation()},B=v.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=H.refKey,ne=W===void 0?"ref":W,_e=H.role,We=H.onKeyDown,vn=H.onFocus,us=H.onBlur,Us=H.onClick,Cl=H.onDragEnter,yi=H.onDragOver,ws=H.onDragLeave,kl=H.onDrop,dr=Q0(H,Kae);return Zt(Zt(CA({onKeyDown:ra(ca(We,zt)),onFocus:ra(ca(vn,gn)),onBlur:ra(ca(us,lr)),onClick:ds(ca(Us,cr)),onDragEnter:zs(ca(Cl,X)),onDragOver:zs(ca(yi,He)),onDragLeave:zs(ca(ws,Be)),onDrop:zs(ca(kl,Te)),role:typeof _e=="string"&&_e!==""?_e:"presentation"},ne,R),!s&&!k?{tabIndex:0}:{}),dr)}},[R,zt,gn,lr,cr,X,He,Be,Te,k,j,s]),q=v.useCallback(function(H){H.stopPropagation()},[]),ae=v.useMemo(function(){return function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=H.refKey,ne=W===void 0?"ref":W,_e=H.onChange,We=H.onClick,vn=Q0(H,Xae),us=CA({accept:T,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ds(ca(_e,Te)),onClick:ds(ca(We,q)),tabIndex:-1},ne,V);return Zt(Zt({},us),vn)}},[V,t,o,Te,s]);return Zt(Zt({},I),{},{isFocused:K&&!s,getRootProps:B,getInputProps:ae,rootRef:R,inputRef:V,open:ds(Ne)})}function ioe(n,e){switch(e.type){case"focus":return Zt(Zt({},n),{},{isFocused:!0});case"blur":return Zt(Zt({},n),{},{isFocused:!1});case"openDialog":return Zt(Zt({},kA),{},{isFileDialogActive:!0});case"closeDialog":return Zt(Zt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Zt(Zt({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Zt(Zt({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Zt({},kA);default:return n}}function rD(){}const aoe=IN({name:On().min(2,"Nome deve ter pelo menos 2 caracteres"),description:On().optional(),document_type:On().min(1,"Tipo do documento é obrigatório"),case_id:On().uuid("ID do caso deve ser um UUID válido").optional().or(F2("")),client_id:On().uuid("ID do cliente deve ser um UUID válido").optional().or(F2("")),status:zv(["draft","review","approved","signed","archived"]),encrypted:Nte().default(!1)});function ooe({document:n,onSuccess:e,onCancel:t}){const{toast:s}=or(),[r,i]=v.useState(null),[a,o]=v.useState(!1),l=async()=>{const{data:{user:b}}=await ge.auth.getUser();return b},d=DN({resolver:MN(aoe),defaultValues:{name:(n==null?void 0:n.name)||"",description:(n==null?void 0:n.description)||"",document_type:(n==null?void 0:n.document_type)||"",case_id:(n==null?void 0:n.case_id)||"",client_id:(n==null?void 0:n.client_id)||"",status:(n==null?void 0:n.status)||"draft",encrypted:!1}}),h=v.useCallback(b=>{b.length>0&&(i(b[0]),d.getValues("name")||d.setValue("name",b[0].name.split(".")[0]))},[d]),{getRootProps:f,getInputProps:p,isDragActive:m}=Tz({onDrop:h,maxFiles:1,accept:{"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"],"image/*":[".jpg",".jpeg",".png"]},maxSize:10*1024*1024}),y=b=>b.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9._-]/g,"_"),g=async b=>{const S=y(b.name),k=`${Math.random().toString(36).substring(2,15)}-${S}`,{data:j,error:N}=await ge.storage.from("documents").upload(k,b);if(N)throw console.error("Erro no upload Supabase:",N),N;return{path:j.path}},_=b=>{const S={...b};return S.case_id===""&&delete S.case_id,S.client_id===""&&delete S.client_id,S.description===""&&delete S.description,S},w=["case_id","client_id","created_by","user_id","description","document_type","encrypted","encryption_key","encryption_metadata","file_path","file_type","file_size","mime_type","name","status","tags","version","document_hash","signature_hash","metadata","modification_history","access_log"];async function x(b){if(!n&&!r){s({title:"Erro",description:"Selecione um arquivo para fazer upload",variant:"destructive"});return}o(!0);try{let S=null;const k=await l();if(!k)throw new Error("Usuário não autenticado");r&&(S=await g(r));const j=_(b),N={user_id:k.id,created_by:k.id,file_path:(S==null?void 0:S.path)||(n==null?void 0:n.file_path)||"",file_type:(r==null?void 0:r.type)||(n==null?void 0:n.file_type)||"application/octet-stream",file_size:(r==null?void 0:r.size)||(n==null?void 0:n.file_size)||0,mime_type:(r==null?void 0:r.type)||(n==null?void 0:n.mime_type)||"application/octet-stream",encrypted:!1,version:(n==null?void 0:n.version)||1,tags:(n==null?void 0:n.tags)||[],name:j.name||(n==null?void 0:n.name)||"Documento sem nome",document_type:j.document_type||(n==null?void 0:n.document_type)||"other",status:j.status||(n==null?void 0:n.status)||"draft",description:j.description||(n==null?void 0:n.description)||"",case_id:j.case_id||(n==null?void 0:n.case_id)||null,client_id:j.client_id||(n==null?void 0:n.client_id)||null,encryption_key:null},P={};Object.entries(N).forEach(([D,T])=>{w.includes(D)&&(P[D]=T)}),n?(await Ve.updateDocument(n.id,P),s({title:"Sucesso",description:"Documento atualizado com sucesso"})):(await Ve.createDocument(P),s({title:"Sucesso",description:"Documento criado com sucesso"})),e()}catch(S){console.error("Erro completo:",S),s({title:"Erro",description:(S==null?void 0:S.message)||"Não foi possível salvar o documento",variant:"destructive"})}finally{o(!1)}}return c.jsx(LN,{...d,children:c.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-6",children:[!n&&c.jsx(Ce,{children:c.jsx(Ee,{className:"p-4 sm:p-6",children:c.jsxs("div",{...f(),className:"border-2 border-dashed rounded-lg p-4 sm:p-6 text-center cursor-pointer transition-colors hover:border-primary/50 border-muted-foreground/25",children:[c.jsx("input",{...p()}),r?c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[c.jsx(sH,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary flex-shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("p",{className:"font-medium truncate text-sm sm:text-base",children:r.name}),c.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[(r.size/1024/1024).toFixed(2)," MB"]})]})]}),c.jsx(be,{type:"button",variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),i(null)},className:"flex-shrink-0 mt-2 sm:mt-0",children:c.jsx(bm,{className:"h-4 w-4"})})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsx(ck,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-base sm:text-lg font-medium mb-1 sm:mb-2",children:m?"Solte o arquivo aqui":"Clique ou arraste um arquivo"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"PDF, DOC, DOCX, TXT ou imagens (máx. 10MB)"})]})]})]})})}),c.jsx("div",{className:"grid gap-6 md:grid-cols-1",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(qt,{control:d.control,name:"name",render:({field:b})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Nome do Documento"}),c.jsx(Ft,{children:c.jsx(Ue,{placeholder:"Nome do documento",...b})}),c.jsx($t,{})]})}),c.jsx(qt,{control:d.control,name:"document_type",render:({field:b})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Tipo do Documento"}),c.jsxs(xt,{onValueChange:b.onChange,defaultValue:b.value,children:[c.jsx(Ft,{children:c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o tipo"})})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"contract",children:"Contrato"}),c.jsx(Y,{value:"petition",children:"Petição"}),c.jsx(Y,{value:"evidence",children:"Prova"}),c.jsx(Y,{value:"correspondence",children:"Correspondência"}),c.jsx(Y,{value:"certificate",children:"Certidão"}),c.jsx(Y,{value:"report",children:"Relatório"}),c.jsx(Y,{value:"other",children:"Outro"})]})]}),c.jsx($t,{})]})}),c.jsx(qt,{control:d.control,name:"status",render:({field:b})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Status"}),c.jsxs(xt,{onValueChange:b.onChange,defaultValue:b.value,children:[c.jsx(Ft,{children:c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o status"})})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"draft",children:"Rascunho"}),c.jsx(Y,{value:"review",children:"Em Revisão"}),c.jsx(Y,{value:"approved",children:"Aprovado"}),c.jsx(Y,{value:"signed",children:"Assinado"}),c.jsx(Y,{value:"archived",children:"Arquivado"})]})]}),c.jsx($t,{})]})}),c.jsx(qt,{control:d.control,name:"description",render:({field:b})=>c.jsxs(It,{children:[c.jsx(Lt,{children:"Descrição"}),c.jsx(Ft,{children:c.jsx(Ja,{placeholder:"Descrição do documento (opcional)",className:"min-h-[80px]",...b})}),c.jsx($t,{})]})})]})}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t",children:[c.jsx(be,{type:"button",variant:"outline",onClick:t,className:"w-full sm:w-auto",children:"Cancelar"}),c.jsx(be,{type:"submit",disabled:a,className:"w-full sm:w-auto",children:a?"Salvando...":n?"Atualizar":"Criar Documento"})]})]})})}function loe(){const[n,e]=v.useState(""),[t,s]=v.useState([]),[r,i]=v.useState(!0),[a,o]=v.useState(!1),[l,d]=v.useState(null),[h,f]=v.useState("all"),[p,m]=v.useState("all"),{toast:y}=or();Px(),v.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const T=await Ve.getDocuments();s(T)}catch{y({title:"Erro",description:"Não foi possível carregar os documentos",variant:"destructive"})}finally{i(!1)}},_=t.filter(T=>{var R,V;const F=T.name.toLowerCase().includes(n.toLowerCase())||((R=T.file_type)==null?void 0:R.toLowerCase().includes(n.toLowerCase()))||!1||((V=T.description)==null?void 0:V.toLowerCase().includes(n.toLowerCase()))||!1,M=h==="all"||T.status===h,U=p==="all"||T.document_type===p;return F&&M&&U}),w=T=>{switch(T){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"review":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"draft":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";case"signed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}},x=T=>{switch(T){case"approved":return"Aprovado";case"review":return"Em Revisão";case"draft":return"Rascunho";case"signed":return"Assinado";default:return T}},b=T=>{if(!T||T===0)return"0 Bytes";const F=1024,M=["Bytes","KB","MB","GB"],U=Math.floor(Math.log(T)/Math.log(F));return parseFloat((T/Math.pow(F,U)).toFixed(2))+" "+M[U]},S=T=>c.jsx(yh,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary"}),k=async T=>{d(T.id);try{const{data:F,error:M}=await ge.storage.from("documents").createSignedUrl(T.file_path,60);if(M)throw M;if(!(F!=null&&F.signedUrl))throw new Error("URL de download não disponível");window.open(F.signedUrl,"_blank"),y({title:"Sucesso",description:"Documento aberto em nova aba"})}catch(F){console.error("Erro ao abrir documento:",F),y({title:"Erro",description:F.message||"Não foi possível abrir o documento",variant:"destructive"})}finally{d(null)}},j=T=>{y({title:"Funcionalidade em desenvolvimento",description:"A página de detalhes estará disponível em breve",variant:"default"})},N=()=>{o(!1),g(),y({title:"Sucesso",description:"Documento enviado com sucesso"})},P=T=>{switch(T){case"contract":return"Contrato";case"petition":return"Petição";case"evidence":return"Prova";case"correspondence":return"Correspondência";case"certificate":return"Certidão";case"report":return"Relatório";case"other":return"Outro";default:return T}},D=()=>{e(""),f("all"),m("all")};return c.jsxs(ir,{breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Documentos"}],children:[c.jsxs("div",{className:"flex flex-col space-y-4 sm:space-y-0 sm:flex-row sm:items-center sm:justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Documentos"}),c.jsxs(Ch,{open:a,onOpenChange:o,children:[c.jsx(fB,{asChild:!0,children:c.jsxs(be,{className:"bg-gradient-primary w-full sm:w-auto",children:[c.jsx(ck,{className:"mr-2 h-4 w-4"}),"Novo Documento"]})}),c.jsxs(pd,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(md,{children:[c.jsx(gd,{children:"Novo Documento"}),c.jsx(_S,{children:"Faça upload de um novo documento para o sistema."})]}),c.jsx(ooe,{onCancel:()=>o(!1),onSuccess:N})]})]})]}),c.jsx(Ce,{className:"mb-6",children:c.jsx(Ee,{className:"p-4 sm:p-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_v,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),c.jsx(Ue,{placeholder:"Buscar documentos por nome, tipo ou descrição...",value:n,onChange:T=>e(T.target.value),className:"flex-1"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx(rH,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),c.jsxs(xt,{value:h,onValueChange:f,children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{placeholder:"Status"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"all",children:"Todos os Status"}),c.jsx(Y,{value:"draft",children:"Rascunho"}),c.jsx(Y,{value:"review",children:"Em Revisão"}),c.jsx(Y,{value:"approved",children:"Aprovado"}),c.jsx(Y,{value:"signed",children:"Assinado"})]})]})]}),c.jsx("div",{className:"flex-1",children:c.jsxs(xt,{value:p,onValueChange:m,children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{placeholder:"Tipo"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"all",children:"Todos os Tipos"}),c.jsx(Y,{value:"contract",children:"Contrato"}),c.jsx(Y,{value:"petition",children:"Petição"}),c.jsx(Y,{value:"evidence",children:"Prova"}),c.jsx(Y,{value:"correspondence",children:"Correspondência"}),c.jsx(Y,{value:"certificate",children:"Certidão"}),c.jsx(Y,{value:"report",children:"Relatório"}),c.jsx(Y,{value:"other",children:"Outro"})]})]})}),c.jsx(be,{variant:"outline",onClick:D,className:"w-full sm:w-auto",children:"Limpar Filtros"})]})]})})}),r?c.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((T,F)=>c.jsxs(Ce,{className:"animate-pulse",children:[c.jsx(Oe,{className:"pb-3",children:c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})}),c.jsx(Ee,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-3 bg-muted rounded w-full"}),c.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})]},F))}):c.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:_.map(T=>c.jsxs(Ce,{className:"hover:shadow-md transition-shadow flex flex-col",children:[c.jsx(Oe,{className:"pb-3 flex-shrink-0",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[S(T.file_type),c.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[c.jsx(Ke,{className:"text-sm sm:text-base leading-tight line-clamp-2",children:T.name}),c.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[P(T.document_type)," • ",b(T.file_size)]})]})]}),T.encrypted&&c.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-green-100 rounded-full flex-shrink-0",children:c.jsx(Of,{className:"h-3 w-3 text-green-600"})})]})}),c.jsxs(Ee,{className:"space-y-4 flex-1 flex flex-col",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(jt,{className:`${w(T.status)} text-xs`,children:x(T.status)})}),c.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground space-y-1 flex-1",children:[c.jsxs("p",{children:["Criado: ",new Date(T.created_at).toLocaleDateString("pt-BR")]}),T.description&&c.jsx("p",{className:"line-clamp-2 text-xs",children:T.description})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-auto",children:[c.jsxs(be,{variant:"outline",size:"sm",className:"flex-1 text-xs",onClick:()=>j(T.id),children:[c.jsx(ok,{className:"mr-1 h-3 w-3"}),"Detalhes"]}),c.jsx(be,{variant:"outline",size:"sm",onClick:()=>k(T),disabled:l===T.id,className:"flex-1 sm:flex-none",children:l===T.id?c.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-primary border-t-transparent rounded-full"}):c.jsx(Pj,{className:"h-3 w-3"})})]}),c.jsx("div",{className:"text-xs text-muted-foreground border-t pt-2 mt-2",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Segurança:"}),c.jsx("div",{className:"flex items-center space-x-1",children:T.encrypted?c.jsxs(c.Fragment,{children:[c.jsx(Of,{className:"h-3 w-3 text-green-600"}),c.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Criptografado"})]}):c.jsxs(c.Fragment,{children:[c.jsx(If,{className:"h-3 w-3 text-muted-foreground"}),c.jsx("span",{className:"text-xs",children:"Protegido"})]})})]})})]})]},T.id))}),!r&&t.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"mx-auto w-20 h-20 sm:w-24 sm:h-24 bg-muted rounded-full flex items-center justify-center mb-4",children:c.jsx(yh,{className:"h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum documento encontrado"}),c.jsx("p",{className:"text-muted-foreground mb-4 text-sm sm:text-base",children:"Comece fazendo upload do seu primeiro documento."}),c.jsxs(be,{onClick:()=>o(!0),className:"w-full sm:w-auto",children:[c.jsx(ck,{className:"mr-2 h-4 w-4"}),"Novo Documento"]})]}),!r&&_.length===0&&t.length>0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Nenhum documento encontrado para os filtros aplicados."}),c.jsx(be,{variant:"outline",onClick:D,className:"mt-4 w-full sm:w-auto",children:"Limpar Filtros"})]}),c.jsxs(Ce,{className:"mt-8",children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2 text-base sm:text-lg",children:[c.jsx(If,{className:"h-5 w-5 text-green-600"}),"Segurança dos Documentos"]})}),c.jsx(Ee,{children:c.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[c.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[c.jsx(Of,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mx-auto mb-2"}),c.jsx("h4",{className:"font-semibold text-sm sm:text-base",children:"Criptografia no Servidor"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Todos os documentos são protegidos no servidor"})]}),c.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[c.jsx(If,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mx-auto mb-2"}),c.jsx("h4",{className:"font-semibold text-sm sm:text-base",children:"Acesso Controlado"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Apenas usuários autorizados podem acessar"})]}),c.jsxs("div",{className:"text-center p-4 border rounded-lg sm:col-span-2 lg:col-span-1",children:[c.jsx(ok,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600 mx-auto mb-2"}),c.jsx("h4",{className:"font-semibold text-sm sm:text-base",children:"Auditoria Completa"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Registro de todos os acessos e modificações"})]})]})})]})]})}const coe="https://lvkbbtfcsxpjxlezfrwp.supabase.co",doe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2a2JidGZjc3hwanhsZXpmcndwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwMTI5NjcsImV4cCI6MjA3MDU4ODk2N30.SPnPUp4pXBAuXqfquV4TiBUkD5JYqM2SKq6-njM5Er0",ai=HL(coe,doe),da="none";function uoe({open:n,onOpenChange:e,onAppointmentCreated:t,editingAppointment:s}){const[r,i]=v.useState(!1),[a,o]=v.useState([]),[l,d]=v.useState([]),{toast:h}=or(),[f,p]=v.useState({title:"",description:"",client_id:da,case_id:da,appointment_date:new Date().toISOString().split("T")[0],start_time:"09:00",end_time:"10:00",location:"",appointment_type:"consultation",status:"scheduled",notes:"",reminder_sent:!1});v.useEffect(()=>{if(n)if(console.log("AppointmentForm opened, editingAppointment:",s),m(),s){console.log("Preenchendo formulário com dados de edição:",s);try{p({title:s.title||"",description:s.description||"",client_id:s.client_id?String(s.client_id):da,case_id:s.case_id?String(s.case_id):da,appointment_date:s.appointment_date||new Date().toISOString().split("T")[0],start_time:s.start_time||"09:00",end_time:s.end_time||"10:00",location:s.location||"",appointment_type:s.appointment_type||"consultation",status:s.status||"scheduled",notes:s.notes||"",reminder_sent:s.reminder_sent||!1}),console.log("Formulário preenchido com sucesso")}catch(w){console.error("Erro ao preencher formulário:",w)}}else console.log("Criando novo agendamento - resetando formulário"),p({title:"",description:"",client_id:da,case_id:da,appointment_date:new Date().toISOString().split("T")[0],start_time:"09:00",end_time:"10:00",location:"",appointment_type:"consultation",status:"scheduled",notes:"",reminder_sent:!1})},[n,s]);const m=async()=>{try{console.log("Buscando clientes e casos...");const[w,x]=await Promise.all([Ve.getClients(),Ve.getCases()]);o(w),d(x),console.log("Clientes e casos carregados:",w.length,x.length)}catch(w){console.error("Failed to fetch clients and cases:",w)}},y=async w=>{w.preventDefault(),i(!0);try{const{data:{user:x}}=await ai.auth.getUser();if(!x)throw new Error("Usuário não autenticado");console.log("Submetendo formulário, editingAppointment:",s);const b={title:f.title,description:f.description,client_id:f.client_id===da?null:f.client_id,case_id:f.case_id===da?null:f.case_id,appointment_date:f.appointment_date,start_time:f.start_time,end_time:f.end_time,location:f.location,appointment_type:f.appointment_type,status:f.status,notes:f.notes,reminder_sent:f.reminder_sent};s?(console.log("Atualizando agendamento:",s.id),await Ve.updateAppointment(s.id,b),h({title:"Agendamento atualizado",description:"O agendamento foi atualizado com sucesso."})):(console.log("Criando novo agendamento"),await Ve.createAppointment({...b,created_by:x.id}),h({title:"Agendamento criado",description:"O agendamento foi criado com sucesso."})),t(),e(!1)}catch(x){console.error("Failed to save appointment:",x),h({title:"Erro",description:"Não foi possível salvar o agendamento. Tente novamente.",variant:"destructive"})}finally{i(!1)}},g=w=>{const{name:x,value:b}=w.target;p(S=>({...S,[x]:b}))},_=(w,x)=>{p(b=>({...b,[w]:x}))};return console.log("Renderizando AppointmentForm, formData:",f),c.jsx(Ch,{open:n,onOpenChange:e,children:c.jsxs(pd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsx(md,{children:c.jsx(gd,{children:s?"Editar Agendamento":"Novo Agendamento"})}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"title",children:"Título *"}),c.jsx(Ue,{id:"title",name:"title",value:f.title,onChange:g,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"appointment_type",children:"Tipo *"}),c.jsxs(xt,{value:f.appointment_type,onValueChange:w=>_("appointment_type",w),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o tipo"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"consultation",children:"Consulta"}),c.jsx(Y,{value:"hearing",children:"Audiência"}),c.jsx(Y,{value:"meeting",children:"Reunião"}),c.jsx(Y,{value:"deadline",children:"Prazo"}),c.jsx(Y,{value:"other",children:"Outro"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"description",children:"Descrição"}),c.jsx(Ja,{id:"description",name:"description",value:f.description,onChange:g,rows:3})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"client_id",children:"Cliente"}),c.jsxs(xt,{value:f.client_id,onValueChange:w=>_("client_id",w),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione um cliente"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:da,children:"Nenhum"}),a.map(w=>c.jsx(Y,{value:w.id,children:w.name},w.id))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"case_id",children:"Caso"}),c.jsxs(xt,{value:f.case_id,onValueChange:w=>_("case_id",w),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione um caso"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:da,children:"Nenhum"}),l.map(w=>c.jsxs(Y,{value:w.id,children:[w.title," - ",w.case_number]},w.id))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"appointment_date",children:"Data *"}),c.jsx(Ue,{id:"appointment_date",name:"appointment_date",type:"date",value:f.appointment_date,onChange:g,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"start_time",children:"Hora Início *"}),c.jsx(Ue,{id:"start_time",name:"start_time",type:"time",value:f.start_time,onChange:g,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"end_time",children:"Hora Fim *"}),c.jsx(Ue,{id:"end_time",name:"end_time",type:"time",value:f.end_time,onChange:g,required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"location",children:"Localização"}),c.jsx(Ue,{id:"location",name:"location",value:f.location,onChange:g})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"status",children:"Status"}),c.jsxs(xt,{value:f.status,onValueChange:w=>_("status",w),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o status"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"scheduled",children:"Agendado"}),c.jsx(Y,{value:"confirmed",children:"Confirmado"}),c.jsx(Y,{value:"completed",children:"Concluído"}),c.jsx(Y,{value:"cancelled",children:"Cancelado"}),c.jsx(Y,{value:"rescheduled",children:"Reagendado"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"notes",children:"Notas"}),c.jsx(Ja,{id:"notes",name:"notes",value:f.notes,onChange:g,rows:3})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(be,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancelar"}),c.jsx(be,{type:"submit",disabled:r,children:r?"Salvando...":s?"Atualizar Agendamento":"Criar Agendamento"})]})]})]})})}function hoe(){const[n,e]=v.useState(new Date),[t,s]=v.useState([]),[r,i]=v.useState(!0),[a,o]=v.useState(null),[l,d]=v.useState(!1),[h,f]=v.useState(null),[p,m]=v.useState(!1),[y,g]=v.useState(null),{toast:_}=or(),w=async()=>{i(!0),o(null);try{const M=new Date().toISOString().split("T")[0],U=new Date;U.setMonth(U.getMonth()+1);const R=U.toISOString().split("T")[0],V=await Ve.getAppointmentsByDateRange(M,R);s(V)}catch(M){o("Não foi possível carregar os agendamentos. Tente novamente mais tarde."),console.error("Failed to fetch appointments:",M)}finally{i(!1)}};v.useEffect(()=>{w()},[]);const x=M=>{console.log("Editando agendamento - dados completos:",M),console.log("client_id:",M.client_id,"type:",typeof M.client_id),console.log("case_id:",M.case_id,"type:",typeof M.case_id),f(M),d(!0)},b=async()=>{if(y)try{await Ve.deleteAppointment(y.id),_({title:"Agendamento excluído",description:"O agendamento foi removido com sucesso."}),w()}catch(M){console.error("Failed to delete appointment:",M),_({title:"Erro",description:"Não foi possível excluir o agendamento.",variant:"destructive"})}finally{m(!1),g(null)}},S=M=>{g(M),m(!0)},k=new Date().toISOString().split("T")[0],j=t.filter(M=>M.appointment_date===k),N=t.filter(M=>M.appointment_date>k).sort((M,U)=>new Date(M.appointment_date).getTime()-new Date(U.appointment_date).getTime()).slice(0,5),P=M=>{switch(M){case"consultation":return"bg-primary/10 text-primary";case"hearing":return"bg-destructive/10 text-destructive";case"meeting":return"bg-warning/10 text-warning";case"deadline":return"bg-orange-500/10 text-orange-600";default:return"bg-muted text-muted-foreground"}},D=M=>{switch(M){case"consultation":return"Consulta";case"hearing":return"Audiência";case"meeting":return"Reunião";case"deadline":return"Prazo";default:return"Outro"}},T=M=>{switch(M){case"scheduled":return"Agendado";case"confirmed":return"Confirmado";case"completed":return"Concluído";case"cancelled":return"Cancelado";case"rescheduled":return"Reagendado";default:return M}},F=(M,U)=>c.jsxs(Ce,{className:"h-full",children:[c.jsx(Oe,{children:c.jsx(Ke,{className:"text-xl font-bold",children:U})}),c.jsxs(Ee,{className:"space-y-3",children:[r&&c.jsx("p",{children:"Carregando agendamentos..."}),a&&c.jsx("p",{className:"text-destructive",children:a}),!r&&M.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum agendamento encontrado."}),M.map(R=>c.jsxs("div",{className:"p-3 border-l-4 border-l-primary bg-primary/5 rounded relative group",children:[c.jsxs(Z4,{children:[c.jsx(J4,{asChild:!0,children:c.jsx(be,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(nH,{className:"h-4 w-4"})})}),c.jsxs(mN,{align:"end",children:[c.jsxs(Ov,{onClick:()=>x(R),children:[c.jsx(B_,{className:"h-4 w-4 mr-2"}),"Editar"]}),c.jsxs(Ov,{className:"text-destructive",onClick:()=>S(R),children:[c.jsx(Rj,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]}),c.jsx("div",{className:"flex items-center justify-between mb-1",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(jt,{className:P(R.appointment_type),children:D(R.appointment_type)}),c.jsx(jt,{variant:"outline",className:"text-xs",children:T(R.status)})]})}),c.jsx("p",{className:"font-medium text-sm",children:R.title}),R.client&&R.client.name&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Cliente: ",R.client.name]}),R.case&&R.case.title&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Caso: ",R.case.title," ",R.case.case_number&&`- ${R.case.case_number}`]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[new Date(R.appointment_date).toLocaleDateString("pt-BR")," às ",R.start_time]}),R.location&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Local: ",R.location]})]},R.id))]})]});return c.jsxs(ir,{title:"",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Agenda Jurídica"}),c.jsxs(be,{onClick:()=>{f(null),d(!0)},children:[c.jsx(bv,{className:"mr-2 h-4 w-4"}),"Novo Evento"]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[F(j,"Agendamentos de Hoje"),F(N,"Próximos Agendamentos")]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{children:"Ações Rápidas"})}),c.jsxs(Ee,{className:"space-y-3",children:[c.jsxs(be,{variant:"outline",className:"w-full justify-start",size:"sm",onClick:()=>{f(null),d(!0)},children:[c.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Criar Evento"]}),c.jsxs(be,{variant:"outline",className:"w-full justify-start",size:"sm",children:[c.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Adicionar Cliente"]}),c.jsxs(be,{variant:"outline",className:"w-full justify-start",size:"sm",children:[c.jsx(xm,{className:"mr-2 h-4 w-4"}),"Definir Lembrete"]}),c.jsxs(be,{variant:"outline",className:"w-full justify-start",size:"sm",children:[c.jsx(mI,{className:"mr-2 h-4 w-4"}),"Audiência Externa"]})]})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{children:"Lembretes"})}),c.jsxs(Ee,{className:"space-y-3",children:[c.jsxs("div",{className:"p-3 border-l-4 border-warning bg-warning/5 rounded",children:[c.jsx("p",{className:"text-sm font-medium",children:"Prazo Processual"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Processo #2024001 - Vence em 3 dias"})]}),c.jsxs("div",{className:"p-3 border-l-4 border-destructive bg-destructive/5 rounded",children:[c.jsx("p",{className:"text-sm font-medium",children:"Audiência Amanhã"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Comarca Central - 09:00h"})]}),c.jsxs("div",{className:"p-3 border-l-4 border-primary bg-primary/5 rounded",children:[c.jsx("p",{className:"text-sm font-medium",children:"Reunião Cliente"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Com o cliente João da Silva - 14:00h"})]})]})]})]})]}),c.jsx(uoe,{open:l,onOpenChange:d,onAppointmentCreated:w,editingAppointment:h}),c.jsx(BN,{open:p,onOpenChange:m,children:c.jsxs(NS,{children:[c.jsxs(TS,{children:[c.jsx(RS,{children:"Excluir agendamento"}),c.jsxs(DS,{children:['Tem certeza que deseja excluir o agendamento "',y==null?void 0:y.title,'"? Esta ação não pode ser desfeita.']})]}),c.jsxs(PS,{children:[c.jsx(OS,{children:"Cancelar"}),c.jsx(MS,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]})}function foe(n,e){return v.useReducer((t,s)=>e[t][s]??t,n)}var tT="ScrollArea",[Pz,Sle]=cs(tT),[poe,vi]=Pz(tT),Rz=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:s="hover",dir:r,scrollHideDelay:i=600,...a}=n,[o,l]=v.useState(null),[d,h]=v.useState(null),[f,p]=v.useState(null),[m,y]=v.useState(null),[g,_]=v.useState(null),[w,x]=v.useState(0),[b,S]=v.useState(0),[k,j]=v.useState(!1),[N,P]=v.useState(!1),D=Ie(e,F=>l(F)),T=zx(r);return c.jsx(poe,{scope:t,type:s,dir:T,scrollHideDelay:i,scrollArea:o,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:k,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:_,scrollbarYEnabled:N,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:S,children:c.jsx(ve.div,{dir:T,...a,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...n.style}})})});Rz.displayName=tT;var Dz="ScrollAreaViewport",Mz=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:s,nonce:r,...i}=n,a=vi(Dz,t),o=v.useRef(null),l=Ie(e,o,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(ve.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:c.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Mz.displayName=Dz;var so="ScrollAreaScrollbar",nT=v.forwardRef((n,e)=>{const{forceMount:t,...s}=n,r=vi(so,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=r,o=n.orientation==="horizontal";return v.useEffect(()=>(o?i(!0):a(!0),()=>{o?i(!1):a(!1)}),[o,i,a]),r.type==="hover"?c.jsx(moe,{...s,ref:e,forceMount:t}):r.type==="scroll"?c.jsx(goe,{...s,ref:e,forceMount:t}):r.type==="auto"?c.jsx(Oz,{...s,ref:e,forceMount:t}):r.type==="always"?c.jsx(sT,{...s,ref:e}):null});nT.displayName=so;var moe=v.forwardRef((n,e)=>{const{forceMount:t,...s}=n,r=vi(so,n.__scopeScrollArea),[i,a]=v.useState(!1);return v.useEffect(()=>{const o=r.scrollArea;let l=0;if(o){const d=()=>{window.clearTimeout(l),a(!0)},h=()=>{l=window.setTimeout(()=>a(!1),r.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",h),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",h)}}},[r.scrollArea,r.scrollHideDelay]),c.jsx(Gn,{present:t||i,children:c.jsx(Oz,{"data-state":i?"visible":"hidden",...s,ref:e})})}),goe=v.forwardRef((n,e)=>{const{forceMount:t,...s}=n,r=vi(so,n.__scopeScrollArea),i=n.orientation==="horizontal",a=$S(()=>l("SCROLL_END"),100),[o,l]=foe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>l("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,r.scrollHideDelay,l]),v.useEffect(()=>{const d=r.viewport,h=i?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const m=d[h];f!==m&&(l("SCROLL"),a()),f=m};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[r.viewport,i,l,a]),c.jsx(Gn,{present:t||o!=="hidden",children:c.jsx(sT,{"data-state":o==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:te(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:te(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Oz=v.forwardRef((n,e)=>{const t=vi(so,n.__scopeScrollArea),{forceMount:s,...r}=n,[i,a]=v.useState(!1),o=n.orientation==="horizontal",l=$S(()=>{if(t.viewport){const d=t.viewport.offsetWidth<t.viewport.scrollWidth,h=t.viewport.offsetHeight<t.viewport.scrollHeight;a(o?d:h)}},10);return Om(t.viewport,l),Om(t.content,l),c.jsx(Gn,{present:s||i,children:c.jsx(sT,{"data-state":i?"visible":"hidden",...r,ref:e})})}),sT=v.forwardRef((n,e)=>{const{orientation:t="vertical",...s}=n,r=vi(so,n.__scopeScrollArea),i=v.useRef(null),a=v.useRef(0),[o,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Bz(o.viewport,o.content),h={...s,sizes:o,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function f(p,m){return _oe(p,a.current,o,m)}return t==="horizontal"?c.jsx(voe,{...h,ref:e,onThumbPositionChange:()=>{if(r.viewport&&i.current){const p=r.viewport.scrollLeft,m=iD(p,o,r.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{r.viewport&&(r.viewport.scrollLeft=p)},onDragScroll:p=>{r.viewport&&(r.viewport.scrollLeft=f(p,r.dir))}}):t==="vertical"?c.jsx(yoe,{...h,ref:e,onThumbPositionChange:()=>{if(r.viewport&&i.current){const p=r.viewport.scrollTop,m=iD(p,o);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{r.viewport&&(r.viewport.scrollTop=p)},onDragScroll:p=>{r.viewport&&(r.viewport.scrollTop=f(p))}}):null}),voe=v.forwardRef((n,e)=>{const{sizes:t,onSizesChange:s,...r}=n,i=vi(so,n.__scopeScrollArea),[a,o]=v.useState(),l=v.useRef(null),d=Ie(e,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(Lz,{"data-orientation":"horizontal",...r,ref:d,sizes:t,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":FS(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.x),onDragScroll:h=>n.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;n.onWheelScroll(p),Uz(p,f)&&h.preventDefault()}},onResize:()=>{l.current&&i.viewport&&a&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:J0(a.paddingLeft),paddingEnd:J0(a.paddingRight)}})}})}),yoe=v.forwardRef((n,e)=>{const{sizes:t,onSizesChange:s,...r}=n,i=vi(so,n.__scopeScrollArea),[a,o]=v.useState(),l=v.useRef(null),d=Ie(e,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(Lz,{"data-orientation":"vertical",...r,ref:d,sizes:t,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":FS(t)+"px",...n.style},onThumbPointerDown:h=>n.onThumbPointerDown(h.y),onDragScroll:h=>n.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;n.onWheelScroll(p),Uz(p,f)&&h.preventDefault()}},onResize:()=>{l.current&&i.viewport&&a&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:J0(a.paddingTop),paddingEnd:J0(a.paddingBottom)}})}})}),[xoe,Iz]=Pz(so),Lz=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:r,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=n,m=vi(so,t),[y,g]=v.useState(null),_=Ie(e,D=>g(D)),w=v.useRef(null),x=v.useRef(""),b=m.viewport,S=s.content-s.viewport,k=on(h),j=on(l),N=$S(f,10);function P(D){if(w.current){const T=D.clientX-w.current.left,F=D.clientY-w.current.top;d({x:T,y:F})}}return v.useEffect(()=>{const D=T=>{const F=T.target;(y==null?void 0:y.contains(F))&&k(T,S)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[b,y,S,k]),v.useEffect(j,[s,j]),Om(y,N),Om(m.content,N),c.jsx(xoe,{scope:t,scrollbar:y,hasThumb:r,onThumbChange:on(i),onThumbPointerUp:on(a),onThumbPositionChange:j,onThumbPointerDown:on(o),children:c.jsx(ve.div,{...p,ref:_,style:{position:"absolute",...p.style},onPointerDown:te(n.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),w.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(D))}),onPointerMove:te(n.onPointerMove,P),onPointerUp:te(n.onPointerUp,D=>{const T=D.target;T.hasPointerCapture(D.pointerId)&&T.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),Z0="ScrollAreaThumb",Fz=v.forwardRef((n,e)=>{const{forceMount:t,...s}=n,r=Iz(Z0,n.__scopeScrollArea);return c.jsx(Gn,{present:t||r.hasThumb,children:c.jsx(woe,{ref:e,...s})})}),woe=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:s,...r}=n,i=vi(Z0,t),a=Iz(Z0,t),{onThumbPositionChange:o}=a,l=Ie(e,f=>a.onThumbChange(f)),d=v.useRef(void 0),h=$S(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(h(),!d.current){const m=Soe(f,o);d.current=m,o()}};return o(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,h,o]),c.jsx(ve.div,{"data-state":a.hasThumb?"visible":"hidden",...r,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:te(n.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,g=f.clientY-m.top;a.onThumbPointerDown({x:y,y:g})}),onPointerUp:te(n.onPointerUp,a.onThumbPointerUp)})});Fz.displayName=Z0;var rT="ScrollAreaCorner",$z=v.forwardRef((n,e)=>{const t=vi(rT,n.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?c.jsx(boe,{...n,ref:e}):null});$z.displayName=rT;var boe=v.forwardRef((n,e)=>{const{__scopeScrollArea:t,...s}=n,r=vi(rT,t),[i,a]=v.useState(0),[o,l]=v.useState(0),d=!!(i&&o);return Om(r.scrollbarX,()=>{var f;const h=((f=r.scrollbarX)==null?void 0:f.offsetHeight)||0;r.onCornerHeightChange(h),l(h)}),Om(r.scrollbarY,()=>{var f;const h=((f=r.scrollbarY)==null?void 0:f.offsetWidth)||0;r.onCornerWidthChange(h),a(h)}),d?c.jsx(ve.div,{...s,ref:e,style:{width:i,height:o,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function J0(n){return n?parseInt(n,10):0}function Bz(n,e){const t=n/e;return isNaN(t)?0:t}function FS(n){const e=Bz(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=(n.scrollbar.size-t)*e;return Math.max(s,18)}function _oe(n,e,t,s="ltr"){const r=FS(t),i=r/2,a=e||i,o=r-a,l=t.scrollbar.paddingStart+a,d=t.scrollbar.size-t.scrollbar.paddingEnd-o,h=t.content-t.viewport,f=s==="ltr"?[0,h]:[h*-1,0];return zz([l,d],f)(n)}function iD(n,e,t="ltr"){const s=FS(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-r,a=e.content-e.viewport,o=i-s,l=t==="ltr"?[0,a]:[a*-1,0],d=hA(n,l);return zz([0,a],[0,o])(d)}function zz(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(n[1]-n[0]);return e[0]+s*(t-n[0])}}function Uz(n,e){return n>0&&n<e}var Soe=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},s=0;return function r(){const i={left:n.scrollLeft,top:n.scrollTop},a=t.left!==i.left,o=t.top!==i.top;(a||o)&&e(),t=i,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function $S(n,e){const t=on(n),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,e)},[t,e])}function Om(n,e){const t=on(e);pn(()=>{let s=0;if(n){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return r.observe(n),()=>{window.cancelAnimationFrame(s),r.unobserve(n)}}},[n,t])}var Vz=Rz,Coe=Mz,koe=$z;const Hz=v.forwardRef(({className:n,children:e,...t},s)=>c.jsxs(Vz,{ref:s,className:Q("relative overflow-hidden",n),...t,children:[c.jsx(Coe,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(Wz,{}),c.jsx(koe,{})]}));Hz.displayName=Vz.displayName;const Wz=v.forwardRef(({className:n,orientation:e="vertical",...t},s)=>c.jsx(nT,{ref:s,orientation:e,className:Q("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:c.jsx(Fz,{className:"relative flex-1 rounded-full bg-border"})}));Wz.displayName=nT.displayName;var qz={exports:{}};(function(n,e){(function(t,s){s()})(rs,function(){function t(d,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function s(d,h,f){var p=new XMLHttpRequest;p.open("GET",d),p.responseType="blob",p.onload=function(){l(p.response,h,f)},p.onerror=function(){console.error("could not download file")},p.send()}function r(d){var h=new XMLHttpRequest;h.open("HEAD",d,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof rs=="object"&&rs.global===rs?rs:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(d,h,f){var p=a.URL||a.webkitURL,m=document.createElement("a");h=h||d.name||"download",m.download=h,m.rel="noopener",typeof d=="string"?(m.href=d,m.origin===location.origin?i(m):r(m.href)?s(d,h,f):i(m,m.target="_blank")):(m.href=p.createObjectURL(d),setTimeout(function(){p.revokeObjectURL(m.href)},4e4),setTimeout(function(){i(m)},0))}:"msSaveOrOpenBlob"in navigator?function(d,h,f){if(h=h||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,f),h);else if(r(d))s(d,h,f);else{var p=document.createElement("a");p.href=d,p.target="_blank",setTimeout(function(){i(p)})}}:function(d,h,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof d=="string")return s(d,h,f);var m=d.type==="application/octet-stream",y=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||m&&y||o)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var b=_.result;b=g?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=b:location=b,p=null},_.readAsDataURL(d)}else{var w=a.URL||a.webkitURL,x=w.createObjectURL(d);p?p.location=x:location.href=x,p=null,setTimeout(function(){w.revokeObjectURL(x)},4e4)}});a.saveAs=l.saveAs=l,n.exports=l})})(qz);var Eoe=qz.exports;const Aoe="https://api.groq.com/openai/v1/chat/completions",joe="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",sw=async n=>{var e,t;try{const s=await fetch(Aoe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${joe}`},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:n,temperature:.7,max_tokens:2e3})});if(!s.ok)throw new Error(`${s.status} ${s.statusText}`);return((t=(e=(await s.json()).choices[0])==null?void 0:e.message)==null?void 0:t.content)||"❌ Resposta vazia."}catch(s){return console.error(s),"❌ Erro ao processar solicitação."}},aD=async n=>{const t=await sw([{role:"system",content:"Você é um advogado experiente. Elabore uma petição inicial com base nas informações fornecidas. Use estrutura formal, com exposição de fatos, fundamento jurídico e pedido."},{role:"user",content:n}]),s=`peticao_${Date.now()}.txt`;return{content:t,document:{name:s,content:t}}},oD=async n=>{const t=await sw([{role:"system",content:"Você é um advogado trabalhista. Elabore um contrato de honorários advocatícios com base nas informações fornecidas."},{role:"user",content:n}]),s=`contrato_honorarios_${Date.now()}.txt`;return{content:t,document:{name:s,content:t}}},lD=async n=>{const t=await sw([{role:"system",content:"Você é um advogado. Elabore uma procuração judicial com base nas informações fornecidas."},{role:"user",content:n}]),s=`procuracao_${Date.now()}.txt`;return{content:t,document:{name:s,content:t}}},cD=async n=>({content:await sw([{role:"system",content:"Você é um assistente jurídico. Responda com base em jurisprudência, artigos de lei, súmulas e precedentes. Use linguagem técnica e cite fontes."},{role:"user",content:n}])}),Noe=n=>{const e=n.toLowerCase();return/(gerar|criar|elaborar|fazer|gere).*(petição|peti..o|inicial|defesa|recurso)/i.test(e)?{intention:"generate_petition",query:n}:/(gerar|criar|elaborar|fazer|gere).*(contrato|honorários|honorario)/i.test(e)?{intention:"generate_contract",query:n}:/(gerar|criar|elaborar|fazer|gere).*(procura..o|procuracao)/i.test(e)?{intention:"generate_proxy",query:n}:/(pesquisar|buscar|jurisprudência|sumula|artigo|lei|tese|precedente)/i.test(e)?{intention:"legal_research",query:n}:/(tarefas|tasks).*(hoje|dia|today)/i.test(e)?{intention:"today_tasks",query:""}:/(agendamentos|compromissos).*(hoje|dia|today)/i.test(e)?{intention:"today_appointments",query:""}:/(tarefas|tasks).*(pendentes|pendente)/i.test(e)?{intention:"pending_tasks",query:""}:/(cliente|clientes)/i.test(e)?{intention:"search_client",query:e.replace(/.*(cliente|clientes)/i,"").trim()}:/(documento|documentos)/i.test(e)?{intention:"search_documents",query:e.replace(/.*(documento|documentos)/i,"").trim()}:{intention:"general_question",query:n}},Ww=async n=>{let e=n;const t=n.match(/cliente\s+([a-zÀ-ú]+)/i);if(t){const s=t[1],{data:r}=await ai.from("law_clients").select("*").ilike("name",`%${s}%`).single();if(r){e+=`

📌 Dados do Cliente:
Nome: ${r.name}
CPF/CNPJ: ${r.document_number}
Email: ${r.email}
Telefone: ${r.phone}`;const{data:i}=await ai.from("law_cases").select("*").or(`client_id.eq.${r.id},involved_clients.cs.{${r.id}}`);i!=null&&i.length&&(e+=`

📂 Casos relacionados:
${i.map(o=>`• ${o.title} (${o.status}) - Nº ${o.case_number}`).join(`
`)}`);const{data:a}=await ai.from("law_documents").select("*").or(`client_id.eq.${r.id},related_clients.cs.{${r.id}}`).limit(5);a!=null&&a.length&&(e+=`

📄 Documentos vinculados:
${a.map(o=>`• ${o.name} (${o.status})`).join(`
`)}`)}}return e};function Toe(){const[n,e]=v.useState([{id:"1",content:`👋 Olá! Sou o Spector, seu assistente jurídico inteligente. Posso ajudá-lo com:

• 📄 **Gerar petições, contratos e procurações**
• 🔍 **Pesquisar jurisprudência e artigos**
• 📋 **Tarefas e compromissos de hoje**
• 👥 **Buscar clientes e documentos**

Como posso ajudá-lo hoje?`,sender:"ai",timestamp:new Date().toISOString(),suggestions:["Elaborar petição inicial","Criar contrato de honorários","Gerar procuração","Pesquisar jurisprudência sobre honorários","Minhas tarefas de hoje"]}]),[t,s]=v.useState(""),[r,i]=v.useState(!1),[a,o]=v.useState("checking"),[l,d]=v.useState(!1),h=v.useRef(null);v.useEffect(()=>{(async()=>{const{error:_}=await ai.from("law_clients").select("id").limit(1);o(_?"error":"connected")})()},[]),v.useEffect(()=>{setTimeout(()=>{var g;return(g=h.current)==null?void 0:g.scrollIntoView({behavior:"smooth"})},100)},[n]);const f=async()=>{if(!t.trim()||r)return;const g={id:Date.now().toString(),content:t,sender:"user",timestamp:new Date().toISOString()};e(b=>[...b,g]),s(""),i(!0);const{intention:_,query:w}=Noe(t);let x={content:""};try{switch(_){case"generate_petition":{const S=await Ww(w);x=await aD(S);break}case"generate_contract":{const S=await Ww(w);x=await oD(S);break}case"generate_proxy":{const S=await Ww(w);x=await lD(S);break}case"legal_research":{const S=await Ww(w);x=await cD(S);break}case"generate_petition":x=await aD(w);break;case"generate_contract":x=await oD(w);break;case"generate_proxy":x=await lD(w);break;case"legal_research":x=await cD(w);break;case"today_tasks":{const S=new Date().toISOString().split("T")[0],{data:k}=await ai.from("law_tasks").select("*").eq("due_date",S);x.content=k!=null&&k.length?`📋 Tarefas de hoje:
${k.map(j=>`• ${j.title} (${j.status})`).join(`
`)}`:"🎉 Nenhuma tarefa para hoje!";break}case"today_appointments":{const S=new Date().toISOString().split("T")[0],{data:k}=await ai.from("law_appointments").select("*").eq("appointment_date",S);x.content=k!=null&&k.length?`📅 Compromissos de hoje:
${k.map(j=>`• ${j.title} às ${j.start_time}`).join(`
`)}`:"📅 Nenhum compromisso hoje!";break}case"pending_tasks":{const{data:S}=await ai.from("law_tasks").select("*").eq("status","pending");x.content=S!=null&&S.length?`⏳ Tarefas pendentes:
${S.map(k=>`• ${k.title}`).join(`
`)}`:"✅ Nenhuma tarefa pendente!";break}case"search_client":{const{data:S}=await ai.from("law_clients").select("*").ilike("name",`%${w}%`).limit(5);x.content=S!=null&&S.length?`👥 Clientes encontrados:
${S.map(k=>`• ${k.name} (${k.email})
 (${k.phone})
(${k.document_number})`).join(`
`)}`:"❌ Nenhum cliente encontrado.";break}case"search_documents":{const{data:S}=await ai.from("law_documents").select("*").or(`name.ilike.%${w}%,description.ilike.%${w}%`).limit(5);x.content=S!=null&&S.length?`📄 Documentos encontrados:
${S.map(k=>`• ${k.name} (${k.status})`).join(`
`)}`:"❌ Nenhum documento encontrado.";break}default:x.content=await sw([{role:"system",content:"Você é o Spector, assistente jurídico útil e formal."},{role:"user",content:w}])}const b={id:(Date.now()+1).toString(),content:x.content,sender:"ai",timestamp:new Date().toISOString(),document:x.document,suggestions:["Elaborar petição inicial","Criar contrato de honorários","Gerar procuração","Pesquisar jurisprudência","Minhas tarefas de hoje"]};e(S=>[...S,b])}catch(b){console.error(b),e(S=>[...S,{id:(Date.now()+1).toString(),content:"❌ Erro ao processar solicitação.",sender:"ai",timestamp:new Date().toISOString()}])}finally{i(!1)}},p=g=>{s(g),setTimeout(()=>f(),100)},m=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),f())},y=g=>{const _=new Blob([g.content],{type:"text/plain;charset=utf-8"});Eoe.saveAs(_,g.name)};return c.jsxs(ir,{title:"Spector IA",breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Spector IA"}],children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Spector IA"}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Seu assistente jurídico inteligente"})]}),c.jsx(be,{variant:"outline",size:"icon",className:"sm:hidden h-9 w-9",onClick:()=>d(!l),children:l?c.jsx(bm,{className:"h-4 w-4"}):c.jsx(oH,{className:"h-4 w-4"})})]}),c.jsx(jt,{variant:"outline",className:a==="connected"?"bg-green-100 text-green-800 border-green-200 hidden sm:flex":"bg-red-100 text-red-800 border-red-200 hidden sm:flex",children:a==="connected"?c.jsxs(c.Fragment,{children:[c.jsx(mH,{className:"mr-1 h-3 w-3"}),"Conectado"]}):c.jsxs(c.Fragment,{children:[c.jsx(pI,{className:"mr-1 h-3 w-3"}),"Erro"]})})]}),c.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-4 gap-4 relative h-[calc(100vh-180px)] sm:h-[calc(100vh-200px)]",children:[c.jsx("div",{className:"lg:col-span-3 flex flex-col h-full",children:c.jsxs(Ce,{className:"flex flex-col h-full",children:[c.jsx(Oe,{className:"border-b p-3 sm:p-4",children:c.jsxs(Ke,{className:"flex items-center gap-2 text-base sm:text-lg",children:[c.jsx(Cw,{className:"h-5 w-5 text-primary"}),"Spector - Assistente Jurídico"]})}),c.jsxs(Ee,{className:"flex-1 flex flex-col p-0 h-full",children:[c.jsx(Hz,{className:"flex-1 p-3 sm:p-4",children:c.jsxs("div",{className:"space-y-3",children:[n.map(g=>c.jsx("div",{className:`flex ${g.sender==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`flex items-start space-x-2 max-w-[90%] sm:max-w-[75%] ${g.sender==="user"?"flex-row-reverse space-x-reverse":""}`,children:[c.jsx(Em,{className:"h-8 w-8 flex-shrink-0",children:g.sender==="ai"?c.jsx(hh,{className:"bg-primary text-primary-foreground",children:c.jsx(Cw,{className:"h-4 w-4"})}):c.jsx(hh,{children:c.jsx(Xa,{className:"h-4 w-4"})})}),c.jsxs("div",{className:`rounded-lg p-3 ${g.sender==="user"?"bg-primary text-primary-foreground":"bg-secondary"}`,children:[c.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:g.content}),g.document&&c.jsxs(be,{size:"sm",variant:"outline",className:"mt-2 text-xs",onClick:()=>y(g.document),children:[c.jsx(Pj,{className:"h-3 w-3 mr-1"})," Baixar documento"]}),c.jsxs("div",{className:"flex items-center mt-1 opacity-70",children:[c.jsx(xm,{className:"h-3 w-3 mr-1"}),c.jsx("span",{className:"text-xs",children:new Date(g.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})]})},g.id)),r&&c.jsx("div",{className:"flex justify-start",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(Em,{className:"h-8 w-8",children:c.jsx(hh,{className:"bg-primary text-primary-foreground",children:c.jsx(Cw,{className:"h-4 w-4"})})}),c.jsx("div",{className:"rounded-lg p-3 bg-secondary",children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),c.jsx("div",{ref:h})]})}),c.jsx("div",{className:"border-t p-3 bg-background",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ue,{value:t,onChange:g=>s(g.target.value),onKeyPress:m,placeholder:"Digite sua pergunta...",className:"pr-16",disabled:r}),c.jsxs("div",{className:"absolute right-1 top-1 flex space-x-1",children:[c.jsx(be,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",children:c.jsx(uH,{className:"h-3 w-3"})}),c.jsx(be,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",children:c.jsx(cH,{className:"h-3 w-3"})})]})]}),c.jsx(be,{onClick:f,size:"sm",disabled:r,className:"h-10",children:r?c.jsx(jx,{className:"h-4 w-4 animate-spin"}):c.jsx(fH,{className:"h-4 w-4"})})]})})]})]})}),c.jsxs("div",{className:`lg:static fixed lg:z-0 z-20 inset-0 lg:inset-auto bg-background lg:bg-transparent transition-transform duration-300 ease-in-out ${l?"translate-x-0":"translate-x-full"} lg:translate-x-0 lg:block h-full`,children:[c.jsxs("div",{className:"flex justify-between items-center lg:hidden p-4 border-b sticky top-0 bg-background",children:[c.jsx("h3",{className:"font-semibold",children:"Menu"}),c.jsx(be,{variant:"ghost",size:"icon",onClick:()=>d(!1),className:"h-9 w-9",children:c.jsx(bm,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"p-4 lg:p-0 h-[calc(100%-64px)] lg:h-full overflow-y-auto",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{className:"p-4 pb-2",children:c.jsx(Ke,{className:"text-base",children:"Funcionalidades"})}),c.jsx(Ee,{className:"space-y-3 p-4 pt-0",children:[{icon:c.jsx(yh,{className:"h-4 w-4 text-primary"}),title:"Gerar Petições",desc:"Elabore peças jurídicas"},{icon:c.jsx(h0,{className:"h-4 w-4 text-primary"}),title:"Contratos",desc:"Honorários e parcerias"},{icon:c.jsx(Xa,{className:"h-4 w-4 text-primary"}),title:"Procurações",desc:"Poderes e representação"},{icon:c.jsx(Cw,{className:"h-4 w-4 text-primary"}),title:"Pesquisa Jurídica",desc:"Jurisprudência e artigos"}].map((g,_)=>c.jsxs("div",{className:"space-y-2 flex items-center gap-2",children:[g.icon,c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold",children:g.title}),c.jsx("p",{className:"text-xs text-muted-foreground",children:g.desc})]})]},_))})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{className:"p-4 pb-2",children:c.jsx(Ke,{className:"text-base",children:"Sugestões Rápidas"})}),c.jsx(Ee,{className:"space-y-2 p-4 pt-0",children:["Elaborar petição inicial","Criar contrato de honorários","Gerar procuração","Pesquisar jurisprudência sobre honorários","Minhas tarefas de hoje"].map((g,_)=>c.jsx(be,{variant:"ghost",size:"sm",className:"w-full justify-start text-xs h-8",onClick:()=>{p(g),d(!1)},children:g},_))})]})]})})]}),l&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-10 lg:hidden",onClick:()=>d(!1)})]})]})}var iT="Progress",aT=100,[Poe,Cle]=cs(iT),[Roe,Doe]=Poe(iT),Gz=v.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:r,getValueLabel:i=Moe,...a}=n;(r||r===0)&&!dD(r)&&console.error(Ooe(`${r}`,"Progress"));const o=dD(r)?r:aT;s!==null&&!uD(s,o)&&console.error(Ioe(`${s}`,"Progress"));const l=uD(s,o)?s:null,d=e_(l)?i(l,o):void 0;return c.jsx(Roe,{scope:t,value:l,max:o,children:c.jsx(ve.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":e_(l)?l:void 0,"aria-valuetext":d,role:"progressbar","data-state":Xz(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});Gz.displayName=iT;var Yz="ProgressIndicator",Kz=v.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,r=Doe(Yz,t);return c.jsx(ve.div,{"data-state":Xz(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});Kz.displayName=Yz;function Moe(n,e){return`${Math.round(n/e*100)}%`}function Xz(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function e_(n){return typeof n=="number"}function dD(n){return e_(n)&&!isNaN(n)&&n>0}function uD(n,e){return e_(n)&&!isNaN(n)&&n<=e&&n>=0}function Ooe(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${aT}\`.`}function Ioe(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${aT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Qz=Gz,Loe=Kz;const oT=v.forwardRef(({className:n,value:e,...t},s)=>c.jsx(Qz,{ref:s,className:Q("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:c.jsx(Loe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));oT.displayName=Qz.displayName;var BS="Checkbox",[Foe,kle]=cs(BS),[$oe,lT]=Foe(BS);function Boe(n){const{__scopeCheckbox:e,checked:t,children:s,defaultChecked:r,disabled:i,form:a,name:o,onCheckedChange:l,required:d,value:h="on",internal_do_not_use_render:f}=n,[p,m]=Qi({prop:t,defaultProp:r??!1,onChange:l,caller:BS}),[y,g]=v.useState(null),[_,w]=v.useState(null),x=v.useRef(!1),b=y?!!a||!!y.closest("form"):!0,S={checked:p,disabled:i,setChecked:m,control:y,setControl:g,name:o,form:a,value:h,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:id(r)?!1:r,isFormControl:b,bubbleInput:_,setBubbleInput:w};return c.jsx($oe,{scope:e,...S,children:zoe(f)?f(S):s})}var Zz="CheckboxTrigger",Jz=v.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...s},r)=>{const{control:i,value:a,disabled:o,checked:l,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:y}=lT(Zz,n),g=Ie(r,h),_=v.useRef(l);return v.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const x=()=>f(_.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[i,f]),c.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":id(l)?"mixed":l,"aria-required":d,"data-state":rU(l),"data-disabled":o?"":void 0,disabled:o,value:a,...s,ref:g,onKeyDown:te(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:te(t,w=>{f(x=>id(x)?!0:!x),y&&m&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});Jz.displayName=Zz;var cT=v.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:s,checked:r,defaultChecked:i,required:a,disabled:o,value:l,onCheckedChange:d,form:h,...f}=n;return c.jsx(Boe,{__scopeCheckbox:t,checked:r,defaultChecked:i,disabled:o,required:a,onCheckedChange:d,name:s,form:h,value:l,internal_do_not_use_render:({isFormControl:p})=>c.jsxs(c.Fragment,{children:[c.jsx(Jz,{...f,ref:e,__scopeCheckbox:t}),p&&c.jsx(sU,{__scopeCheckbox:t})]})})});cT.displayName=BS;var eU="CheckboxIndicator",tU=v.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:s,...r}=n,i=lT(eU,t);return c.jsx(Gn,{present:s||id(i.checked)||i.checked===!0,children:c.jsx(ve.span,{"data-state":rU(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...n.style}})})});tU.displayName=eU;var nU="CheckboxBubbleInput",sU=v.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:a,required:o,disabled:l,name:d,value:h,form:f,bubbleInput:p,setBubbleInput:m}=lT(nU,n),y=Ie(t,m),g=FN(i),_=Bj(s);v.useEffect(()=>{const x=p;if(!x)return;const b=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(b,"checked").set,j=!r.current;if(g!==i&&k){const N=new Event("click",{bubbles:j});x.indeterminate=id(i),k.call(x,id(i)?!1:i),x.dispatchEvent(N)}},[p,g,i,r]);const w=v.useRef(id(i)?!1:i);return c.jsx(ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:o,disabled:l,name:d,value:h,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});sU.displayName=nU;function zoe(n){return typeof n=="function"}function id(n){return n==="indeterminate"}function rU(n){return id(n)?"indeterminate":n?"checked":"unchecked"}const EA=v.forwardRef(({className:n,...e},t)=>c.jsx(cT,{ref:t,className:Q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:c.jsx(tU,{className:Q("flex items-center justify-center text-current"),children:c.jsx(jj,{className:"h-4 w-4"})})}));EA.displayName=cT.displayName;function hD({open:n,onOpenChange:e,onTaskCreated:t,editingTask:s}){const[r,i]=v.useState(!1),[a,o]=v.useState([]),[l,d]=v.useState([]),[h,f]=v.useState([]),[p,m]=v.useState({title:"",description:"",case_id:"none",client_id:"none",assigned_to:"none",priority:"medium",status:"pending",due_date:new Date().toISOString().split("T")[0],category:"",notes:""}),{toast:y}=or();v.useEffect(()=>{n&&(_(),s?m({title:s.title||"",description:s.description||"",case_id:s.case_id||"none",client_id:s.client_id||"none",assigned_to:s.assigned_to||"none",priority:s.priority||"medium",status:s.status||"pending",due_date:s.due_date?new Date(s.due_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],category:s.category||"",notes:s.notes||""}):g())},[n,s]);const g=()=>{m({title:"",description:"",case_id:"none",client_id:"none",assigned_to:"none",priority:"medium",status:"pending",due_date:new Date().toISOString().split("T")[0],category:"",notes:""})},_=async()=>{try{const[S,k]=await Promise.all([Ve.getClients(),Ve.getCases()]);o(S||[]),d(k||[]);try{const j=await Ve.getProfiles();f(j||[])}catch(j){console.warn("Não foi possível carregar perfis:",j),f([])}}catch(S){console.error("Failed to fetch clients/cases:",S),y({title:"Erro",description:"Não foi possível carregar clientes ou casos.",variant:"destructive"})}},w=async S=>{S.preventDefault(),i(!0);try{const k={title:p.title,description:p.description||null,case_id:p.case_id==="none"?null:p.case_id,client_id:p.client_id==="none"?null:p.client_id,assigned_to:p.assigned_to==="none"?null:p.assigned_to,priority:p.priority,status:p.status,category:p.category||null,notes:p.notes||null,updated_at:new Date().toISOString()};p.due_date&&(k.due_date=new Date(p.due_date).toISOString()),s?(await Ve.updateTask(s.id,k),y({title:"Sucesso",description:"Tarefa atualizada com sucesso!"})):(await Ve.createTask(k),y({title:"Sucesso",description:"Tarefa criada com sucesso!"})),t(),e(!1),g()}catch(k){console.error("Failed to save task:",k),y({title:"Erro",description:(k==null?void 0:k.message)||"Erro ao salvar tarefa. Tente novamente.",variant:"destructive"})}finally{i(!1)}},x=S=>{const{name:k,value:j}=S.target;m(N=>({...N,[k]:j}))},b=(S,k)=>{m(j=>({...j,[S]:k}))};return c.jsx(Ch,{open:n,onOpenChange:e,children:c.jsxs(pd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(md,{children:[c.jsx(gd,{children:s?"Editar Tarefa":"Nova Tarefa"}),c.jsx(_S,{children:s?"Edite os detalhes da tarefa":"Preencha os detalhes da nova tarefa"})]}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"title",children:"Título *"}),c.jsx(Ue,{id:"title",name:"title",value:p.title,onChange:x,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"priority",children:"Prioridade *"}),c.jsxs(xt,{value:p.priority,onValueChange:S=>b("priority",S),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione a prioridade"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"low",children:"Baixa"}),c.jsx(Y,{value:"medium",children:"Média"}),c.jsx(Y,{value:"high",children:"Alta"}),c.jsx(Y,{value:"urgent",children:"Urgente"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"description",children:"Descrição"}),c.jsx(Ja,{id:"description",name:"description",value:p.description,onChange:x,rows:3})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"assigned_to",children:"Responsável"}),c.jsxs(xt,{value:p.assigned_to,onValueChange:S=>b("assigned_to",S),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione um responsável"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"none",children:"Nenhum"}),h.map(S=>c.jsx(Y,{value:S.user_id||S.id,children:S.full_name||"Usuário sem nome"},S.user_id||S.id))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"client_id",children:"Cliente"}),c.jsxs(xt,{value:p.client_id,onValueChange:S=>b("client_id",S),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione um cliente"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"none",children:"Nenhum cliente"}),a.map(S=>c.jsx(Y,{value:S.id,children:S.name},S.id))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"case_id",children:"Caso"}),c.jsxs(xt,{value:p.case_id,onValueChange:S=>b("case_id",S),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione um caso"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"none",children:"Nenhum caso"}),l.map(S=>c.jsxs(Y,{value:S.id,children:[S.title," - ",S.case_number]},S.id))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"status",children:"Status *"}),c.jsxs(xt,{value:p.status,onValueChange:S=>b("status",S),children:[c.jsx(ht,{children:c.jsx(wt,{placeholder:"Selecione o status"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"pending",children:"Pendente"}),c.jsx(Y,{value:"in_progress",children:"Em Andamento"}),c.jsx(Y,{value:"completed",children:"Concluída"}),c.jsx(Y,{value:"cancelled",children:"Cancelada"})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"due_date",children:"Data de Vencimento"}),c.jsx(Ue,{id:"due_date",name:"due_date",type:"date",value:p.due_date,onChange:x})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"category",children:"Categoria"}),c.jsx(Ue,{id:"category",name:"category",value:p.category,onChange:x})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"notes",children:"Notas"}),c.jsx(Ja,{id:"notes",name:"notes",value:p.notes,onChange:x,rows:3})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(be,{type:"button",variant:"outline",onClick:()=>{e(!1),g()},children:"Cancelar"}),c.jsx(be,{type:"submit",disabled:r,children:r?"Salvando...":s?"Atualizar":"Criar Tarefa"})]})]})]})})}function Uoe(){const[n,e]=v.useState([]),[t,s]=v.useState({}),[r,i]=v.useState(""),[a,o]=v.useState("all"),[l,d]=v.useState("all"),[h,f]=v.useState(!1),[p,m]=v.useState(!1),[y,g]=v.useState(null),{toast:_}=or();v.useEffect(()=>{w()},[]);const w=async()=>{try{f(!0);const T=await Ve.getTasks();e(T||[]);try{const F=await Ve.getProfiles(),M={};F.forEach(U=>{const R=U.user_id||U.id;R&&(M[R]=U.full_name||"Usuário sem nome")}),s(M)}catch(F){console.warn("Não foi possível carregar perfis:",F),s({})}}catch(T){console.error("Erro ao carregar tarefas:",T),_({title:"Erro",description:"Não foi possível carregar as tarefas.",variant:"destructive"})}finally{f(!1)}},x=n.filter(T=>{var R;const F=((R=T.title)==null?void 0:R.toLowerCase().includes(r.toLowerCase()))||(T.description||"").toLowerCase().includes(r.toLowerCase()),M=a==="all"||T.status===a,U=l==="all"||T.priority===l;return F&&M&&U}),b=T=>{switch(T){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-orange-100 text-orange-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=T=>{switch(T){case"completed":return"Concluída";case"in_progress":return"Em Andamento";case"pending":return"Pendente";case"cancelled":return"Cancelada";default:return T||"Desconhecido"}},k=T=>{switch(T){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},j=T=>{switch(T){case"urgent":return"Urgente";case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return T||"Desconhecida"}},N={total:n.length,completed:n.filter(T=>T.status==="completed").length,inProgress:n.filter(T=>T.status==="in_progress").length,pending:n.filter(T=>T.status==="pending").length},P=N.total>0?N.completed/N.total*100:0,D=async T=>{try{const F=T.status==="completed"?"pending":"completed";await Ve.updateTask(T.id,{status:F,completed_date:F==="completed"?new Date().toISOString():null}),await w()}catch(F){console.error("Erro ao atualizar tarefa:",F),_({title:"Erro",description:"Não foi possível atualizar a tarefa.",variant:"destructive"})}};return c.jsxs(c.Fragment,{children:[c.jsxs(ir,{breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Tarefas"}],children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Tarefas"}),c.jsxs(be,{className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",onClick:()=>{g(null),m(!0),console.log("TaskForm component:",hD)},children:[c.jsx(bv,{className:"mr-2 h-4 w-4"}),"Nova Tarefa"]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mt-6",children:[c.jsx(Ce,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:c.jsx(Ee,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total"}),c.jsx("p",{className:"text-2xl font-bold text-blue-900",children:N.total})]}),c.jsx(xm,{className:"h-6 w-6 text-blue-600"})]})})}),c.jsx(Ce,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:c.jsx(Ee,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-green-800",children:"Concluídas"}),c.jsx("p",{className:"text-2xl font-bold text-green-900",children:N.completed})]}),c.jsx(EA,{checked:!0,className:"h-5 w-5 text-green-600"})]})})}),c.jsx(Ce,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:c.jsx(Ee,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Pendentes"}),c.jsx("p",{className:"text-2xl font-bold text-orange-900",children:N.pending})]}),c.jsx(xm,{className:"h-6 w-6 text-orange-600"})]})})}),c.jsx(Ce,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:c.jsx(Ee,{className:"p-6",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Taxa de Conclusão"}),c.jsxs("p",{className:"text-sm font-bold text-purple-900",children:[P.toFixed(0),"%"]})]}),c.jsx(oT,{value:P,className:"h-2 bg-purple-200"})]})})})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-6 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border px-3 py-2 flex-1 max-w-md",children:[c.jsx(_v,{className:"h-4 w-4 text-gray-400"}),c.jsx(Ue,{placeholder:"Buscar tarefas...",value:r,onChange:T=>i(T.target.value),className:"border-0 p-0 h-8 focus-visible:ring-0"})]}),c.jsxs(xt,{value:a,onValueChange:o,children:[c.jsx(ht,{className:"w-40 bg-white",children:c.jsx(wt,{placeholder:"Status"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"all",children:"Todos Status"}),c.jsx(Y,{value:"pending",children:"Pendente"}),c.jsx(Y,{value:"in_progress",children:"Em Andamento"}),c.jsx(Y,{value:"completed",children:"Concluída"}),c.jsx(Y,{value:"cancelled",children:"Cancelada"})]})]}),c.jsxs(xt,{value:l,onValueChange:d,children:[c.jsx(ht,{className:"w-40 bg-white",children:c.jsx(wt,{placeholder:"Prioridade"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"all",children:"Todas Prioridades"}),c.jsx(Y,{value:"low",children:"Baixa"}),c.jsx(Y,{value:"medium",children:"Média"}),c.jsx(Y,{value:"high",children:"Alta"}),c.jsx(Y,{value:"urgent",children:"Urgente"})]})]})]}),c.jsx("div",{className:"space-y-4 mt-6",children:x.map(T=>c.jsx(Ce,{className:"hover:shadow-lg transition-all duration-200 border-0 bg-gradient-to-r from-white to-gray-50",children:c.jsx(Ee,{className:"p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[c.jsx(EA,{checked:T.status==="completed",onCheckedChange:()=>D(T),className:"mt-1 data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),c.jsxs("div",{className:"space-y-2 flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("h3",{className:`font-semibold ${T.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:T.title}),c.jsx(jt,{className:b(T.status),children:S(T.status)}),c.jsx(jt,{variant:"outline",className:k(T.priority),children:j(T.priority)})]}),T.description&&c.jsx("p",{className:"text-sm text-gray-600",children:T.description}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 flex-wrap",children:[T.assigned_to&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Xa,{className:"h-4 w-4"}),c.jsx("span",{children:t[T.assigned_to]||"Responsável"})]}),T.due_date&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ki,{className:"h-4 w-4"}),c.jsxs("span",{children:["Prazo: ",new Date(T.due_date).toLocaleDateString("pt-BR")]})]}),T.category&&c.jsx("div",{className:"flex items-center gap-1",children:c.jsxs("span",{children:["Categoria: ",T.category]})})]})]})]}),c.jsx(be,{variant:"outline",size:"sm",onClick:()=>{g(T),m(!0)},children:c.jsx(B_,{className:"h-4 w-4"})})]})})},T.id))}),x.length===0&&!h&&c.jsx("div",{className:"text-center py-12",children:c.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg p-8 max-w-md mx-auto",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(_v,{className:"h-8 w-8 text-gray-500"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Nenhuma tarefa encontrada"}),c.jsx("p",{className:"text-gray-500",children:r||a!=="all"||l!=="all"?"Tente ajustar os filtros de busca.":"Comece criando sua primeira tarefa!"})]})})]}),c.jsx(hD,{open:p,onOpenChange:m,onTaskCreated:w,editingTask:y})]})}const fD=[{id:"1",name:"Maria Silva",email:"maria.silva@email.com",phone:"(11) 99999-9999",company:"Silva Ltda",status:"active",createdAt:"2024-01-15"},{id:"2",name:"João Santos",email:"joao.santos@email.com",phone:"(11) 88888-8888",status:"active",createdAt:"2024-02-10"},{id:"3",name:"Ana Costa",email:"ana.costa@email.com",phone:"(11) 77777-7777",company:"Costa Corp",status:"potential",createdAt:"2024-02-20"}],Id=[{id:"1",title:"Revisão Contratual - Silva Ltda",clientId:"1",clientName:"Maria Silva",status:"open",priority:"high",area:"Direito Empresarial",description:"Revisão completa dos contratos de fornecimento",createdAt:"2024-02-01",deadline:"2024-03-15",value:15e3},{id:"2",title:"Processo Trabalhista",clientId:"2",clientName:"João Santos",status:"pending",priority:"medium",area:"Direito Trabalhista",description:"Ação contra demissão sem justa causa",createdAt:"2024-02-15",deadline:"2024-04-01",value:8e3}],qw=[{id:"1",name:"Contrato de Prestação de Serviços.pdf",type:"PDF",caseId:"1",clientId:"1",size:2048e3,createdAt:"2024-02-10",encrypted:!0,status:"review"},{id:"2",name:"Petição Inicial.docx",type:"DOCX",caseId:"2",clientId:"2",size:1024e3,createdAt:"2024-02-18",encrypted:!0,status:"draft"}],pD=[{id:"1",title:"Revisar documentos do caso Silva",description:"Analisar os contratos enviados pelo cliente",status:"in_progress",priority:"high",assignee:"Dr. Carlos",dueDate:"2024-02-25",caseId:"1"},{id:"2",title:"Preparar petição inicial",description:"Redigir petição para processo trabalhista",status:"pending",priority:"medium",assignee:"Dra. Ana",dueDate:"2024-02-28",caseId:"2"}];function Voe(){const[n,e]=v.useState("month"),t=Id.length,s=Id.filter(p=>p.status==="open").length,r=fD.length,i=fD.filter(p=>p.status==="active").length,a=pD.filter(p=>p.status==="completed").length,o=pD.length,d=[{title:"Receita Total",value:`R$ ${Id.reduce((p,m)=>p+(m.value||0),0).toLocaleString("pt-BR")}`,change:"+12.5%",isPositive:!0,icon:Tj,description:"vs. período anterior"},{title:"Casos Ativos",value:s,change:"+8.2%",isPositive:!0,icon:cd,description:`${t} casos totais`},{title:"Clientes Ativos",value:i,change:"+15.3%",isPositive:!0,icon:Sv,description:`${r} clientes totais`},{title:"Taxa de Conclusão",value:`${Math.round(a/o*100)}%`,change:"+5.7%",isPositive:!0,icon:ik,description:`${a}/${o} tarefas`}],h=[{area:"Direito Empresarial",count:5,percentage:45},{area:"Direito Trabalhista",count:3,percentage:27},{area:"Direito Civil",count:2,percentage:18},{area:"Direito Tributário",count:1,percentage:10}],f=[{month:"Jan",cases:8,revenue:45e3},{month:"Fev",cases:12,revenue:67e3},{month:"Mar",cases:15,revenue:89e3},{month:"Abr",cases:10,revenue:52e3},{month:"Mai",cases:18,revenue:142e3}];return c.jsxs(ir,{breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Relatórios"}],children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Relatórios"}),c.jsx("p",{className:"text-muted-foreground",children:"Análise completa do desempenho do escritório"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(xt,{value:n,onValueChange:e,children:[c.jsx(ht,{className:"w-40",children:c.jsx(wt,{})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"week",children:"Última Semana"}),c.jsx(Y,{value:"month",children:"Último Mês"}),c.jsx(Y,{value:"quarter",children:"Último Trimestre"}),c.jsx(Y,{value:"year",children:"Último Ano"})]})]}),c.jsxs(be,{variant:"outline",children:[c.jsx(Pj,{className:"mr-2 h-4 w-4"}),"Exportar"]})]})]}),c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:d.map(p=>c.jsxs(Ce,{children:[c.jsxs(Oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Ke,{className:"text-sm font-medium",children:p.title}),c.jsx(p.icon,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ee,{children:[c.jsx("div",{className:"text-2xl font-bold",children:p.value}),c.jsxs("div",{className:"flex items-center mt-2",children:[c.jsx("span",{className:`text-xs font-medium ${p.isPositive?"text-success":"text-destructive"}`,children:p.change}),c.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:p.description})]})]})]},p.title))}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2",children:[c.jsx(ik,{className:"h-5 w-5"}),"Casos por Área do Direito"]})}),c.jsx(Ee,{className:"space-y-4",children:h.map(p=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:p.area}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-muted-foreground",children:[p.count," casos"]}),c.jsxs(jt,{variant:"outline",children:[p.percentage,"%"]})]})]}),c.jsx(oT,{value:p.percentage,className:"h-2"})]},p.area))})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2",children:[c.jsx(gH,{className:"h-5 w-5"}),"Performance Mensal"]})}),c.jsx(Ee,{children:c.jsx("div",{className:"space-y-4",children:f.map(p=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"font-medium",children:p.month}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.cases," casos"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold",children:["R$ ",p.revenue.toLocaleString("pt-BR")]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"receita"})]})]},p.month))})})]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2",children:[c.jsx(Sv,{className:"h-5 w-5"}),"Status dos Clientes"]})}),c.jsxs(Ee,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Ativos"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),c.jsx("span",{className:"font-medium",children:i})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Potenciais"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-warning rounded-full"}),c.jsx("span",{className:"font-medium",children:"1"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Inativos"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-muted rounded-full"}),c.jsx("span",{className:"font-medium",children:"0"})]})]})]})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2",children:[c.jsx(cd,{className:"h-5 w-5"}),"Status dos Casos"]})}),c.jsxs(Ee,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Ativos"}),c.jsx(jt,{className:"bg-success/10 text-success",children:Id.filter(p=>p.status==="open").length})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Pendentes"}),c.jsx(jt,{className:"bg-warning/10 text-warning",children:Id.filter(p=>p.status==="pending").length})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Em Revisão"}),c.jsx(jt,{className:"bg-primary/10 text-primary",children:Id.filter(p=>p.status==="reviewing").length})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm",children:"Fechados"}),c.jsx(jt,{className:"bg-muted text-muted-foreground",children:Id.filter(p=>p.status==="closed").length})]})]})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2",children:[c.jsx(yh,{className:"h-5 w-5"}),"Documentos"]})}),c.jsxs(Ee,{className:"space-y-4",children:[c.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold",children:qw.length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total de Documentos"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{children:"Aprovados"}),c.jsx("span",{children:qw.filter(p=>p.status==="approved").length})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{children:"Em Revisão"}),c.jsx("span",{children:qw.filter(p=>p.status==="review").length})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{children:"Rascunhos"}),c.jsx("span",{children:qw.filter(p=>p.status==="draft").length})]})]})]})]})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2",children:[c.jsx(Ki,{className:"h-5 w-5"}),"Ações Recomendadas"]})}),c.jsx(Ee,{children:c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"p-4 border-l-4 border-warning bg-warning/5 rounded",children:[c.jsx("h4",{className:"font-semibold text-warning",children:"Atenção Necessária"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"3 casos com prazos vencendo em menos de 7 dias"}),c.jsx(be,{variant:"outline",size:"sm",className:"mt-2",children:"Ver Detalhes"})]}),c.jsxs("div",{className:"p-4 border-l-4 border-success bg-success/5 rounded",children:[c.jsx("h4",{className:"font-semibold text-success",children:"Oportunidade"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"2 clientes potenciais aguardando contato há mais de 5 dias"}),c.jsx(be,{variant:"outline",size:"sm",className:"mt-2",children:"Entrar em Contato"})]})]})})]})]})}var zS="Switch",[Hoe,Ele]=cs(zS),[Woe,qoe]=Hoe(zS),iU=v.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:r,defaultChecked:i,required:a,disabled:o,value:l="on",onCheckedChange:d,form:h,...f}=n,[p,m]=v.useState(null),y=Ie(e,b=>m(b)),g=v.useRef(!1),_=p?h||!!p.closest("form"):!0,[w,x]=Qi({prop:r,defaultProp:i??!1,onChange:d,caller:zS});return c.jsxs(Woe,{scope:t,checked:w,disabled:o,children:[c.jsx(ve.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":cU(w),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:y,onClick:te(n.onClick,b=>{x(S=>!S),_&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),_&&c.jsx(lU,{control:p,bubbles:!g.current,name:s,value:l,checked:w,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});iU.displayName=zS;var aU="SwitchThumb",oU=v.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,r=qoe(aU,t);return c.jsx(ve.span,{"data-state":cU(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});oU.displayName=aU;var Goe="SwitchBubbleInput",lU=v.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...r},i)=>{const a=v.useRef(null),o=Ie(a,i),l=FN(t),d=Bj(e);return v.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==t&&m){const y=new Event("click",{bubbles:s});m.call(h,t),h.dispatchEvent(y)}},[l,t,s]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:o,style:{...r.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lU.displayName=Goe;function cU(n){return n?"checked":"unchecked"}var dU=iU,Yoe=oU;const hr=v.forwardRef(({className:n,...e},t)=>c.jsx(dU,{className:Q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:t,children:c.jsx(Yoe,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hr.displayName=dU.displayName;var US="Tabs",[Koe,Ale]=cs(US,[uS]),uU=uS(),[Xoe,dT]=Koe(US),hU=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,onValueChange:r,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:l="automatic",...d}=n,h=zx(o),[f,p]=Qi({prop:s,onChange:r,defaultProp:i??"",caller:US});return c.jsx(Xoe,{scope:t,baseId:di(),value:f,onValueChange:p,orientation:a,dir:h,activationMode:l,children:c.jsx(ve.div,{dir:h,"data-orientation":a,...d,ref:e})})});hU.displayName=US;var fU="TabsList",pU=v.forwardRef((n,e)=>{const{__scopeTabs:t,loop:s=!0,...r}=n,i=dT(fU,t),a=uU(t);return c.jsx(s4,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:s,children:c.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});pU.displayName=fU;var mU="TabsTrigger",gU=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,disabled:r=!1,...i}=n,a=dT(mU,t),o=uU(t),l=xU(a.baseId,s),d=wU(a.baseId,s),h=s===a.value;return c.jsx(r4,{asChild:!0,...o,focusable:!r,active:h,children:c.jsx(ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...i,ref:e,onMouseDown:te(n.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?a.onValueChange(s):f.preventDefault()}),onKeyDown:te(n.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(s)}),onFocus:te(n.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!r&&f&&a.onValueChange(s)})})})});gU.displayName=mU;var vU="TabsContent",yU=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,forceMount:r,children:i,...a}=n,o=dT(vU,t),l=xU(o.baseId,s),d=wU(o.baseId,s),h=s===o.value,f=v.useRef(h);return v.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Gn,{present:r||h,children:({present:p})=>c.jsx(ve.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:d,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});yU.displayName=vU;function xU(n,e){return`${n}-trigger-${e}`}function wU(n,e){return`${n}-content-${e}`}var Qoe=hU,bU=pU,_U=gU,SU=yU;const CU=Qoe,uT=v.forwardRef(({className:n,...e},t)=>c.jsx(bU,{ref:t,className:Q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));uT.displayName=bU.displayName;const ql=v.forwardRef(({className:n,...e},t)=>c.jsx(_U,{ref:t,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));ql.displayName=_U.displayName;const Gl=v.forwardRef(({className:n,...e},t)=>c.jsx(SU,{ref:t,className:Q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Gl.displayName=SU.displayName;function Zoe(){const[n,e]=v.useState({full_name:"",role:"lawyer",phone:"",bio:"",oab:"",specialty:"",office:""}),[t,s]=v.useState({emailNotifications:!0,deadlineReminders:!0,newDocuments:!0,caseUpdates:!0,weeklyReports:!1,gmailNotifications:!1,taskReminderTime:"09:00",appointmentReminderTime:"08:30",emailDigestTime:"18:00",weeklyReportDay:"monday",weeklyReportTime:"09:00",enableTaskReminders:!0,enableAppointmentReminders:!0,enableEmailDigest:!0,reminderAdvanceMinutes:30}),[r,i]=v.useState({twoFactorSMS:!0,encryptionKey:"****-****-****-****"}),[a,o]=v.useState({timezone:"america-sao_paulo",language:"pt-br",dateFormat:"dd-mm-yyyy",autoBackup:!0,auditLogs:!0}),[l,d]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,f]=v.useState(!1),[p,m]=v.useState(null),[y,g]=v.useState({timeSettings:!0,weeklySettings:!1});v.useEffect(()=>{_(),w()},[]);const _=async()=>{try{const{data:{user:R}}=await ai.auth.getUser();if(R){const V=await Ve.getProfile(R.id);V&&(m(V),e({id:V.id,user_id:V.user_id,full_name:V.full_name||"",role:V.role||"lawyer",avatar_url:V.avatar_url,phone:V.phone||"",bio:V.bio||"",oab:V.oab||"",specialty:V.specialty||"",office:V.office||"",created_at:V.created_at,updated_at:V.updated_at}))}}catch(R){console.error("Erro ao carregar perfil:",R),io.error("Erro ao carregar dados do perfil")}},w=()=>{const R=localStorage.getItem("notificationSettings");R&&s(JSON.parse(R));const V=localStorage.getItem("securitySettings");V&&i(JSON.parse(V));const z=localStorage.getItem("systemSettings");z&&o(JSON.parse(z))},x=R=>{const{id:V,value:z}=R.target;e($=>({...$,[V]:z}))},b=(R,V)=>{e(z=>({...z,[R]:V}))},S=(R,V)=>{s(z=>({...z,[R]:V}))},k=(R,V)=>{o(z=>({...z,[R]:V}))},j=R=>{const{id:V,value:z}=R.target;d($=>({...$,[V]:z}))},N=R=>{g(V=>({...V,[R]:!V[R]}))},P=async()=>{f(!0);try{if(p!=null&&p.id)await Ve.updateProfile(p.id,{full_name:n.full_name,role:n.role,phone:n.phone,bio:n.bio,oab:n.oab,specialty:n.specialty,office:n.office});else{const{data:{user:R}}=await ai.auth.getUser();R&&await Ve.createProfile({user_id:R.id,full_name:n.full_name,role:n.role,phone:n.phone,bio:n.bio,oab:n.oab,specialty:n.specialty,office:n.office})}io.success("Perfil salvo com sucesso!"),await _()}catch(R){console.error("Erro ao salvar perfil:",R),io.error("Erro ao salvar perfil")}finally{f(!1)}},D=()=>{f(!0),setTimeout(()=>{localStorage.setItem("notificationSettings",JSON.stringify(t)),f(!1),io.success("Configurações de notificação salvas!")},1e3)},T=()=>{f(!0),setTimeout(()=>{if(localStorage.setItem("securitySettings",JSON.stringify(r)),f(!1),l.newPassword&&l.newPassword!==l.confirmPassword){io.error("As senhas não coincidem!");return}l.newPassword&&(io.success("Senha alterada com sucesso!"),d({currentPassword:"",newPassword:"",confirmPassword:""})),io.success("Configurações de segurança salvas!")},1e3)},F=()=>{f(!0),setTimeout(()=>{localStorage.setItem("systemSettings",JSON.stringify(a)),f(!1),io.success("Configurações do sistema salvas!")},1e3)},M=()=>{const R=Math.random().toString(36).substring(2,10)+"-"+Math.random().toString(36).substring(2,10)+"-"+Math.random().toString(36).substring(2,10)+"-"+Math.random().toString(36).substring(2,10);i(V=>({...V,encryptionKey:R})),io.success("Chave de criptografia regenerada!")},U=R=>`${R} (UTC-3 São Paulo)`;return c.jsxs(ir,{title:"Configurações",breadcrumbs:[{label:"Dashboard",href:"/"},{label:"Configurações"}],children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Configurações"}),c.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Gerencie as configurações do sistema e sua conta"})]})}),c.jsxs(CU,{defaultValue:"profile",className:"space-y-4 sm:space-y-6",children:[c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsxs(uT,{className:"grid w-full min-w-[500px] grid-cols-5 h-auto p-1",children:[c.jsxs(ql,{value:"profile",className:"text-xs sm:text-sm px-2 py-2",children:[c.jsx(Xa,{className:"h-4 w-4 sm:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]}),c.jsxs(ql,{value:"notifications",className:"text-xs sm:text-sm px-2 py-2",children:[c.jsx(rk,{className:"h-4 w-4 sm:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Notificações"})]}),c.jsxs(ql,{value:"security",className:"text-xs sm:text-sm px-2 py-2",children:[c.jsx(If,{className:"h-4 w-4 sm:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Segurança"})]}),c.jsxs(ql,{value:"integrations",className:"text-xs sm:text-sm px-2 py-2",children:[c.jsx(w1,{className:"h-4 w-4 sm:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Integrações"})]}),c.jsxs(ql,{value:"system",className:"text-xs sm:text-sm px-2 py-2",children:[c.jsx(lk,{className:"h-4 w-4 sm:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Sistema"})]})]})}),c.jsxs(Gl,{value:"profile",className:"space-y-4 sm:space-y-6",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[c.jsx(Xa,{className:"h-5 w-5"}),"Informações Pessoais"]})}),c.jsxs(Ee,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"full_name",className:"text-sm font-medium",children:"Nome Completo"}),c.jsx(Ue,{id:"full_name",placeholder:"João Silva Santos",value:n.full_name,onChange:x,className:"w-full"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"phone",className:"text-sm font-medium",children:"Telefone"}),c.jsx(Ue,{id:"phone",placeholder:"(11) 99999-9999",value:n.phone,onChange:x,className:"w-full"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"bio",className:"text-sm font-medium",children:"Biografia"}),c.jsx(Ja,{id:"bio",placeholder:"Advogado especialista em...",value:n.bio,onChange:x,className:"w-full min-h-[100px] resize-y"})]}),c.jsxs(be,{onClick:P,disabled:h,className:"w-full sm:w-auto",children:[c.jsx(sg,{className:"mr-2 h-4 w-4"}),h?"Salvando...":"Salvar Alterações"]})]})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{className:"text-lg sm:text-xl",children:"Informações Profissionais"})}),c.jsxs(Ee,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"role",className:"text-sm font-medium",children:"Função"}),c.jsxs(xt,{value:n.role,onValueChange:R=>b("role",R),children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{placeholder:"Selecione sua função"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"lawyer",children:"Advogado"}),c.jsx(Y,{value:"paralegal",children:"Paralegal"}),c.jsx(Y,{value:"secretary",children:"Secretário(a)"}),c.jsx(Y,{value:"partner",children:"Sócio"}),c.jsx(Y,{value:"intern",children:"Estagiário"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"oab",className:"text-sm font-medium",children:"Número da OAB"}),c.jsx(Ue,{id:"oab",placeholder:"123456/SP",value:n.oab,onChange:x,className:"w-full"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"specialty",className:"text-sm font-medium",children:"Especialidade"}),c.jsxs(xt,{value:n.specialty,onValueChange:R=>b("specialty",R),children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{placeholder:"Selecione sua especialidade"})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"empresarial",children:"Direito Empresarial"}),c.jsx(Y,{value:"trabalhista",children:"Direito Trabalhista"}),c.jsx(Y,{value:"civil",children:"Direito Civil"}),c.jsx(Y,{value:"tributario",children:"Direito Tributário"}),c.jsx(Y,{value:"criminal",children:"Direito Criminal"}),c.jsx(Y,{value:"familia",children:"Direito de Família"}),c.jsx(Y,{value:"imobiliario",children:"Direito Imobiliário"}),c.jsx(Y,{value:"consumidor",children:"Direito do Consumidor"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"office",className:"text-sm font-medium",children:"Escritório"}),c.jsx(Ue,{id:"office",placeholder:"Silva & Associados",value:n.office,onChange:x,className:"w-full"})]}),c.jsxs(be,{onClick:P,disabled:h,className:"w-full sm:w-auto",children:[c.jsx(sg,{className:"mr-2 h-4 w-4"}),h?"Salvando...":"Salvar Alterações"]})]})]})]}),c.jsxs(Gl,{value:"notifications",className:"space-y-4 sm:space-y-6",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[c.jsx(rk,{className:"h-5 w-5"}),"Preferências de Notificação"]})}),c.jsx(Ee,{className:"space-y-4 sm:space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Notificações por Email"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Receber notificações importantes por email"})]}),c.jsx(hr,{checked:t.emailNotifications,onCheckedChange:R=>S("emailNotifications",R)})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Notificações do Gmail"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Receber notificações quando chegar novo email no Gmail"})]}),c.jsx(hr,{checked:t.gmailNotifications,onCheckedChange:R=>S("gmailNotifications",R)})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Lembretes de Prazos"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Alertas para prazos processuais importantes"})]}),c.jsx(hr,{checked:t.deadlineReminders,onCheckedChange:R=>S("deadlineReminders",R)})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Novos Documentos"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Notificar quando novos documentos forem adicionados"})]}),c.jsx(hr,{checked:t.newDocuments,onCheckedChange:R=>S("newDocuments",R)})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Atualizações de Casos"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Notificar sobre mudanças no status dos casos"})]}),c.jsx(hr,{checked:t.caseUpdates,onCheckedChange:R=>S("caseUpdates",R)})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Relatórios Semanais"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Receber resumo semanal das atividades"})]}),c.jsx(hr,{checked:t.weeklyReports,onCheckedChange:R=>S("weeklyReports",R)})]})]})})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center justify-between cursor-pointer text-lg sm:text-xl",onClick:()=>N("timeSettings"),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(xm,{className:"h-5 w-5"}),"Horários de Notificação (UTC-3 São Paulo)"]}),y.timeSettings?c.jsx(ak,{className:"h-5 w-5"}):c.jsx(f0,{className:"h-5 w-5"})]})}),y.timeSettings&&c.jsxs(Ee,{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Lembretes de Tarefas"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Ativar lembretes automáticos para tarefas"})]}),c.jsx(hr,{checked:t.enableTaskReminders,onCheckedChange:R=>S("enableTaskReminders",R)})]}),t.enableTaskReminders&&c.jsxs("div",{className:"space-y-2 pl-3",children:[c.jsx(Se,{htmlFor:"taskReminderTime",className:"text-sm font-medium",children:"Horário dos Lembretes de Tarefas"}),c.jsx(Ue,{id:"taskReminderTime",type:"time",value:t.taskReminderTime,onChange:R=>S("taskReminderTime",R.target.value),className:"w-full"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:U(t.taskReminderTime)})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Lembretes de Compromissos"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Ativar lembretes para agendamentos"})]}),c.jsx(hr,{checked:t.enableAppointmentReminders,onCheckedChange:R=>S("enableAppointmentReminders",R)})]}),t.enableAppointmentReminders&&c.jsxs("div",{className:"space-y-2 pl-3",children:[c.jsx(Se,{htmlFor:"appointmentReminderTime",className:"text-sm font-medium",children:"Horário dos Lembretes de Compromissos"}),c.jsx(Ue,{id:"appointmentReminderTime",type:"time",value:t.appointmentReminderTime,onChange:R=>S("appointmentReminderTime",R.target.value),className:"w-full"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:U(t.appointmentReminderTime)})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Resumo Diário por Email"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Receber resumo das atividades do dia"})]}),c.jsx(hr,{checked:t.enableEmailDigest,onCheckedChange:R=>S("enableEmailDigest",R)})]}),t.enableEmailDigest&&c.jsxs("div",{className:"space-y-2 pl-3",children:[c.jsx(Se,{htmlFor:"emailDigestTime",className:"text-sm font-medium",children:"Horário do Resumo Diário"}),c.jsx(Ue,{id:"emailDigestTime",type:"time",value:t.emailDigestTime,onChange:R=>S("emailDigestTime",R.target.value),className:"w-full"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:U(t.emailDigestTime)})]})]}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"reminderAdvanceMinutes",className:"text-sm font-medium",children:"Antecedência dos Lembretes"}),c.jsxs(xt,{value:t.reminderAdvanceMinutes.toString(),onValueChange:R=>S("reminderAdvanceMinutes",parseInt(R)),children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"15",children:"15 minutos antes"}),c.jsx(Y,{value:"30",children:"30 minutos antes"}),c.jsx(Y,{value:"60",children:"1 hora antes"}),c.jsx(Y,{value:"120",children:"2 horas antes"}),c.jsx(Y,{value:"1440",children:"1 dia antes"})]})]})]})})]}),t.weeklyReports&&c.jsxs("div",{className:"border-t pt-4 sm:pt-6 cursor-pointer",onClick:()=>N("weeklySettings"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"text-base sm:text-lg font-medium",children:"Configurações do Relatório Semanal"}),y.weeklySettings?c.jsx(ak,{className:"h-5 w-5"}):c.jsx(f0,{className:"h-5 w-5"})]}),y.weeklySettings&&c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"weeklyReportDay",className:"text-sm font-medium",children:"Dia da Semana"}),c.jsxs(xt,{value:t.weeklyReportDay,onValueChange:R=>S("weeklyReportDay",R),children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"monday",children:"Segunda-feira"}),c.jsx(Y,{value:"tuesday",children:"Terça-feira"}),c.jsx(Y,{value:"wednesday",children:"Quarta-feira"}),c.jsx(Y,{value:"thursday",children:"Quinta-feira"}),c.jsx(Y,{value:"friday",children:"Sexta-feira"}),c.jsx(Y,{value:"saturday",children:"Sábado"}),c.jsx(Y,{value:"sunday",children:"Domingo"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"weeklyReportTime",className:"text-sm font-medium",children:"Horário"}),c.jsx(Ue,{id:"weeklyReportTime",type:"time",value:t.weeklyReportTime,onChange:R=>S("weeklyReportTime",R.target.value),className:"w-full"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:U(t.weeklyReportTime)})]})]})]}),c.jsxs(be,{onClick:D,disabled:h,className:"w-full sm:w-auto",children:[c.jsx(sg,{className:"mr-2 h-4 w-4"}),h?"Salvando...":"Salvar Preferências"]})]})]})]}),c.jsxs(Gl,{value:"security",className:"space-y-4 sm:space-y-6",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[c.jsx(If,{className:"h-5 w-5"}),"Segurança da Conta"]})}),c.jsxs(Ee,{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"currentPassword",className:"text-sm font-medium",children:"Senha Atual"}),c.jsx(Ue,{id:"currentPassword",type:"password",value:l.currentPassword,onChange:j,className:"w-full"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"newPassword",className:"text-sm font-medium",children:"Nova Senha"}),c.jsx(Ue,{id:"newPassword",type:"password",value:l.newPassword,onChange:j,className:"w-full"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirmar Nova Senha"}),c.jsx(Ue,{id:"confirmPassword",type:"password",value:l.confirmPassword,onChange:j,className:"w-full"})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Autenticação de Dois Fatores (SMS)"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Adicionar uma camada extra de segurança"})]}),c.jsx(hr,{checked:r.twoFactorSMS,onCheckedChange:R=>i(V=>({...V,twoFactorSMS:R}))})]})]})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[c.jsx(Of,{className:"h-5 w-5"}),"Criptografia de Documentos"]})}),c.jsxs(Ee,{className:"space-y-4",children:[c.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg bg-success/5",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(If,{className:"h-4 w-4 text-success"}),c.jsx("span",{className:"text-sm sm:text-base font-medium text-success",children:"Criptografia Ativa"})]}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Todos os documentos são automaticamente criptografados com AES-256"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{className:"text-sm font-medium",children:"Chave de Criptografia"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsx(Ue,{value:r.encryptionKey,readOnly:!0,className:"flex-1"}),c.jsx(be,{variant:"outline",onClick:M,className:"w-full sm:w-auto",children:"Regenerar"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Mantenha sua chave segura. Sem ela, os documentos não podem ser descriptografados."})]})]})]}),c.jsxs(be,{onClick:T,disabled:h,className:"w-full sm:w-auto",children:[c.jsx(sg,{className:"mr-2 h-4 w-4"}),h?"Salvando...":"Salvar Configurações de Segurança"]})]}),c.jsx(Gl,{value:"integrations",className:"space-y-4 sm:space-y-6",children:c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[c.jsx(w1,{className:"h-5 w-5"}),"Integrações Disponíveis"]})}),c.jsx(Ee,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(w1,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"text-sm sm:text-base font-semibold",children:"Supabase"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Banco de dados e autenticação"})]})]}),c.jsx(jt,{variant:"outline",className:"bg-success/10 text-success self-start sm:self-center",children:"Configurado"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(wm,{className:"h-5 w-5 text-blue-500"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"text-sm sm:text-base font-semibold",children:"Gmail API"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Notificações de novos emails"})]})]}),c.jsx(jt,{variant:"outline",className:"bg-success/10 text-success self-start sm:self-center",children:"Ativo"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-accent/10 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(pH,{className:"h-5 w-5 text-accent"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"text-sm sm:text-base font-semibold",children:"API de IA"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Assistente jurídico inteligente"})]})]}),c.jsx(jt,{variant:"outline",className:"bg-warning/10 text-warning self-start sm:self-center",children:"Pendente"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-success/10 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(wm,{className:"h-5 w-5 text-success"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"text-sm sm:text-base font-semibold",children:"Email SMTP"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Serviço de envio de emails"})]})]}),c.jsx(jt,{variant:"outline",className:"bg-success/10 text-success self-start sm:self-center",children:"Configurado"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx(Ki,{className:"h-5 w-5 text-blue-500"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"text-sm sm:text-base font-semibold",children:"Sistema de Notificações"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Lembretes automáticos com timezone UTC-3"})]})]}),c.jsx(jt,{variant:"outline",className:"bg-success/10 text-success self-start sm:self-center",children:"Ativo"})]})]})})]})}),c.jsxs(Gl,{value:"system",className:"space-y-4 sm:space-y-6",children:[c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsxs(Ke,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[c.jsx(lk,{className:"h-5 w-5"}),"Configurações do Sistema"]})}),c.jsxs(Ee,{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{className:"text-sm font-medium",children:"Fuso Horário"}),c.jsxs(xt,{value:a.timezone,onValueChange:R=>k("timezone",R),children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"america-sao_paulo",children:"América/São Paulo (UTC-3)"}),c.jsx(Y,{value:"america-new_york",children:"América/Nova York (UTC-5)"}),c.jsx(Y,{value:"europe-london",children:"Europa/Londres (UTC+0)"}),c.jsx(Y,{value:"america-los_angeles",children:"América/Los Angeles (UTC-8)"})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Todas as notificações e lembretes seguirão este fuso horário"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{className:"text-sm font-medium",children:"Idioma"}),c.jsxs(xt,{value:a.language,onValueChange:R=>k("language",R),children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"pt-br",children:"Português (Brasil)"}),c.jsx(Y,{value:"en-us",children:"English (US)"}),c.jsx(Y,{value:"es-es",children:"Español"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{className:"text-sm font-medium",children:"Formato de Data"}),c.jsxs(xt,{value:a.dateFormat,onValueChange:R=>k("dateFormat",R),children:[c.jsx(ht,{className:"w-full",children:c.jsx(wt,{})}),c.jsxs(ft,{children:[c.jsx(Y,{value:"dd-mm-yyyy",children:"DD/MM/YYYY"}),c.jsx(Y,{value:"mm-dd-yyyy",children:"MM/DD/YYYY"}),c.jsx(Y,{value:"yyyy-mm-dd",children:"YYYY-MM-DD"})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Backup Automático"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Realizar backup diário dos dados"})]}),c.jsx(hr,{checked:a.autoBackup,onCheckedChange:R=>k("autoBackup",R)})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-sm sm:text-base font-medium",children:"Logs de Auditoria"}),c.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Registrar todas as ações do sistema"})]}),c.jsx(hr,{checked:a.auditLogs,onCheckedChange:R=>k("auditLogs",R)})]})]}),c.jsxs(be,{onClick:F,disabled:h,className:"w-full sm:w-auto",children:[c.jsx(sg,{className:"mr-2 h-4 w-4"}),h?"Salvando...":"Salvar Configurações do Sistema"]})]})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{className:"text-lg sm:text-xl",children:"Informações do Sistema"})}),c.jsx(Ee,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[c.jsxs("div",{children:[c.jsx(Se,{className:"text-xs sm:text-sm font-medium",children:"Versão"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"v2.0.0"})]}),c.jsxs("div",{children:[c.jsx(Se,{className:"text-xs sm:text-sm font-medium",children:"Última Atualização"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"11/09/2025"})]}),c.jsxs("div",{children:[c.jsx(Se,{className:"text-xs sm:text-sm font-medium",children:"Ambiente"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Produção"})]}),c.jsxs("div",{children:[c.jsx(Se,{className:"text-xs sm:text-sm font-medium",children:"Uptime"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"99.9%"})]}),c.jsxs("div",{children:[c.jsx(Se,{className:"text-xs sm:text-sm font-medium",children:"Timezone Ativo"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"UTC-3 (São Paulo)"})]}),c.jsxs("div",{children:[c.jsx(Se,{className:"text-xs sm:text-sm font-medium",children:"Notificações"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Ativas"})]})]})})]})]})]})]})}const Joe=()=>{const n=Ih();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function ele(){const[n,e]=v.useState(!1),[t,s]=v.useState(""),[r,i]=v.useState(""),[a,o]=v.useState(""),l=Px(),{toast:d}=or(),h=async p=>{p.preventDefault(),e(!0);try{const{error:m}=await ge.auth.signInWithPassword({email:t,password:r});m?d({title:"Erro no login",description:m.message,variant:"destructive"}):(d({title:"Login realizado",description:"Bem-vindo ao sistema!"}),l("/"))}catch{d({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}finally{e(!1)}},f=async p=>{p.preventDefault(),e(!0);try{const{error:m}=await ge.auth.signUp({email:t,password:r,options:{data:{full_name:a},emailRedirectTo:`${window.location.origin}/`}});d(m?{title:"Erro no cadastro",description:m.message,variant:"destructive"}:{title:"Cadastro realizado",description:"Verifique seu email para confirmar a conta"})}catch{d({title:"Erro",description:"Ocorreu um erro inesperado",variant:"destructive"})}finally{e(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary/20",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(cd,{className:"h-8 w-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"LawFirm"})]})}),c.jsx("p",{className:"text-muted-foreground",children:"Sistema de Gestão para Escritórios de Advocacia"})]}),c.jsxs(Ce,{children:[c.jsx(Oe,{children:c.jsx(Ke,{className:"text-center",children:"Acesso ao Sistema"})}),c.jsx(Ee,{children:c.jsxs(CU,{defaultValue:"signin",className:"w-full",children:[c.jsxs(uT,{className:"grid w-full grid-cols-2",children:[c.jsx(ql,{value:"signin",children:"Entrar"}),c.jsx(ql,{value:"signup",children:"Cadastrar"})]}),c.jsx(Gl,{value:"signin",children:c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(wm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(Ue,{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:p=>s(p.target.value),className:"pl-10",required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"password",children:"Senha"}),c.jsxs("div",{className:"relative",children:[c.jsx(Of,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(Ue,{id:"password",type:"password",placeholder:"Sua senha",value:r,onChange:p=>i(p.target.value),className:"pl-10",required:!0})]})]}),c.jsx(be,{type:"submit",className:"w-full",disabled:n,children:n?"Entrando...":"Entrar"})]})}),c.jsx(Gl,{value:"signup",children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"fullName",children:"Nome Completo"}),c.jsxs("div",{className:"relative",children:[c.jsx(Xa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(Ue,{id:"fullName",type:"text",placeholder:"Seu nome completo",value:a,onChange:p=>o(p.target.value),className:"pl-10",required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"signup-email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(wm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(Ue,{id:"signup-email",type:"email",placeholder:"seu@email.com",value:t,onChange:p=>s(p.target.value),className:"pl-10",required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Se,{htmlFor:"signup-password",children:"Senha"}),c.jsxs("div",{className:"relative",children:[c.jsx(Of,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(Ue,{id:"signup-password",type:"password",placeholder:"Mínimo 6 caracteres",value:r,onChange:p=>i(p.target.value),className:"pl-10",minLength:6,required:!0})]})]}),c.jsx(be,{type:"submit",className:"w-full",disabled:n,children:n?"Cadastrando...":"Cadastrar"})]})})]})})]})]})})}const tle=new Vq,nle=()=>c.jsx(Wq,{client:tle,children:c.jsx(sL,{children:c.jsxs(uK,{children:[c.jsx(ZH,{}),c.jsx(TW,{}),c.jsx(WG,{children:c.jsxs(FG,{children:[c.jsx(ur,{path:"/auth",element:c.jsx(ele,{})}),c.jsx(ur,{path:"/",element:c.jsx(aa,{children:c.jsx(Ree,{})})}),c.jsx(ur,{path:"/clients",element:c.jsx(aa,{children:c.jsx(Ene,{})})}),c.jsx(ur,{path:"/cases",element:c.jsx(aa,{children:c.jsx(iae,{})})}),c.jsx(ur,{path:"/cases/:id",element:c.jsx(aa,{children:c.jsx(oae,{})})}),c.jsx(ur,{path:"/documents",element:c.jsx(aa,{children:c.jsx(loe,{})})}),c.jsx(ur,{path:"/calendar",element:c.jsx(aa,{children:c.jsx(hoe,{})})}),c.jsx(ur,{path:"/ai-assistant",element:c.jsx(aa,{children:c.jsx(Toe,{})})}),c.jsx(ur,{path:"/tasks",element:c.jsx(aa,{children:c.jsx(Uoe,{})})}),c.jsx(ur,{path:"/reports",element:c.jsx(aa,{children:c.jsx(Voe,{})})}),c.jsx(ur,{path:"/settings",element:c.jsx(aa,{children:c.jsx(Zoe,{})})}),c.jsx(ur,{path:"*",element:c.jsx(Joe,{})})]})})]})})});FO(document.getElementById("root")).render(c.jsx(nle,{}));
